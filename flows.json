[
    {
        "id": "7119d5927b25a580",
        "type": "tab",
        "label": "Home Assistant",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7d74b0c161f17740",
        "type": "tab",
        "label": "DashBoard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ada916479fb34c9b",
        "type": "tab",
        "label": "Whatsapp",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c859e23eb133d12b",
        "type": "tab",
        "label": "LoRa",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "291ed776b1a44ede",
        "type": "tab",
        "label": "Receive Data",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e8287d7944e724f7",
        "type": "tab",
        "label": "Postgress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3c1ed78bc6df6cbd",
        "type": "subflow",
        "name": "MQTT",
        "info": "Recebimento de mensagens via MQTT\n\n---\n\n# **Input**\n> `` Nenhum``\n\n---\n\n# **Output**\n>  ``payload`` com mengem recebida via MQTT\n\n---\n\n",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 1130,
                "y": 780,
                "wires": [
                    {
                        "id": "119f2f93adb8552d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#CA69F5",
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1080,
            "y": 840,
            "wires": [
                {
                    "id": "2fe173a7cb0a2a40",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "d85720db46554979",
        "type": "subflow",
        "name": "Tratamento da mensagem",
        "info": "Tratamento das mensagens de acordo com o topico que foi cadastrada\n\n---\n\n\n# **Input**\n> ``payloads`` em sequencia de mensagem.\n\n---\n\n\n# **Output**\n>  ``payload`` com a junção das demais mensagens de acordo com o topico da mensagem.\n\n---",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "da0851086569fc3a"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1070,
                "y": 820,
                "wires": [
                    {
                        "id": "0ea7eda264f5cec1",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {
            "author": "arthurcoelho442@gmail.com",
            "license": "Apache-2.0"
        },
        "color": "#E2D96E",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1020,
            "y": 760,
            "wires": [
                {
                    "id": "facec851db25aa60",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "96676db9a2f887ed",
        "type": "subflow",
        "name": "Formatação",
        "info": "Formata as mensagens de acordo com o nome das colunas do banco de dados.\n\n---\n\n\n# **Input**\n\n> ``payload`` contendo a mensagem a ser formatada\n\n---\n\n# **Output**\n\n> ``payload`` contendo a mensagem formadata, com adição de medições\n\n---",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "f8e788f202e28034"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 710,
                "y": 700,
                "wires": [
                    {
                        "id": "fd8388a6b3562965",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "zerar",
                "type": "bool",
                "value": "false",
                "ui": {
                    "icon": "font-awesome/fa-trash",
                    "label": {
                        "en-US": "Zerar contador"
                    },
                    "type": "checkbox"
                }
            }
        ],
        "meta": {},
        "color": "#FDD0A2",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 660,
            "y": 760,
            "wires": [
                {
                    "id": "2c63b29beb296212",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "38d792f0bb10ea75",
        "type": "subflow",
        "name": "Sincronismo Medições",
        "info": "Atualiza o banco remoto com os dados locais que não foram feitos upload.\n\n---\n\n\n# **Input**\n> Qualquer ``msg`` para iniciar a verificação\n---\n\n\n# **Output**\n> ``Nenhum``\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "b90ae6871374bdb7"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1140,
            "y": 1560,
            "wires": [
                {
                    "id": "8b608e41ee328872",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "ba2e913aeb86a3ea",
        "type": "subflow",
        "name": "Sincronismo Local",
        "info": "Sincroniza as tabelas locais com as tabelas remotas para manter atualização de dados cadastrais\n\n---\n\n\n# **Input**\n> Qualquer ``msg`` para indicar sincronismo\n---\n\n\n# **Output**\n> ``Nenhuma``\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "57511990dabf0fdd"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1220,
            "y": 4360,
            "wires": [
                {
                    "id": "3ad75db1d1e689f2",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "669b2c5a031c1ea8",
        "type": "subflow",
        "name": "Verifica cadastro",
        "info": "Verifica se o mqtt_id do usuario da mensagem esta cadastrado no banco.\n\n---\n\n# **Input**\n> ``msg.payload`` contendo a mensagem e suas respectivas informações.\n---\n\n# **Output**\n> ``msg.payload`` contendo a mensagem, caso o mqtt_id exista e ``Nada`` caso não exista.\n---",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 200,
                "wires": [
                    {
                        "id": "1b6f6d598dd77a2c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1170,
                "y": 680,
                "wires": [
                    {
                        "id": "37cd65d5cb164006",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DA0A5D",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1120,
            "y": 620,
            "wires": [
                {
                    "id": "6027f5ee6457bff5",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "34a182d43462f44e",
        "type": "subflow",
        "name": "phase",
        "info": "Adiciona a phase da medição no objeto do ``msg.payload.``\n\n---\n\n\n# **Input**\n> ``msg.payload`` object a ser adicionado a ``phase``.\n---\n\n\n# **Output**\n> ``msg.payload`` contendo a phase adicionada.\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "cf1501f639a22e09"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 870,
                "y": 640,
                "wires": [
                    {
                        "id": "e93d0d47e2e97002",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#f9ea13",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.plauload"
        ],
        "status": {
            "x": 820,
            "y": 580,
            "wires": [
                {
                    "id": "024d69ffae70bb43",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "09685600d012d69f",
        "type": "subflow",
        "name": "Sincronismo tamanho banco local",
        "info": "Recebe via ``payload`` a quantidade de dias que o banco deve manter armazanado de dados, os dados mais antigos que ultrapasam essa quantidade são apagados.\n\n---\n\n\n# **Input**\n> ``msg.payload`` indicando a quantidade de dias.\n\n---\n\n\n# **Output**\n> ``Nada``",
        "category": "",
        "in": [
            {
                "x": 130,
                "y": 200,
                "wires": [
                    {
                        "id": "9de51b97c7e82fbe"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 1140,
            "y": 840,
            "wires": [
                {
                    "id": "3d4416342cc7ba80",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "f74e1af5aec31631",
        "type": "subflow",
        "name": "Cria Instancia",
        "info": "Cria a instancia das medições segundo o topico\n\n---\n\n# **Input**\n>Recebe o ``msg.payload`` contendo os dados da medição.\n---\n\n\n# **Output**\n>``msg.payload`` contendo a instancia criada.\n---\n\n",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 200,
                "wires": [
                    {
                        "id": "34446c17128d3e27"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 890,
                "y": 740,
                "wires": [
                    {
                        "id": "d23c3bb417f0e578",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#A52A2A",
        "inputLabels": [
            "msg.payload"
        ],
        "outputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 840,
            "y": 800,
            "wires": [
                {
                    "id": "9252ff4dd2bc68b5",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "d48fb9af316b0fe2",
        "type": "subflow",
        "name": "Envio ao banco",
        "info": "Envia os dados das medições ao banco local e ao banco remoto.\n---\n\n\n# **Input**\n>``msg.payload`` contendo a instaciação do Postgresql.\n---\n\n# **Output**\n>``Nenhum``.\n---\n",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 200,
                "wires": [
                    {
                        "id": "78f9a562fec4fcc1"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#227ac7",
        "inputLabels": [
            "msg.payload"
        ],
        "status": {
            "x": 680,
            "y": 500,
            "wires": [
                {
                    "id": "5d43614299a5b76d",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "e83a4a9578dffbb9",
        "type": "group",
        "z": "09685600d012d69f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3d4416342cc7ba80",
            "cbd92a9404646671",
            "f2c4303acede0f49",
            "3065cbbcf25013fd",
            "e446abe020d042ad",
            "49029129029e0331"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "dca8bc654adbbf02",
        "type": "group",
        "z": "96676db9a2f887ed",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fd8388a6b3562965",
            "2c63b29beb296212",
            "62780e20954084d0",
            "70d701831511dd80",
            "58e8ea5634e5a59c",
            "26d3a3ef0cd6942c",
            "5e9a61f501a537ae"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "8d913cb2ad803019",
        "type": "group",
        "z": "669b2c5a031c1ea8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6027f5ee6457bff5",
            "37cd65d5cb164006",
            "548a7071933c632c",
            "6a8629d966bc8d0e",
            "596a5810aa7c9486",
            "5d1828b78c891a98"
        ],
        "x": 24,
        "y": 19
    },
    {
        "id": "0592eb0f2887c3ea",
        "type": "group",
        "z": "34a182d43462f44e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "024d69ffae70bb43",
            "e93d0d47e2e97002",
            "bed7b3a0f177126a",
            "725e348fb3d326eb",
            "7d093e4c3e197c6a",
            "b2e99b61aad2d359"
        ],
        "x": 14,
        "y": 19,
        "w": 742,
        "h": 668
    },
    {
        "id": "4f3abbcb43bb4e2e",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2fe173a7cb0a2a40",
            "119f2f93adb8552d",
            "0372f041345ff56b",
            "07617004c325cdb0",
            "606bc7cf5600faf4",
            "4e6d0bcfdddd096b"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "cc9e6cb2286922e2",
        "type": "group",
        "z": "d85720db46554979",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "facec851db25aa60",
            "0ea7eda264f5cec1",
            "67d25ef121d15f94",
            "a0a062d88e115230",
            "7a08cb8df76eb516",
            "3d8914ac828c48e7",
            "87a810e83bc732ce"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "4bbb49ad40394687",
        "type": "group",
        "z": "f74e1af5aec31631",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d23c3bb417f0e578",
            "9252ff4dd2bc68b5",
            "c20466e9245989df",
            "ba05562c85557e0e",
            "2eccd0e346715923",
            "a08702cd6d20b021",
            "e130368244133b83"
        ],
        "x": 34,
        "y": 19,
        "w": 738,
        "h": 828
    },
    {
        "id": "96613fce14ad40a8",
        "type": "group",
        "z": "291ed776b1a44ede",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e952eb37e4e75b49",
            "19b0b2dff6e05607",
            "20cbcb56ccfe438a",
            "31018fb90686d6e0"
        ],
        "x": 14,
        "y": 19,
        "w": 678,
        "h": 408
    },
    {
        "id": "3c18d8686a88df81",
        "type": "group",
        "z": "d48fb9af316b0fe2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5d43614299a5b76d",
            "d4b0135a0a32e5c5",
            "e57930d954bad51a",
            "af5ab425cf03c631",
            "f65d3aa1e4cfc455"
        ],
        "x": 14,
        "y": 19,
        "w": 602,
        "h": 768
    },
    {
        "id": "8d259b92e5c57f37",
        "type": "group",
        "z": "e8287d7944e724f7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7e8e57be847ffa64",
            "a103f22c7ee8d82d",
            "10821c84251bd152",
            "1c1ece291a498e9c",
            "98457142acc80c09",
            "69ec59095e3f8d2e"
        ],
        "x": 14,
        "y": 19,
        "w": 818,
        "h": 674
    },
    {
        "id": "89a4ae0a1259ce03",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8b608e41ee328872",
            "38653289be348284",
            "d7f7f53f51e446ae",
            "52c66abdf3919c1f",
            "158a0e6425e5cae7",
            "464dd04fd59b4416",
            "d9a0266626dfcca2",
            "e0919e2a7130b098"
        ],
        "x": 14,
        "y": 19,
        "w": 1062,
        "h": 1588
    },
    {
        "id": "eaafc316090ff166",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ad75db1d1e689f2",
            "2853a7f0ee76f7f1",
            "498764931f4b71aa",
            "a8c438ba71c0a43f",
            "53383e8862e9b803",
            "84114652054927ee",
            "14955f02aa0317be",
            "e7f10f45daeaf688",
            "240bcd834eb33cf7",
            "f41dbc6febc7f940",
            "5a6ed92c41528bb0",
            "cee982dc38904cdb",
            "c3167a56125bb451",
            "a1f79c2e32ad7c7a",
            "af65b1cf913c581f",
            "27233bf2b30dc86e",
            "28709fc7768f4c7f",
            "709f9014691197e8",
            "4a661830d296a9f8",
            "408c191f95cb3007",
            "ce6090e7bcceefed",
            "f56b1859406935eb"
        ],
        "x": 14,
        "y": 19,
        "w": 1142,
        "h": 4388
    },
    {
        "id": "67d25ef121d15f94",
        "type": "group",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "da0851086569fc3a",
            "abc1cc7f685db311",
            "d68cc4b4aa5992ee",
            "8927e4ccf542999d",
            "5bc332cef7bd68dd",
            "f69a606546d046ad",
            "ded64dc9bb848911",
            "a221c8c45108dded",
            "c4cfe5adfe1318c2",
            "c1afce0e69e05272"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "0372f041345ff56b",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "00ae605e067a75c3",
            "f947e220e412adfe",
            "4c0c6dfcc390f93f"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "07617004c325cdb0",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d79888a1a7530cc3",
            "5bb329c128359845",
            "88b47616b03f1c45",
            "590970c68ed4e141",
            "0bf1c5dd8f255c1b",
            "0123b886a978d9a2"
        ],
        "x": 54,
        "y": 539
    },
    {
        "id": "606bc7cf5600faf4",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "54329becedc46d4e",
            "c3388ba8d5261934",
            "3f208d081046dd57",
            "57cf3c526ee8f1d9"
        ],
        "x": 54,
        "y": 719
    },
    {
        "id": "a0a062d88e115230",
        "type": "group",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "60bdd308296943ef",
            "7a8f749828a1f658",
            "9dadcaaf455341da",
            "dc6a1f322af6636c",
            "e25b402cd2b1be3f",
            "059a8b0edfc718f5",
            "261d0fc0d3cb6869",
            "2b409d0b8bba51cc",
            "4204ca863fb0bc35"
        ],
        "x": 54,
        "y": 319
    },
    {
        "id": "7a08cb8df76eb516",
        "type": "group",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b805d4cd38d09b54",
            "0f22977e34f796a8",
            "9d063926b6edf5b8",
            "87e724c87e97dc97"
        ],
        "x": 54,
        "y": 539
    },
    {
        "id": "3d8914ac828c48e7",
        "type": "group",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a0a25e1f9e7fab40",
            "6ba7d76b06f3bb18",
            "10ce0b5af640d9b6",
            "a3e283b23edc1f7f"
        ],
        "x": 54,
        "y": 699
    },
    {
        "id": "62780e20954084d0",
        "type": "group",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d346f2eddf89fe35",
            "9d96d3d9dc737cc2",
            "fd0f5e17797176b6",
            "09a3f46dd176e808"
        ],
        "x": 54,
        "y": 639
    },
    {
        "id": "70d701831511dd80",
        "type": "group",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b5a171c979c1d14e",
            "bf124cdbf4ec0574",
            "f8e788f202e28034"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "58e8ea5634e5a59c",
        "type": "group",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cec395bda2b21416",
            "b1ee4f14f7ef77d7",
            "6df9804a629c0736",
            "ced64b0b61ea785b"
        ],
        "x": 54,
        "y": 259
    },
    {
        "id": "26d3a3ef0cd6942c",
        "type": "group",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c06bba404e4a2fc9",
            "d64a1c0cf361fa3a",
            "b438ff76cfc8718b",
            "4b0889ab965ab6c9",
            "678d7a8aa9bf1cb0",
            "8e6b524a8fa26f7b"
        ],
        "x": 54,
        "y": 419
    },
    {
        "id": "498764931f4b71aa",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "199e644b24cd4bf6",
            "57511990dabf0fdd",
            "96973cfa9742df19"
        ],
        "x": 54,
        "y": 99,
        "w": 412,
        "h": 142
    },
    {
        "id": "a8c438ba71c0a43f",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3494d54734219a7b",
            "d9cfe2db2cbf39b8",
            "8dfaa3f341d5e07a",
            "c6c8aa73f182ec79",
            "863707bb5969f727",
            "cbed0e82daa4b5c2",
            "3683bba1512eac8e",
            "8d31d33e2b2cf7d0",
            "105b7358fbc1c293",
            "e58fa1f7bf9f8550",
            "4ba1e29a17d4625b"
        ],
        "x": 54,
        "y": 259,
        "w": 1072,
        "h": 202
    },
    {
        "id": "53383e8862e9b803",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0bf4651d4e56a56b",
            "8b4486b003ad5a08",
            "d74dffa819f73129",
            "aa4df2b0c9be27fb",
            "f38f73a0807dea09",
            "37b33a3af2fa229a",
            "c4b96ca4567898b7",
            "36a3c65ede18d2b4",
            "e7ae012fb740437f",
            "f2da1fd75e931b7e",
            "75b0e13e9d5d6173"
        ],
        "x": 54,
        "y": 479,
        "w": 1072,
        "h": 202
    },
    {
        "id": "84114652054927ee",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5a37981b0b87b961",
            "77078a94b857b81a",
            "d9470f58dda5f7f6",
            "df797988d7880a2b",
            "34ba41834fd95c6b",
            "afdbc99d43bb27f5",
            "dfb1adba836ad9e6",
            "1ce1672975a9f72d",
            "d68a4f3dd5f19318",
            "45d280528d1b4dfb",
            "8e0de14dbdc7e36c"
        ],
        "x": 54,
        "y": 699,
        "w": 1072,
        "h": 202
    },
    {
        "id": "14955f02aa0317be",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0d0fecc4674660ee",
            "e96c6d7de056a037",
            "a09a5266c9e37d51",
            "d29e247425cbdb63",
            "faa72f60ef9d9df2",
            "661212b02ba49f94",
            "2b834e99891304f6",
            "67a1237aa8db2ef2",
            "6348c31f7f2bfb2d",
            "e41ae0e97c146b1b",
            "cb34236a415a64dd"
        ],
        "x": 54,
        "y": 919,
        "w": 1072,
        "h": 202
    },
    {
        "id": "e7f10f45daeaf688",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2ff47e269ff48676",
            "06c64d2de231457c",
            "6ef3a8c904a76653",
            "d01f398fa34b84e6",
            "9885143b467005f6",
            "12aa5d3c1d213bd8",
            "0993cd6b4bfe5004",
            "55d44e3a3b6f493a",
            "185960da8a687a4a",
            "baf49d39bd3ee603",
            "9af565314439fc4e"
        ],
        "x": 54,
        "y": 1139,
        "w": 1072,
        "h": 202
    },
    {
        "id": "240bcd834eb33cf7",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3574797015d06eb5",
            "74f2197c46a4d769",
            "bdae3c5d2cd207a4",
            "b04e027a31b064c9",
            "19f131d66998204e",
            "34d669944dc1f7f2",
            "e3703559fb072572",
            "08d5038231a82483",
            "41a4c53907b5c19d",
            "45a377a11782d233",
            "4aa12f5df2e22995"
        ],
        "x": 54,
        "y": 1359,
        "w": 1072,
        "h": 202
    },
    {
        "id": "f41dbc6febc7f940",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "75e023ec7e8f678d",
            "585fa84d4c3c4361",
            "db0bab0fa0b144aa",
            "b4b3a554c667d7e1",
            "f9907a4c8664da93",
            "29f1b1a375decdf7",
            "b2add571b6f01571",
            "68c2dd9382fd801d",
            "31fbc94b9d23015e",
            "60c0196dac07acd0",
            "ca76449609927f3a"
        ],
        "x": 54,
        "y": 1579,
        "w": 1072,
        "h": 202
    },
    {
        "id": "5a6ed92c41528bb0",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dd0fb0d9cbc16793",
            "c55b71d9d827d067",
            "f6dd27d11911b50d",
            "08dcb778c9b18567",
            "05c2a5a4b19c7178",
            "5f29b20bf80ee470",
            "a93ac6f89eb0111a",
            "1e3e8e8b79c1d1b1",
            "7e5fe880dca3e2fd",
            "41813233a6d071d4",
            "2ecea0a103eac8af"
        ],
        "x": 54,
        "y": 1799,
        "w": 1072,
        "h": 202
    },
    {
        "id": "cee982dc38904cdb",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "97a29af29ac8edf1",
            "57d123bbbf53a3cb",
            "7b3746bebb7df33a",
            "5b43441a062d39c1",
            "66307c3131656cb7",
            "dc228697b531e804",
            "ab0ce47ba2fbdaf0",
            "d28711ca27a38fcf",
            "61914e2fd7f502c5",
            "f59ee851ac87408c",
            "0f55a45b5d4722e1"
        ],
        "x": 54,
        "y": 2019,
        "w": 1072,
        "h": 202
    },
    {
        "id": "c3167a56125bb451",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "93edf3e6f07d6b91",
            "9266b41126b33bbf",
            "b51f05f0ecc233c2",
            "4f3b0d9df6295b5c",
            "ea3f55e2ec5df622",
            "bd536c0efcc1ce0f",
            "b192aebf24178f75",
            "ceab5f64bb45b087",
            "ee1510fe381fadc0",
            "00ca827320aae9c5",
            "93df8599ad612ec7"
        ],
        "x": 54,
        "y": 2239,
        "w": 1072,
        "h": 222
    },
    {
        "id": "a1f79c2e32ad7c7a",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bd93b4160da4b12c",
            "38b0657361fac77c",
            "34ea2652bc0a5b44",
            "2331fbeea812d459",
            "85d264a5ba2b6485",
            "a5948414b1be5f3e",
            "bf814a7a27f37484",
            "c2e208e816e1214d",
            "450a060d68a4a777",
            "e4d6f9e89bbcd44d",
            "2027e5a5f226d68c"
        ],
        "x": 54,
        "y": 2479,
        "w": 1072,
        "h": 202
    },
    {
        "id": "af65b1cf913c581f",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "09e1e99bd9d147c0",
            "ac2cd110c9be6da2",
            "5fdf34eb607cf650",
            "3ca2129672293fa0",
            "e0b3c97216fd707f",
            "b988e95f22835ab2",
            "d73e12e0b0355aee",
            "4eb69295d4e3be47",
            "25d36a95bd6dd971",
            "66ec5ed4cb722966",
            "9188e3a48d2a39be"
        ],
        "x": 54,
        "y": 2699,
        "w": 1072,
        "h": 202
    },
    {
        "id": "27233bf2b30dc86e",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "925a7c6ea1991a36",
            "6a1095d6d83ef0be",
            "9cd3914a5e266d1f",
            "02b8ea4440e61265",
            "7ea589c7b65673ad",
            "d5a5c383b89a0ced",
            "4ee0c7b002fbb548",
            "d637ab39ad04abc3",
            "63a8e8e085645b8e",
            "045414f91dce6ae4",
            "36e393322517e0b9"
        ],
        "x": 54,
        "y": 2919,
        "w": 1072,
        "h": 202
    },
    {
        "id": "28709fc7768f4c7f",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "117c66decf94ec8c",
            "e2cf07307d051814",
            "089d3b8db42feef7",
            "e59714b709552c49",
            "f8169c93d1e5d4e5",
            "f9b8ac18eb652e46",
            "a3f6dfe87e844341",
            "1dbcec2c2e281356",
            "ba1f6f85a3e0a3ae",
            "862164126c05c25e",
            "42b2aefe8a793e53"
        ],
        "x": 54,
        "y": 3139,
        "w": 1072,
        "h": 202
    },
    {
        "id": "709f9014691197e8",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c6b85b8c2ea6269e",
            "1148323450d0ef31",
            "ce7641387fce5d30",
            "99814e0e6070de17",
            "efd8b31e831d9b30",
            "019f5dfdcb3403e7",
            "52df786888e644ba",
            "4212ca74f6fe6925",
            "0dd509c586513054",
            "f975190a66586231",
            "2819e3062c0ec390"
        ],
        "x": 54,
        "y": 3359,
        "w": 1072,
        "h": 202
    },
    {
        "id": "4a661830d296a9f8",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "195c1eca51232af3",
            "2e260f6caf91062e",
            "8ddad3cfeac2b761",
            "1d20f0ee74f579c9",
            "9a861f0e620d0c43",
            "1fc7984f3151b51e",
            "4272d6c7aae0211d",
            "d06c2278f6cdc2f2",
            "c0015dc0ad46558c",
            "880905616bfab06a",
            "0266a853038f15ee"
        ],
        "x": 54,
        "y": 3579,
        "w": 1072,
        "h": 202
    },
    {
        "id": "408c191f95cb3007",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "302c4a48e6208894",
            "8115d6131ec3fd07",
            "1ecd0e844e8ebbfd",
            "51f727f4ce50e655",
            "3fa80df9d8c14e81",
            "5c4bec19b5308a36",
            "78171c7cd75b5db7",
            "6063254271dbe2f8",
            "5189d37b1e1e6fe9",
            "84307d43b1d7dc6d",
            "cd564a67b7af70f5"
        ],
        "x": 54,
        "y": 3799,
        "w": 1072,
        "h": 202
    },
    {
        "id": "ce6090e7bcceefed",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "024e41e4f2951211",
            "8fc69f1a4a55cbad",
            "27236b7cd8520630",
            "4b54f36dc2249de7"
        ],
        "x": 54,
        "y": 4239,
        "w": 402,
        "h": 142
    },
    {
        "id": "f56b1859406935eb",
        "type": "group",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f5a1ee040838f147",
            "618bc920dedea369",
            "dc3b128908422624",
            "53e88746ad15d7a1",
            "d04604ecc6637529",
            "d9dfd6334355e3e0"
        ],
        "x": 54,
        "y": 4019,
        "w": 472,
        "h": 202
    },
    {
        "id": "38653289be348284",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5ca774a4d33c0fba",
            "9471e4779f43eb3c",
            "8bd6b463771616ba",
            "d15eb528c28e6139"
        ],
        "x": 54,
        "y": 1439,
        "w": 412,
        "h": 142
    },
    {
        "id": "d7f7f53f51e446ae",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dcc7c6f584808cce",
            "a1b1a252b0cc604a",
            "23c4238d8da6f334",
            "b1febcc17f2ba6b1",
            "d5483a424d414257"
        ],
        "x": 54,
        "y": 979,
        "w": 452,
        "h": 162
    },
    {
        "id": "52c66abdf3919c1f",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "301f2387b25b93af",
            "5663471d35a0a438",
            "040b6a5ede07d37a",
            "223a8fb3cb27d07e",
            "b8b248e6b297058e",
            "0b99cc1ba6a3202f",
            "4146eef348897bce",
            "7cde3c8cc618c4eb",
            "ed47f52f20f57955",
            "441dbeac497bb1ff",
            "6d8a9ccc15e60714",
            "ba1f97dd5f403313",
            "be14cabbd64c811e",
            "f76fa885a509d2e0",
            "96fa5cf7aa72ad84",
            "70b196f4f67d2827",
            "5e4cafb618979765",
            "ecfe55630da4601a",
            "49df46e372d3ac33",
            "0551cf9e18d8a383",
            "9d02f39318aa5afe",
            "4a30e1429a444611",
            "5ab8c0a121cf0e58",
            "ce589cab12b8ce60",
            "177c08d34f1153ed",
            "154fce6204d9f514",
            "923afcad2bcd1102",
            "5e9ad062dca474c0"
        ],
        "x": 54,
        "y": 519,
        "w": 992,
        "h": 442
    },
    {
        "id": "158a0e6425e5cae7",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "60eba1ac8cba197f",
            "4223025006862c0e",
            "9bfc3d9edad16b68",
            "6538a4b173a5b436",
            "9c6a67c176b9f31b",
            "56cbc3bbb98268cc",
            "bbb55af31e6c49f6"
        ],
        "x": 54,
        "y": 319,
        "w": 992,
        "h": 182
    },
    {
        "id": "464dd04fd59b4416",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b90ae6871374bdb7",
            "ae74f218ba897a49",
            "3f5d5d3ffcad0736",
            "24e96c97224f79ff",
            "b3e2fc3270a2c04d",
            "b4fb6f59c5be0484"
        ],
        "x": 54,
        "y": 99,
        "w": 812,
        "h": 202
    },
    {
        "id": "d9a0266626dfcca2",
        "type": "group",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "96c098e745d45eec",
            "52f6103e391cc962",
            "786bc2d4f569466a",
            "f4a4d0a6a0b35a18",
            "552eb00e07d89be4",
            "c1aa58e4fcedb135",
            "9a514889a0e81e0a",
            "0295006cf57005dc"
        ],
        "x": 54,
        "y": 1159,
        "w": 472,
        "h": 262
    },
    {
        "id": "548a7071933c632c",
        "type": "group",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f59098eaab85aa86",
            "63be16eb2652b1e9",
            "8584e919515c1a46",
            "95fc96bd3ac5a932",
            "7c1258d1b0d8e2bb",
            "2de6760cdaf7f833"
        ],
        "x": 74,
        "y": 519
    },
    {
        "id": "6a8629d966bc8d0e",
        "type": "group",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7002636ddb30f910",
            "82cb70c003e87435",
            "eaa563ef1aa3827a",
            "d33356dcd168fc2a",
            "b76ef466ac9a7e3a",
            "1249f497fea1a35d"
        ],
        "x": 74,
        "y": 299
    },
    {
        "id": "596a5810aa7c9486",
        "type": "group",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3056ee4b1311ad3b",
            "7cd8f04c0521442b",
            "1b6f6d598dd77a2c",
            "60d5acd974e6fbff",
            "34283419f9ffbc0e",
            "857d65bc5c3a4532",
            "18a9e0b0fa31c882"
        ],
        "x": 74,
        "y": 99
    },
    {
        "id": "a103f22c7ee8d82d",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "51f69b1bdc9a3ec2",
            "deff96f79e54b357",
            "cd20082090c4089f",
            "02e1108f9f5494c7"
        ],
        "x": 54,
        "y": 99,
        "w": 412,
        "h": 142
    },
    {
        "id": "bed7b3a0f177126a",
        "type": "group",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3b2cf9c3afe2d376",
            "4688b5952e4cb207",
            "1bdf45fec5432b9b",
            "684991e42840bd1e",
            "18a6cb4f095a87ac",
            "d9c1878b7171502d"
        ],
        "x": 54,
        "y": 259,
        "w": 472,
        "h": 202
    },
    {
        "id": "725e348fb3d326eb",
        "type": "group",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "03cfbf557929fd45",
            "c6f3631ee7fefa52",
            "109e2447e3fa82be",
            "f91a7fb0598247fb",
            "c25702fb47b0c93f"
        ],
        "x": 54,
        "y": 479,
        "w": 412,
        "h": 182
    },
    {
        "id": "7d093e4c3e197c6a",
        "type": "group",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "720e202d330234e9",
            "cf1501f639a22e09",
            "f12517394d74bd51",
            "6c4792f058f9c526",
            "7cd6bda2b53deacc"
        ],
        "x": 54,
        "y": 99,
        "w": 672,
        "h": 142
    },
    {
        "id": "10821c84251bd152",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2ff7790cc95546a4",
            "f6ee5a147509f8a7",
            "c36938b99c6ef84d"
        ],
        "x": 54,
        "y": 259,
        "w": 252,
        "h": 142
    },
    {
        "id": "cbd92a9404646671",
        "type": "group",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ec21d3efa2d6bffe",
            "613c357d84c4b290",
            "2d5d45d995cd7950",
            "f28f5b07b82ad25f"
        ],
        "x": 54,
        "y": 519
    },
    {
        "id": "f2c4303acede0f49",
        "type": "group",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9db4360617f953d5",
            "31c44d9fc3345bf2",
            "6765db85280605b0",
            "bfbc8fe938c7db9b",
            "1b7087b411242447"
        ],
        "x": 54,
        "y": 679
    },
    {
        "id": "3065cbbcf25013fd",
        "type": "group",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9de51b97c7e82fbe",
            "dc3a7d349708e2d6",
            "d03225ab40bd9df1",
            "abb99e0ee5a4a3ac",
            "844943af8c7d4e73",
            "ef5798fc2f337728",
            "1b881169df1b0798"
        ],
        "x": 54,
        "y": 99
    },
    {
        "id": "e446abe020d042ad",
        "type": "group",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b500129a5f3786f8",
            "202c19416b01f73a",
            "36c8241b8f5485ed",
            "5dba1dd7f8ef9f37",
            "802c2f6560b5c23b",
            "692ad4797710b201"
        ],
        "x": 54,
        "y": 319
    },
    {
        "id": "c20466e9245989df",
        "type": "group",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ca0e1bef333232dd",
            "d58b119412aca71c",
            "c84ed8b822984453",
            "b6e02291ae67bdb6"
        ],
        "x": 74,
        "y": 519,
        "w": 402,
        "h": 142
    },
    {
        "id": "ba05562c85557e0e",
        "type": "group",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "46142d271d11c1b1",
            "d52dac65f46168b2",
            "7655d507feebce3a",
            "c87e99b5c4590a7e",
            "a00453562aaf80c5",
            "1e32a1581432b5b5"
        ],
        "x": 74,
        "y": 299,
        "w": 472,
        "h": 202
    },
    {
        "id": "2eccd0e346715923",
        "type": "group",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1fb89f693a1cc156",
            "cf4ec4ad0b3238d1",
            "7bab0adbcf4249c9"
        ],
        "x": 74,
        "y": 679,
        "w": 352,
        "h": 142
    },
    {
        "id": "a08702cd6d20b021",
        "type": "group",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "21aa61e535f67716",
            "34446c17128d3e27",
            "453064c635bce4af",
            "b0bd82357acc1a58",
            "90f3aa363caf5125",
            "32f85d54cb02d364"
        ],
        "x": 74,
        "y": 99,
        "w": 672,
        "h": 182
    },
    {
        "id": "1c1ece291a498e9c",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fd6966f62c5f4377",
            "a1a28835cc78a456"
        ],
        "x": 314,
        "y": 259,
        "w": 232,
        "h": 142
    },
    {
        "id": "e952eb37e4e75b49",
        "type": "group",
        "z": "291ed776b1a44ede",
        "g": "96613fce14ad40a8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "facbed0f0a5fe6b9",
            "66bddab12845b26a"
        ],
        "x": 54,
        "y": 99,
        "w": 212,
        "h": 142
    },
    {
        "id": "19b0b2dff6e05607",
        "type": "group",
        "z": "291ed776b1a44ede",
        "g": "96613fce14ad40a8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e20599524b513292",
            "e27ab5b3074da3e9",
            "af3c1905ae0804ed"
        ],
        "x": 274,
        "y": 99,
        "w": 392,
        "h": 142
    },
    {
        "id": "20cbcb56ccfe438a",
        "type": "group",
        "z": "291ed776b1a44ede",
        "g": "96613fce14ad40a8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f3269ecc3813a185",
            "47b9d30aaa63a251",
            "636b8d437d27c1ae",
            "088f26f8580eb077"
        ],
        "x": 54,
        "y": 259,
        "w": 372,
        "h": 142
    },
    {
        "id": "98457142acc80c09",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b7ae2ba514a725d7",
            "7545bc9af9735841"
        ],
        "x": 54,
        "y": 419,
        "w": 568,
        "h": 248
    },
    {
        "id": "d4b0135a0a32e5c5",
        "type": "group",
        "z": "d48fb9af316b0fe2",
        "g": "3c18d8686a88df81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e3368e6fc8d73969",
            "0510464a8dac459a",
            "b6711c456bb8c1b7",
            "fa6b3a1cf7951082",
            "9b89966f66391a78",
            "c416f21d38081a48",
            "b37bc3c8d8340d6f"
        ],
        "x": 54,
        "y": 539,
        "w": 532,
        "h": 222
    },
    {
        "id": "e57930d954bad51a",
        "type": "group",
        "z": "d48fb9af316b0fe2",
        "g": "3c18d8686a88df81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f64565d0614bd4d9",
            "eb8ac13e75487dce",
            "7f0a1ca5317c64f2",
            "e80b87d89c140237",
            "9e824dc92c233e92",
            "12225f8d5beaf555"
        ],
        "x": 54,
        "y": 319,
        "w": 432,
        "h": 202
    },
    {
        "id": "af5ab425cf03c631",
        "type": "group",
        "z": "d48fb9af316b0fe2",
        "g": "3c18d8686a88df81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "78f9a562fec4fcc1",
            "a0a5d9ac3de89d35",
            "3be5c77014fb982e",
            "dcb2b688e929459f",
            "2d7925ba24b17ddc",
            "151e541e6b2f0125"
        ],
        "x": 54,
        "y": 99,
        "w": 492,
        "h": 202
    },
    {
        "id": "69ec59095e3f8d2e",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "be7050e23063ac3f",
            "efcc528c06ac65c3"
        ],
        "x": 554,
        "y": 259,
        "w": 252,
        "h": 142
    },
    {
        "id": "f947e220e412adfe",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "0372f041345ff56b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d2ab753d8990c917",
            "3780a621e1676780",
            "384a23cf46f3ecba",
            "3829aec4c323c5ce",
            "234edab9ccee349a",
            "47cf208a6e77ebea",
            "104af077a29300d7"
        ],
        "x": 94,
        "y": 179
    },
    {
        "id": "4c0c6dfcc390f93f",
        "type": "group",
        "z": "3c1ed78bc6df6cbd",
        "g": "0372f041345ff56b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bef4051a82cbf4bc",
            "9efba4e0ab0cc2a5"
        ],
        "x": 94,
        "y": 359
    },
    {
        "id": "7545bc9af9735841",
        "type": "group",
        "z": "e8287d7944e724f7",
        "g": "98457142acc80c09",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "37b3107ac0c0715b",
            "be4493f2c2f75c3e",
            "20bafe5cc7c9ba94"
        ],
        "x": 94,
        "y": 499,
        "w": 502,
        "h": 142
    },
    {
        "id": "8b30735b63615ae7",
        "type": "mqtt-broker",
        "name": "Raspbarry",
        "broker": "10.145.5.209",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "de1301db201cde6d",
        "type": "mqtt-broker",
        "name": "Medidor de Energia",
        "broker": "10.145.5.179",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "fc6bd11bac1af11f",
        "type": "postgreSQLConfig",
        "name": "NOCS",
        "host": "nocs_solucoes.postgresql.dbaas.com.br",
        "hostFieldType": "str",
        "port": "5432",
        "portFieldType": "num",
        "database": "nocs_solucoes",
        "databaseFieldType": "str",
        "ssl": "false",
        "sslFieldType": "bool",
        "applicationName": "",
        "applicationNameType": "str",
        "max": "10",
        "maxFieldType": "num",
        "idle": "1000",
        "idleFieldType": "num",
        "connectionTimeout": "10000",
        "connectionTimeoutFieldType": "num",
        "user": "nocs_solucoes",
        "userFieldType": "str",
        "password": "nocsPass257@#",
        "passwordFieldType": "str"
    },
    {
        "id": "410522af87089496",
        "type": "postgresdb",
        "cfgname": "NOCS",
        "hostname": "nocs_solucoes.postgresql.dbaas.com.br",
        "port": "5432",
        "db": "nocs_solucoes",
        "ssl": false
    },
    {
        "id": "2a911f79a93f391d",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#cc0000",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#cc0000",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#cc0000",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#ff1a1a",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#cc0000",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "a69e510073b1e244",
        "type": "ui_tab",
        "name": "Dispositivo 01",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a298966aa1d32b7a",
        "type": "ui_tab",
        "name": "Dispositivo 02",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8d5821d35c2d330f",
        "type": "ui_group",
        "name": "Gráficos",
        "tab": "a298966aa1d32b7a",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a4a51d2a6b08e863",
        "type": "ui_group",
        "name": "Gráficos",
        "tab": "a69e510073b1e244",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8f9b3699bea7278c",
        "type": "ui_tab",
        "name": "Dispositivo 03",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6a2620f23525088d",
        "type": "ui_group",
        "name": "Gráficos",
        "tab": "8f9b3699bea7278c",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e3ef033ab390569e",
        "type": "ui_group",
        "name": "Botão",
        "tab": "8f9b3699bea7278c",
        "order": 2,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "991a2840523a4942",
        "type": "xterm_config",
        "rows": 60,
        "columns": 120,
        "cursorStyle": "bar",
        "fastScrollModifier": "alt",
        "scrollSensitivity": 1,
        "fastScrollSensitivity": 1,
        "scrollback": 1000,
        "backgroundColor": "#000000",
        "foregroundColor": "#ffffff",
        "fontSize": 14,
        "cursorBlink": true,
        "drawBoldTextInBrightColors": true,
        "loggingEnabled": false,
        "name": "spacer"
    },
    {
        "id": "0158b251386fa0d0",
        "type": "ui_spacer",
        "z": "7d74b0c161f17740",
        "name": "spacer",
        "group": "8d5821d35c2d330f",
        "order": 3,
        "width": "1",
        "height": "21"
    },
    {
        "id": "8e3298efb51f0f8f",
        "type": "whatsapp-kore-client",
        "d": true,
        "session": "node-red",
        "agent": "Reister Module",
        "version": "2, 2228, 8",
        "storage": "/home/pi/.node-red/data/whatsapp"
    },
    {
        "id": "482759366011ae73",
        "type": "lorawan-keys",
        "name": "",
        "keys": "{\"id\":{\"nsw\":\"\",\"asw\":\"\"}}"
    },
    {
        "id": "a6bb2e793fa809e6",
        "type": "mqtt-broker",
        "name": "LoRa",
        "broker": "10.145.5.155",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "f3a8cd803cbddc27",
        "type": "postgresdb",
        "cfgname": "Local",
        "hostname": "postgres",
        "port": "5432",
        "db": "nocs_solucoes",
        "ssl": false
    },
    {
        "id": "f5b4451dc02a9205",
        "type": "postgreSQLConfig",
        "name": "Local",
        "host": "postgres",
        "hostFieldType": "str",
        "port": "5432",
        "portFieldType": "num",
        "database": "nocs_solucoes",
        "databaseFieldType": "str",
        "ssl": "false",
        "sslFieldType": "bool",
        "applicationName": "",
        "applicationNameType": "str",
        "max": "10",
        "maxFieldType": "num",
        "idle": "1000",
        "idleFieldType": "num",
        "connectionTimeout": "10000",
        "connectionTimeoutFieldType": "num",
        "user": "postgres",
        "userFieldType": "str",
        "password": "postgres",
        "passwordFieldType": "str"
    },
    {
        "id": "b7aa1ca21fe563d0",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "a4a51d2a6b08e863",
        "order": 3,
        "width": "20",
        "height": "1"
    },
    {
        "id": "f4dc8b0774f2d4da",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "a4a51d2a6b08e863",
        "order": 1,
        "width": "1",
        "height": "21"
    },
    {
        "id": "17099d43fd449143",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "8d5821d35c2d330f",
        "order": 1,
        "width": "1",
        "height": "21"
    },
    {
        "id": "b3e7e575bbb8e622",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "a4a51d2a6b08e863",
        "order": 5,
        "width": "22",
        "height": "1"
    },
    {
        "id": "5394ea551b45cc53",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "8d5821d35c2d330f",
        "order": 5,
        "width": "22",
        "height": "1"
    },
    {
        "id": "2f1df168a1a0caea",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "6a2620f23525088d",
        "order": 1,
        "width": "1",
        "height": "18"
    },
    {
        "id": "cce3e745bc58dc07",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "6a2620f23525088d",
        "order": 3,
        "width": "10",
        "height": "1"
    },
    {
        "id": "d837c2438177e590",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "6a2620f23525088d",
        "order": 7,
        "width": "10",
        "height": "1"
    },
    {
        "id": "0b27814a0f82a39d",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "6a2620f23525088d",
        "order": 5,
        "width": "10",
        "height": "1"
    },
    {
        "id": "525eb634281e895b",
        "type": "ui_spacer",
        "z": "291ed776b1a44ede",
        "name": "spacer",
        "group": "6a2620f23525088d",
        "order": 1,
        "width": "10",
        "height": "1"
    },
    {
        "id": "9efba4e0ab0cc2a5",
        "type": "mqtt in",
        "z": "3c1ed78bc6df6cbd",
        "g": "4c0c6dfcc390f93f",
        "name": "Lora",
        "topic": "application/2/device/7d3504d07ed5b370/event/up",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "a6bb2e793fa809e6",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "47cf208a6e77ebea",
        "type": "aedes broker",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "",
        "mqtt_port": 1883,
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 230,
        "y": 280,
        "wires": [
            [],
            [
                "234edab9ccee349a"
            ]
        ]
    },
    {
        "id": "234edab9ccee349a",
        "type": "switch",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "Não nulos",
        "property": "payload.client",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 420,
        "y": 280,
        "wires": [
            [
                "3829aec4c323c5ce"
            ]
        ]
    },
    {
        "id": "384a23cf46f3ecba",
        "type": "switch",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "Existe dados",
        "property": "payload.packet.payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 790,
        "y": 280,
        "wires": [
            [
                "d2ab753d8990c917",
                "3780a621e1676780"
            ]
        ]
    },
    {
        "id": "3829aec4c323c5ce",
        "type": "switch",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "Esta conectado",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 280,
        "wires": [
            [
                "384a23cf46f3ecba"
            ]
        ]
    },
    {
        "id": "54329becedc46d4e",
        "type": "catch",
        "z": "3c1ed78bc6df6cbd",
        "g": "606bc7cf5600faf4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 820,
        "wires": [
            [
                "3f208d081046dd57"
            ]
        ]
    },
    {
        "id": "104af077a29300d7",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "Modulos comerciais",
        "info": "",
        "x": 210,
        "y": 220,
        "wires": []
    },
    {
        "id": "bef4051a82cbf4bc",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "4c0c6dfcc390f93f",
        "name": "Modulos PMM",
        "info": "",
        "x": 190,
        "y": 400,
        "wires": []
    },
    {
        "id": "d2ab753d8990c917",
        "type": "link out",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "status",
        "mode": "link",
        "links": [
            "5bb329c128359845"
        ],
        "x": 925,
        "y": 300,
        "wires": []
    },
    {
        "id": "00ae605e067a75c3",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "0372f041345ff56b",
        "name": "Recebimento",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "c3388ba8d5261934",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "606bc7cf5600faf4",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 760,
        "wires": []
    },
    {
        "id": "d79888a1a7530cc3",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 580,
        "wires": []
    },
    {
        "id": "5bb329c128359845",
        "type": "link in",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "status",
        "links": [
            "d2ab753d8990c917"
        ],
        "x": 115,
        "y": 640,
        "wires": [
            [
                "590970c68ed4e141"
            ]
        ]
    },
    {
        "id": "88b47616b03f1c45",
        "type": "template",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "Conectado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Conectado",
        "output": "str",
        "x": 390,
        "y": 620,
        "wires": [
            [
                "0123b886a978d9a2"
            ]
        ]
    },
    {
        "id": "590970c68ed4e141",
        "type": "switch",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 640,
        "wires": [
            [
                "88b47616b03f1c45"
            ],
            [
                "0bf1c5dd8f255c1b"
            ]
        ]
    },
    {
        "id": "0bf1c5dd8f255c1b",
        "type": "template",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "Desconectado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Desconectado",
        "output": "str",
        "x": 400,
        "y": 660,
        "wires": [
            [
                "0123b886a978d9a2"
            ]
        ]
    },
    {
        "id": "2fe173a7cb0a2a40",
        "type": "link in",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "name": "status out",
        "links": [
            "0123b886a978d9a2",
            "57cf3c526ee8f1d9"
        ],
        "x": 975,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "0123b886a978d9a2",
        "type": "link out",
        "z": "3c1ed78bc6df6cbd",
        "g": "07617004c325cdb0",
        "name": "status out",
        "mode": "link",
        "links": [
            "2fe173a7cb0a2a40"
        ],
        "x": 545,
        "y": 620,
        "wires": []
    },
    {
        "id": "119f2f93adb8552d",
        "type": "link in",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "name": "out 1",
        "links": [
            "3780a621e1676780"
        ],
        "x": 975,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "3780a621e1676780",
        "type": "link out",
        "z": "3c1ed78bc6df6cbd",
        "g": "f947e220e412adfe",
        "name": "out 1",
        "mode": "link",
        "links": [
            "119f2f93adb8552d"
        ],
        "x": 925,
        "y": 260,
        "wires": []
    },
    {
        "id": "3f208d081046dd57",
        "type": "template",
        "z": "3c1ed78bc6df6cbd",
        "g": "606bc7cf5600faf4",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 820,
        "wires": [
            [
                "57cf3c526ee8f1d9"
            ]
        ]
    },
    {
        "id": "57cf3c526ee8f1d9",
        "type": "link out",
        "z": "3c1ed78bc6df6cbd",
        "g": "606bc7cf5600faf4",
        "name": "status out",
        "mode": "link",
        "links": [
            "2fe173a7cb0a2a40"
        ],
        "x": 425,
        "y": 820,
        "wires": []
    },
    {
        "id": "4e6d0bcfdddd096b",
        "type": "comment",
        "z": "3c1ed78bc6df6cbd",
        "g": "4f3abbcb43bb4e2e",
        "name": "MQTT",
        "info": "",
        "x": 90,
        "y": 60,
        "wires": []
    },
    {
        "id": "da0851086569fc3a",
        "type": "json",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "",
        "property": "payload.packet.payload",
        "action": "",
        "pretty": false,
        "x": 230,
        "y": 200,
        "wires": [
            [
                "abc1cc7f685db311"
            ]
        ]
    },
    {
        "id": "abc1cc7f685db311",
        "type": "change",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Formatação",
        "rules": [
            {
                "t": "set",
                "p": "payload.id",
                "pt": "msg",
                "to": "payload.client.id",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.topic",
                "pt": "msg",
                "to": "payload.packet.topic",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.variable",
                "pt": "msg",
                "to": "payload.packet.payload.variable",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.value",
                "pt": "msg",
                "to": "payload.packet.payload.value",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.unit",
                "pt": "msg",
                "to": "payload.packet.payload.unit",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload.packet",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.client",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 200,
        "wires": [
            [
                "d68cc4b4aa5992ee"
            ]
        ]
    },
    {
        "id": "d68cc4b4aa5992ee",
        "type": "json",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 550,
        "y": 200,
        "wires": [
            [
                "f69a606546d046ad"
            ]
        ]
    },
    {
        "id": "8927e4ccf542999d",
        "type": "comment",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Formatação",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "5bc332cef7bd68dd",
        "type": "link out",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Indentificação de Topico",
        "mode": "link",
        "links": [
            "059a8b0edfc718f5"
        ],
        "x": 755,
        "y": 260,
        "wires": []
    },
    {
        "id": "f69a606546d046ad",
        "type": "change",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Filtro",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": ",\"value\":",
                "fromt": "str",
                "to": ":",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "},{",
                "fromt": "str",
                "to": ",",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"P\"",
                "fromt": "str",
                "to": "\"active_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PA\"",
                "fromt": "str",
                "to": "\"active_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PB\"",
                "fromt": "str",
                "to": "\"active_power_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PC\"",
                "fromt": "str",
                "to": "\"active_power_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"Q\"",
                "fromt": "str",
                "to": "\"reactive_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"QA\"",
                "fromt": "str",
                "to": "\"reactive_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"QB\"",
                "fromt": "str",
                "to": "\"reactive_power_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"QC\"",
                "fromt": "str",
                "to": "\"reactive_power_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"S\"",
                "fromt": "str",
                "to": "\"apparent_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"SA\"",
                "fromt": "str",
                "to": "\"apparent_power_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"SB\"",
                "fromt": "str",
                "to": "\"apparent_power_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"SC\"",
                "fromt": "str",
                "to": "\"apparent_power_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"U\"",
                "fromt": "str",
                "to": "\"voltage_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"UA\"",
                "fromt": "str",
                "to": "\"voltage_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"UB\"",
                "fromt": "str",
                "to": "\"voltage_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"UC\"",
                "fromt": "str",
                "to": "\"voltage_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"I\"",
                "fromt": "str",
                "to": "\"current_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"IA\"",
                "fromt": "str",
                "to": "\"current_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"IB\"",
                "fromt": "str",
                "to": "\"current_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"IC\"",
                "fromt": "str",
                "to": "\"current_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PF\"",
                "fromt": "str",
                "to": "\"power_factor_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PFA\"",
                "fromt": "str",
                "to": "\"power_factor_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PFB\"",
                "fromt": "str",
                "to": "\"power_factor_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PFC\"",
                "fromt": "str",
                "to": "\"power_factor_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PGA\"",
                "fromt": "str",
                "to": "\"voltage_current_angle_A\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PGB\"",
                "fromt": "str",
                "to": "\"voltage_current_angle_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"PGC\"",
                "fromt": "str",
                "to": "\"voltage_current_angle_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"YUAUB\"",
                "fromt": "str",
                "to": "\"angle_voltage_A_B\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"YUAUC\"",
                "fromt": "str",
                "to": "\"angle_voltage_A_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"YUBUC\"",
                "fromt": "str",
                "to": "\"angle_voltage_B_C\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"TPSD\"",
                "fromt": "str",
                "to": "\"temperature\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\"variable\":\"FREQ\"",
                "fromt": "str",
                "to": "\"frequency\"",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": ",\"variable\":",
                "fromt": "str",
                "to": ",",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 200,
        "wires": [
            [
                "a221c8c45108dded"
            ]
        ]
    },
    {
        "id": "ded64dc9bb848911",
        "type": "change",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Remoção",
        "rules": [
            {
                "t": "delete",
                "p": "payload.unit",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EP",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EPA",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EPB",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EPC",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EPT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EQ",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EQA",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EQB",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EQC",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.EQT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.PFT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.PT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.QT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.ST",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.IT",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.UT",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "c4cfe5adfe1318c2"
            ]
        ]
    },
    {
        "id": "a221c8c45108dded",
        "type": "json",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Recuperação",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 170,
        "y": 260,
        "wires": [
            [
                "ded64dc9bb848911"
            ]
        ]
    },
    {
        "id": "c4cfe5adfe1318c2",
        "type": "function",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "Seleção",
        "func": "var tamanho = 0;\nfor (var i in msg.payload)\n    if (msg.payload.hasOwnProperty(i))\n        tamanho++;\n\nif (tamanho > 2)\n    return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 260,
        "wires": [
            [
                "c1afce0e69e05272"
            ]
        ]
    },
    {
        "id": "c1afce0e69e05272",
        "type": "json",
        "z": "d85720db46554979",
        "g": "67d25ef121d15f94",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "5bc332cef7bd68dd"
            ]
        ]
    },
    {
        "id": "a0a25e1f9e7fab40",
        "type": "catch",
        "z": "d85720db46554979",
        "g": "3d8914ac828c48e7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 800,
        "wires": [
            [
                "10ce0b5af640d9b6"
            ]
        ]
    },
    {
        "id": "6ba7d76b06f3bb18",
        "type": "comment",
        "z": "d85720db46554979",
        "g": "3d8914ac828c48e7",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 740,
        "wires": []
    },
    {
        "id": "2b409d0b8bba51cc",
        "type": "json",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "Recuperação",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 440,
        "wires": [
            [
                "4204ca863fb0bc35"
            ]
        ]
    },
    {
        "id": "261d0fc0d3cb6869",
        "type": "change",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "Junção",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "},{",
                "fromt": "str",
                "to": ",",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 440,
        "wires": [
            [
                "2b409d0b8bba51cc"
            ]
        ]
    },
    {
        "id": "4204ca863fb0bc35",
        "type": "link out",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "out 1",
        "mode": "link",
        "links": [
            "0ea7eda264f5cec1"
        ],
        "x": 895,
        "y": 440,
        "wires": []
    },
    {
        "id": "60bdd308296943ef",
        "type": "switch",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "Indentificação fase",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "\"topic\":\"Monofasico\"",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "\"topic\":\"Bifasico\"",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "\"topic\":\"Trifasico\"",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 270,
        "y": 440,
        "wires": [
            [
                "7a8f749828a1f658"
            ],
            [],
            [
                "dc6a1f322af6636c"
            ]
        ]
    },
    {
        "id": "7a8f749828a1f658",
        "type": "join",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 450,
        "y": 400,
        "wires": [
            [
                "261d0fc0d3cb6869"
            ]
        ]
    },
    {
        "id": "9dadcaaf455341da",
        "type": "join",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "13",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 450,
        "y": 440,
        "wires": [
            [
                "261d0fc0d3cb6869"
            ]
        ]
    },
    {
        "id": "dc6a1f322af6636c",
        "type": "join",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "26",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 450,
        "y": 480,
        "wires": [
            [
                "261d0fc0d3cb6869"
            ]
        ]
    },
    {
        "id": "e25b402cd2b1be3f",
        "type": "comment",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "Indentificação de Topico e junção",
        "info": "",
        "x": 210,
        "y": 360,
        "wires": []
    },
    {
        "id": "059a8b0edfc718f5",
        "type": "link in",
        "z": "d85720db46554979",
        "g": "a0a062d88e115230",
        "name": "Indentificação de Topico",
        "links": [
            "5bc332cef7bd68dd"
        ],
        "x": 115,
        "y": 440,
        "wires": [
            [
                "60bdd308296943ef"
            ]
        ]
    },
    {
        "id": "b805d4cd38d09b54",
        "type": "complete",
        "z": "d85720db46554979",
        "g": "7a08cb8df76eb516",
        "name": "",
        "scope": [
            "2b409d0b8bba51cc"
        ],
        "uncaught": false,
        "x": 170,
        "y": 640,
        "wires": [
            [
                "0f22977e34f796a8"
            ]
        ]
    },
    {
        "id": "0f22977e34f796a8",
        "type": "template",
        "z": "d85720db46554979",
        "g": "7a08cb8df76eb516",
        "name": "processando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "processando",
        "output": "str",
        "x": 350,
        "y": 640,
        "wires": [
            [
                "9d063926b6edf5b8"
            ]
        ]
    },
    {
        "id": "facec851db25aa60",
        "type": "link in",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "name": "status",
        "links": [
            "9d063926b6edf5b8",
            "a3e283b23edc1f7f"
        ],
        "x": 905,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "9d063926b6edf5b8",
        "type": "link out",
        "z": "d85720db46554979",
        "g": "7a08cb8df76eb516",
        "name": "status",
        "mode": "link",
        "links": [
            "facec851db25aa60"
        ],
        "x": 475,
        "y": 640,
        "wires": []
    },
    {
        "id": "87e724c87e97dc97",
        "type": "comment",
        "z": "d85720db46554979",
        "g": "7a08cb8df76eb516",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 580,
        "wires": []
    },
    {
        "id": "10ce0b5af640d9b6",
        "type": "template",
        "z": "d85720db46554979",
        "g": "3d8914ac828c48e7",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 800,
        "wires": [
            [
                "a3e283b23edc1f7f"
            ]
        ]
    },
    {
        "id": "a3e283b23edc1f7f",
        "type": "link out",
        "z": "d85720db46554979",
        "g": "3d8914ac828c48e7",
        "name": "status avisos",
        "mode": "link",
        "links": [
            "facec851db25aa60"
        ],
        "x": 415,
        "y": 800,
        "wires": []
    },
    {
        "id": "0ea7eda264f5cec1",
        "type": "link in",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "name": "out 1",
        "links": [
            "4204ca863fb0bc35"
        ],
        "x": 905,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "87a810e83bc732ce",
        "type": "comment",
        "z": "d85720db46554979",
        "g": "cc9e6cb2286922e2",
        "name": "Tratamento",
        "info": "",
        "x": 110,
        "y": 60,
        "wires": []
    },
    {
        "id": "b5a171c979c1d14e",
        "type": "comment",
        "z": "96676db9a2f887ed",
        "g": "70d701831511dd80",
        "name": "Tratamento dos dados",
        "info": "",
        "x": 180,
        "y": 140,
        "wires": []
    },
    {
        "id": "bf124cdbf4ec0574",
        "type": "link out",
        "z": "96676db9a2f887ed",
        "g": "70d701831511dd80",
        "name": "out 1",
        "mode": "link",
        "links": [
            "6df9804a629c0736",
            "fd8388a6b3562965"
        ],
        "x": 385,
        "y": 200,
        "wires": []
    },
    {
        "id": "f8e788f202e28034",
        "type": "function",
        "z": "96676db9a2f887ed",
        "g": "70d701831511dd80",
        "name": "Formatação",
        "func": "\n/*current*/\n/*A*/\nif (typeof msg.payload.current_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.current_A)) {\n        let sf = (\"\" + (\"\" + msg.payload.current_A).split('.')[1]).length\n        msg.payload.current_A = Math.trunc(msg.payload.current_A * Math.pow(10, sf))\n        msg.payload.current_A_sf = -1 * sf\n    } else\n        msg.payload.current_A_sf = 0\n}\n/*B*/\nif (typeof msg.payload.current_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.current_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.current_B).split('.')[1]).length\n        msg.payload.current_B = Math.trunc(msg.payload.current_B * Math.pow(10, sf))\n        msg.payload.current_B_sf = -1 * sf\n    } else\n        msg.payload.current_B_sf = 0\n}\n/*C*/\nif (typeof msg.payload.current_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.current_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.current_C).split('.')[1]).length\n        msg.payload.current_C = Math.trunc(msg.payload.current_C * Math.pow(10, sf))\n        msg.payload.current_C_sf = -1 * sf\n    } else\n        msg.payload.current_C_sf = 0\n}\n\n/*voltage*/\n/*A*/\nif (typeof msg.payload.voltage_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_A)){\n        let sf = (\"\" + (\"\" + msg.payload.voltage_A).split('.')[1]).length\n        msg.payload.voltage_A = Math.trunc(msg.payload.voltage_A * Math.pow(10, sf))\n        msg.payload.voltage_A_sf = -1 * sf\n    }else\n        msg.payload.voltage_A_sf = 0\n}\n/*B*/\nif (typeof msg.payload.voltage_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.voltage_B).split('.')[1]).length\n        msg.payload.voltage_B = Math.trunc(msg.payload.voltage_B * Math.pow(10, sf))\n        msg.payload.voltage_B_sf = -1 * sf\n    } else\n        msg.payload.voltage_B_sf = 0\n}\n/*C*/\nif (typeof msg.payload.voltage_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.voltage_C).split('.')[1]).length\n        msg.payload.voltage_C = Math.trunc(msg.payload.voltage_C * Math.pow(10, sf))\n        msg.payload.voltage_C_sf = -1 * sf\n    } else\n        msg.payload.voltage_C_sf = 0\n}\n\n/*voltage_current_angle*/\n/*A*/\nif (typeof msg.payload.voltage_current_angle_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_current_angle_A)) {\n        let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_A).split('.')[1]).length\n        msg.payload.voltage_current_angle_A = Math.trunc(msg.payload.voltage_current_angle_A * Math.pow(10, sf))\n        msg.payload.voltage_current_angle_A_sf = -1 * sf\n    } else\n        msg.payload.voltage_current_angle_A_sf = 0\n}else if (typeof msg.payload.current_A != \"undefined\"){\n    msg.payload.voltage_current_angle_A = ((Math.acos(msg.payload.power_factor_A) * 180) / Math.PI).toFixed(3)\n    \n    let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_A).split('.')[1]).length\n    msg.payload.voltage_current_angle_A = Math.trunc(msg.payload.voltage_current_angle_A * Math.pow(10, sf))\n    msg.payload.voltage_current_angle_A_sf = -1 * sf\n} \n/*B*/\nif (typeof msg.payload.voltage_current_angle_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_current_angle_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_B).split('.')[1]).length\n        msg.payload.voltage_current_angle_B = Math.trunc(msg.payload.voltage_current_angle_B * Math.pow(10, sf))\n        msg.payload.voltage_current_angle_B_sf = -1 * sf\n    } else\n        msg.payload.voltage_current_angle_B_sf = 0\n} else if (typeof msg.payload.current_B != \"undefined\") {\n    msg.payload.voltage_current_angle_B = ((Math.acos(msg.payload.power_factor_B) * 180) / Math.PI).toFixed(3)\n\n    let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_B).split('.')[1]).length\n    msg.payload.voltage_current_angle_B = Math.trunc(msg.payload.voltage_current_angle_B * Math.pow(10, sf))\n    msg.payload.voltage_current_angle_B_sf = -1 * sf\n} \n/*C*/\nif (typeof msg.payload.voltage_current_angle_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.voltage_current_angle_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_C).split('.')[1]).length\n        msg.payload.voltage_current_angle_C = Math.trunc(msg.payload.voltage_current_angle_C * Math.pow(10, sf))\n        msg.payload.voltage_current_angle_C_sf = -1 * sf\n    } else\n        msg.payload.voltage_current_angle_C_sf = 0\n} else if (typeof msg.payload.current_C != \"undefined\") {\n    msg.payload.voltage_current_angle_C = ((Math.acos(msg.payload.power_factor_C) * 180) / Math.PI).toFixed(3)\n\n    let sf = (\"\" + (\"\" + msg.payload.voltage_current_angle_C).split('.')[1]).length\n    msg.payload.voltage_current_angle_C = Math.trunc(msg.payload.voltage_current_angle_C * Math.pow(10, sf))\n    msg.payload.voltage_current_angle_C_sf = -1 * sf\n} \n\n/*active_power*/\n/*A*/\nif (typeof msg.payload.active_power_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.active_power_A)) {\n        let sf = (\"\" + (\"\" + msg.payload.active_power_A).split('.')[1]).length\n        msg.payload.active_power_A = Math.trunc(msg.payload.active_power_A * Math.pow(10, sf))\n        msg.payload.active_power_A_sf = -1 * sf\n    } else\n        msg.payload.active_power_A_sf = 0\n} else if (typeof msg.payload.current_A != \"undefined\"){\n    msg.payload.active_power_A = msg.payload.current_A * msg.payload.voltage_A * Math.trunc(msg.payload.power_factor_A*100)\n    msg.payload.active_power_A_sf = msg.payload.current_A_sf + msg.payload.voltage_A_sf - 2\n}\n/*B*/\nif (typeof msg.payload.active_power_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.active_power_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.active_power_B).split('.')[1]).length\n        msg.payload.active_power_B = Math.trunc(msg.payload.active_power_B * Math.pow(10, sf))\n        msg.payload.active_power_B_sf = -1 * sf\n    } else\n        msg.payload.active_power_B_sf = 0\n} else if (typeof msg.payload.current_B != \"undefined\") {\n    msg.payload.active_power_B = msg.payload.current_B * msg.payload.voltage_B * Math.trunc(msg.payload.power_factor_B * 100)\n    msg.payload.active_power_B_sf = msg.payload.current_B_sf + msg.payload.voltage_B_sf - 2\n}\n/*C*/\nif (typeof msg.payload.active_power_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.active_power_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.active_power_C).split('.')[1]).length\n        msg.payload.active_power_C = Math.trunc(msg.payload.active_power_C * Math.pow(10, sf))\n        msg.payload.active_power_C_sf = -1 * sf\n    } else\n        msg.payload.active_power_C_sf = 0\n} else if (typeof msg.payload.current_C != \"undefined\") {\n    msg.payload.active_power_C = msg.payload.current_C * msg.payload.voltage_C * Math.trunc(msg.payload.power_factor_C * 100)\n    msg.payload.active_power_C_sf = msg.payload.current_C_sf + msg.payload.voltage_C_sf - 2\n}\n\n/*apparent_power*/\n/*A*/\nif (typeof msg.payload.apparent_power_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.apparent_power_A)) {\n        let sf = (\"\" + (\"\" + msg.payload.apparent_power_A).split('.')[1]).length\n        msg.payload.apparent_power_A = Math.trunc(msg.payload.apparent_power_A * Math.pow(10, sf))\n        msg.payload.apparent_power_A_sf = -1 * sf\n    } else\n        msg.payload.apparent_power_A_sf = 0\n}else if (typeof msg.payload.current_A != \"undefined\") {\n    msg.payload.apparent_power_A = ((msg.payload.active_power_A * Math.pow(10, msg.payload.active_power_A_sf)) / msg.payload.power_factor_A).toFixed(5)\n    \n    let sf = (\"\" + (\"\" + msg.payload.apparent_power_A).split('.')[1]).length\n    msg.payload.apparent_power_A = Math.trunc(msg.payload.apparent_power_A * Math.pow(10, sf))\n    msg.payload.apparent_power_A_sf = -1 * sf\n}\n/*B*/\nif (typeof msg.payload.apparent_power_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.apparent_power_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.apparent_power_B).split('.')[1]).length\n        msg.payload.apparent_power_B = Math.trunc(msg.payload.apparent_power_B * Math.pow(10, sf))\n        msg.payload.apparent_power_B_sf = -1 * sf\n    } else\n        msg.payload.apparent_power_B_sf = 0\n} else if (typeof msg.payload.current_B != \"undefined\") {\n    msg.payload.apparent_power_B = ((msg.payload.active_power_B * Math.pow(10, msg.payload.active_power_B_sf)) / msg.payload.power_factor_B).toFixed(5)\n\n    let sf = (\"\" + (\"\" + msg.payload.apparent_power_B).split('.')[1]).length\n    msg.payload.apparent_power_B = Math.trunc(msg.payload.apparent_power_B * Math.pow(10, sf))\n    msg.payload.apparent_power_B_sf = -1 * sf\n}\n/*C*/\nif (typeof msg.payload.apparent_power_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.apparent_power_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.apparent_power_C).split('.')[1]).length\n        msg.payload.apparent_power_C = Math.trunc(msg.payload.apparent_power_C * Math.pow(10, sf))\n        msg.payload.apparent_power_C_sf = -1 * sf\n    } else\n        msg.payload.apparent_power_C_sf = 0\n} else if (typeof msg.payload.current_C != \"undefined\") {\n    msg.payload.apparent_power_C = ((msg.payload.active_power_C * Math.pow(10, msg.payload.active_power_C_sf)) / msg.payload.power_factor_C).toFixed(5)\n\n    let sf = (\"\" + (\"\" + msg.payload.apparent_power_C).split('.')[1]).length\n    msg.payload.apparent_power_C = Math.trunc(msg.payload.apparent_power_C * Math.pow(10, sf))\n    msg.payload.apparent_power_C_sf = -1 * sf\n}\n\n/*reactive_power*/\n/*A*/\nif (typeof msg.payload.reactive_power_A != \"undefined\") {\n    if (!Number.isInteger(msg.payload.reactive_power_A)) {\n        let sf = (\"\" + (\"\" + msg.payload.reactive_power_A).split('.')[1]).length\n        msg.payload.reactive_power_A = Math.trunc(msg.payload.reactive_power_A * Math.pow(10, sf))\n        msg.payload.reactive_power_A_sf = -1 * sf\n    } else\n        msg.payload.reactive_power_A_sf = 0\n} else if (typeof msg.payload.current_A != \"undefined\") {\n    msg.payload.reactive_power_A = (Math.sqrt(Math.pow((msg.payload.apparent_power_A * Math.pow(10, msg.payload.apparent_power_A_sf)), 2) - Math.pow((msg.payload.active_power_A * Math.pow(10, msg.payload.active_power_A_sf)), 2))).toFixed(5)\n    \n    let sf = (\"\" + (\"\" + msg.payload.reactive_power_A).split('.')[1]).length\n    msg.payload.reactive_power_A = Math.trunc(msg.payload.reactive_power_A * Math.pow(10, sf))\n    msg.payload.reactive_power_A_sf = -1 * sf\n}\n/*B*/\nif (typeof msg.payload.reactive_power_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.reactive_power_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.reactive_power_B).split('.')[1]).length\n        msg.payload.reactive_power_B = Math.trunc(msg.payload.reactive_power_B * Math.pow(10, sf))\n        msg.payload.reactive_power_B_sf = -1 * sf\n    } else\n        msg.payload.reactive_power_B_sf = 0\n} else if (typeof msg.payload.current_B != \"undefined\") {\n    msg.payload.reactive_power_B = (Math.sqrt(Math.pow((msg.payload.apparent_power_B * Math.pow(10, msg.payload.apparent_power_B_sf)), 2) - Math.pow((msg.payload.active_power_B * Math.pow(10, msg.payload.active_power_B_sf)), 2))).toFixed(5)\n\n    let sf = (\"\" + (\"\" + msg.payload.reactive_power_B).split('.')[1]).length\n    msg.payload.reactive_power_B = Math.trunc(msg.payload.reactive_power_B * Math.pow(10, sf))\n    msg.payload.reactive_power_B_sf = -1 * sf\n}\n/*C*/\nif (typeof msg.payload.reactive_power_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.reactive_power_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.reactive_power_C).split('.')[1]).length\n        msg.payload.reactive_power_C = Math.trunc(msg.payload.reactive_power_C * Math.pow(10, sf))\n        msg.payload.reactive_power_C_sf = -1 * sf\n    } else\n        msg.payload.reactive_power_C_sf = 0\n} else if (typeof msg.payload.current_C != \"undefined\") {\n    msg.payload.reactive_power_C = (Math.sqrt(Math.pow((msg.payload.apparent_power_C * Math.pow(10, msg.payload.apparent_power_C_sf)), 2) - Math.pow((msg.payload.active_power_C * Math.pow(10, msg.payload.active_power_C_sf)), 2))).toFixed(5)\n\n    let sf = (\"\" + (\"\" + msg.payload.reactive_power_C).split('.')[1]).length\n    msg.payload.reactive_power_C = Math.trunc(msg.payload.reactive_power_C * Math.pow(10, sf))\n    msg.payload.reactive_power_C_sf = -1 * sf\n}\n\n/*voltage_lag*/\n/*AB*/\nif (typeof msg.payload.angle_voltage_A_B != \"undefined\") {\n    if (!Number.isInteger(msg.payload.angle_voltage_A_B)) {\n        let sf = (\"\" + (\"\" + msg.payload.angle_voltage_A_B).split('.')[1]).length\n        msg.payload.angle_voltage_A_B = Math.trunc(msg.payload.angle_voltage_A_B * Math.pow(10, sf))\n        msg.payload.angle_voltage_A_B_sf = -1 * sf\n    }\n    else\n        msg.payload.angle_voltage_A_B_sf = 0\n}\n/*AC*/\nif (typeof msg.payload.angle_voltage_A_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.angle_voltage_A_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.angle_voltage_A_C).split('.')[1]).length\n        msg.payload.angle_voltage_A_C = Math.trunc(msg.payload.angle_voltage_A_C * Math.pow(10, sf))\n        msg.payload.angle_voltage_A_C_sf = -1 * sf\n    } else\n        msg.payload.angle_voltage_A_C_sf = 0\n}\n/*BC*/\nif (typeof msg.payload.angle_voltage_B_C != \"undefined\") {\n    if (!Number.isInteger(msg.payload.angle_voltage_B_C)) {\n        let sf = (\"\" + (\"\" + msg.payload.angle_voltage_B_C).split('.')[1]).length\n        msg.payload.angle_voltage_B_C = Math.trunc(msg.payload.angle_voltage_B_C * Math.pow(10, sf))\n        msg.payload.angle_voltage_B_C_sf = -1 * sf\n    } else\n        msg.payload.angle_voltage_B_C_sf = 0\n}\n\n/*temperature*/\nif (typeof msg.payload.temperature != \"undefined\") {\n    if (!Number.isInteger(msg.payload.temperature)) {\n        let sf = (\"\" + (\"\" + msg.payload.temperature).split('.')[1]).length\n        msg.payload.temperature = Math.trunc(msg.payload.temperature * Math.pow(10, sf))\n        msg.payload.temperature_sf = -1 * sf\n    } else\n        msg.payload.temperature_sf = 0\n}\n\n/*frequency*/\nif (typeof msg.payload.frequency != \"undefined\") {\n    if (!Number.isInteger(msg.payload.frequency)) {\n        let sf = (\"\" + (\"\" + msg.payload.frequency).split('.')[1]).length\n        msg.payload.frequency = Math.trunc(msg.payload.frequency * Math.pow(10, sf))\n        msg.payload.frequency_sf = -1 * sf\n    } else\n        msg.payload.frequency_sf = 0\n} else{\n    msg.payload.frequency = 60\n    msg.payload.frequency_sf = 0\n}\n\n/*date_time_stamp*/\nmsg.payload.date_time_stamp = new Date()\nmsg.payload = JSON.parse(JSON.stringify(msg.payload));\n\n/*message_counter*/\nvar count = flow.get(\"count\") || 0\ncount += 1\nflow.set(\"count\", count)\n\nmsg.payload.message_counter     = count\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 200,
        "wires": [
            [
                "bf124cdbf4ec0574"
            ]
        ]
    },
    {
        "id": "cec395bda2b21416",
        "type": "function",
        "z": "96676db9a2f887ed",
        "g": "58e8ea5634e5a59c",
        "name": "Zera contador",
        "func": "flow.set(\"count\", 0)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "b1ee4f14f7ef77d7",
        "type": "comment",
        "z": "96676db9a2f887ed",
        "g": "58e8ea5634e5a59c",
        "name": "Contador de mensagens",
        "info": "",
        "x": 190,
        "y": 300,
        "wires": []
    },
    {
        "id": "d346f2eddf89fe35",
        "type": "catch",
        "z": "96676db9a2f887ed",
        "g": "62780e20954084d0",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 740,
        "wires": [
            [
                "fd0f5e17797176b6"
            ]
        ]
    },
    {
        "id": "9d96d3d9dc737cc2",
        "type": "comment",
        "z": "96676db9a2f887ed",
        "g": "62780e20954084d0",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 680,
        "wires": []
    },
    {
        "id": "fd0f5e17797176b6",
        "type": "template",
        "z": "96676db9a2f887ed",
        "g": "62780e20954084d0",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 740,
        "wires": [
            [
                "09a3f46dd176e808"
            ]
        ]
    },
    {
        "id": "09a3f46dd176e808",
        "type": "link out",
        "z": "96676db9a2f887ed",
        "g": "62780e20954084d0",
        "name": "status erro",
        "mode": "link",
        "links": [
            "4718bae37a92a650",
            "2c63b29beb296212"
        ],
        "x": 415,
        "y": 740,
        "wires": []
    },
    {
        "id": "6df9804a629c0736",
        "type": "link in",
        "z": "96676db9a2f887ed",
        "g": "58e8ea5634e5a59c",
        "name": "contador",
        "links": [
            "bf124cdbf4ec0574"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "ced64b0b61ea785b"
            ]
        ]
    },
    {
        "id": "ced64b0b61ea785b",
        "type": "switch",
        "z": "96676db9a2f887ed",
        "g": "58e8ea5634e5a59c",
        "name": "",
        "property": "zerar",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 360,
        "wires": [
            [
                "cec395bda2b21416"
            ]
        ]
    },
    {
        "id": "fd8388a6b3562965",
        "type": "link in",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "name": "out 1",
        "links": [
            "bf124cdbf4ec0574"
        ],
        "x": 555,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "c06bba404e4a2fc9",
        "type": "comment",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 460,
        "wires": []
    },
    {
        "id": "d64a1c0cf361fa3a",
        "type": "template",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "Formatada",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Formatando",
        "output": "str",
        "x": 350,
        "y": 520,
        "wires": [
            [
                "b438ff76cfc8718b"
            ]
        ]
    },
    {
        "id": "b438ff76cfc8718b",
        "type": "link out",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "status",
        "mode": "link",
        "links": [
            "2c63b29beb296212"
        ],
        "x": 525,
        "y": 520,
        "wires": []
    },
    {
        "id": "2c63b29beb296212",
        "type": "link in",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "name": "link in 2",
        "links": [
            "09a3f46dd176e808",
            "b438ff76cfc8718b",
            "c8372e7ad4bb8539"
        ],
        "x": 555,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "4b0889ab965ab6c9",
        "type": "complete",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "",
        "scope": [
            "f8e788f202e28034"
        ],
        "uncaught": false,
        "x": 170,
        "y": 520,
        "wires": [
            [
                "d64a1c0cf361fa3a"
            ]
        ]
    },
    {
        "id": "678d7a8aa9bf1cb0",
        "type": "template",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "Contador Zerado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Contador Zerado",
        "output": "str",
        "x": 370,
        "y": 580,
        "wires": [
            [
                "b438ff76cfc8718b"
            ]
        ]
    },
    {
        "id": "8e6b524a8fa26f7b",
        "type": "complete",
        "z": "96676db9a2f887ed",
        "g": "26d3a3ef0cd6942c",
        "name": "",
        "scope": [
            "cec395bda2b21416"
        ],
        "uncaught": false,
        "x": 170,
        "y": 580,
        "wires": [
            [
                "678d7a8aa9bf1cb0"
            ]
        ]
    },
    {
        "id": "5e9a61f501a537ae",
        "type": "comment",
        "z": "96676db9a2f887ed",
        "g": "dca8bc654adbbf02",
        "name": "Formatação",
        "info": "",
        "x": 110,
        "y": 60,
        "wires": []
    },
    {
        "id": "5ca774a4d33c0fba",
        "type": "catch",
        "z": "38d792f0bb10ea75",
        "g": "38653289be348284",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 1540,
        "wires": [
            [
                "8bd6b463771616ba"
            ]
        ]
    },
    {
        "id": "9471e4779f43eb3c",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "38653289be348284",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 1480,
        "wires": []
    },
    {
        "id": "8bd6b463771616ba",
        "type": "template",
        "z": "38d792f0bb10ea75",
        "g": "38653289be348284",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 1540,
        "wires": [
            [
                "d15eb528c28e6139"
            ]
        ]
    },
    {
        "id": "d15eb528c28e6139",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "38653289be348284",
        "name": "status erro",
        "mode": "link",
        "links": [
            "8b608e41ee328872"
        ],
        "x": 425,
        "y": 1540,
        "wires": []
    },
    {
        "id": "b90ae6871374bdb7",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "Data ultima medição adicionada no remoto",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement WHERE source = 0  ORDER BY date_time_stamp DESC LIMIT 1;",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 350,
        "y": 200,
        "wires": [
            [
                "ae74f218ba897a49"
            ]
        ]
    },
    {
        "id": "60eba1ac8cba197f",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "pega ID da ultima medição no banco local",
        "query": "SELECT id FROM public.organic_nodes_control_measurement WHERE date_time_stamp = '{{{msg.last_update.date_time_stamp}}}';",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 340,
        "y": 420,
        "wires": [
            [
                "4223025006862c0e"
            ]
        ]
    },
    {
        "id": "4223025006862c0e",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "cria msg.last_update_id",
        "rules": [
            {
                "t": "set",
                "p": "last_update_id",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 420,
        "wires": [
            [
                "6538a4b173a5b436"
            ]
        ]
    },
    {
        "id": "dcc7c6f584808cce",
        "type": "function",
        "z": "38d792f0bb10ea75",
        "g": "d7f7f53f51e446ae",
        "name": "function 10",
        "func": "msg.last_update_id.id = msg.last_update_id.id + 1\nmsg.payload = \"\"\n\nif (typeof msg.measurement != \"undefined\"){\n    msg.measurement = JSON.parse(JSON.stringify(msg.measurement))\n    \n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_measurement (date_time_stamp, message_counter, setup_id, source) VALUES('\" + msg.measurement.date_time_stamp + \"', \" + msg.measurement.message_counter + \", \" + msg.measurement.setup_id + \", \" + msg.measurement.source + \");\"\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_frequencymeasure(frequency, frequency_sf, measurement_id) VALUES(\" + msg.frequency.frequency + \", \" + msg.frequency.frequency_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_sensormeasure(temperature, temperature_sf, measurement_id) VALUES(\" + msg.sensor.temperature + \", \" + msg.sensor.temperature_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_energymeasure(phase, current, current_sf, voltage, voltage_sf, measurement_id)VALUES('\" + msg.energy.phase + \"', \" + msg.energy.current + \", \" + msg.energy.current_sf + \", \" + msg.energy.voltage + \", \" + msg.energy.voltage_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_powermeasure(phase, voltage_current_angle, voltage_current_angle_sf, power_factor, active_power, active_power_sf, reactive_power, reactive_power_sf, apparent_power, apparent_power_sf, measurement_id)VALUES('\" + msg.power.phase + \"', \" + msg.power.voltage_current_angle + \", \" + msg.power.voltage_current_angle_sf + \", \" + msg.power.power_factor + \", \" + msg.power.active_power + \", \" + msg.power.active_power_sf + \", \" + msg.power.reactive_power + \", \" + msg.power.reactive_power_sf + \", \" + msg.power.apparent_power + \", \" + msg.power.apparent_power_sf + \", (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n    if (typeof msg.voltagelag != \"undefined\")\n        msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_voltagelagmeasure(angle, angle_sf, phase_combination, measurement_id)VALUES(\" + msg.voltagelag.angle + \", \" + msg.voltagelag.angle_sf + \", '\" + msg.voltagelag.phase_combination + \"', (SELECT id FROM public.organic_nodes_control_measurement WHERE(message_counter = \" + msg.measurement.message_counter + \" AND date_time_stamp = '\" + msg.measurement.date_time_stamp +\"') LIMIT 1));\"\n    \n    msg.queryParameters = msg.payload\n    return msg\n}else {\n    global.set(\"sincronizando_remoto\", false)\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 1080,
        "wires": [
            [
                "a1b1a252b0cc604a",
                "23c4238d8da6f334",
                "5f6ddbe116ff4757"
            ]
        ]
    },
    {
        "id": "a1b1a252b0cc604a",
        "type": "postgres",
        "z": "38d792f0bb10ea75",
        "g": "d7f7f53f51e446ae",
        "postgresdb": "410522af87089496",
        "name": "NOCS",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 430,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ae74f218ba897a49",
        "type": "function",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "cria msg.last_update",
        "func": "msg.last_update = JSON.parse(JSON.stringify(msg.payload[0]))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 200,
        "wires": [
            [
                "3f5d5d3ffcad0736"
            ]
        ]
    },
    {
        "id": "301f2387b25b93af",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega medição",
        "query": "SELECT * FROM public.organic_nodes_control_measurement WHERE id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 620,
        "wires": [
            [
                "96fa5cf7aa72ad84"
            ]
        ]
    },
    {
        "id": "5663471d35a0a438",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega power",
        "query": "SELECT * FROM public.organic_nodes_control_powermeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 740,
        "wires": [
            [
                "040b6a5ede07d37a"
            ]
        ]
    },
    {
        "id": "040b6a5ede07d37a",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.power_(ABC)",
        "rules": [
            {
                "t": "set",
                "p": "power_A",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "power_B",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "power_C",
                "pt": "msg",
                "to": "payload[2]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 740,
        "wires": [
            [
                "5ab8c0a121cf0e58"
            ]
        ]
    },
    {
        "id": "223a8fb3cb27d07e",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega sensor",
        "query": "SELECT * FROM public.organic_nodes_control_sensormeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 800,
        "wires": [
            [
                "b8b248e6b297058e"
            ]
        ]
    },
    {
        "id": "b8b248e6b297058e",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.sensor",
        "rules": [
            {
                "t": "set",
                "p": "sensor",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 800,
        "wires": [
            [
                "ce589cab12b8ce60"
            ]
        ]
    },
    {
        "id": "0b99cc1ba6a3202f",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega voltagelag",
        "query": "SELECT * FROM public.organic_nodes_control_voltagelagmeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 860,
        "wires": [
            [
                "4146eef348897bce"
            ]
        ]
    },
    {
        "id": "4146eef348897bce",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.voltagelag_(ABC)",
        "rules": [
            {
                "t": "set",
                "p": "voltagelag_AB",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "voltagelag_AC",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "voltagelag_BC",
                "pt": "msg",
                "to": "payload[2]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 860,
        "wires": [
            [
                "177c08d34f1153ed"
            ]
        ]
    },
    {
        "id": "7cde3c8cc618c4eb",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega frequency",
        "query": "SELECT * FROM public.organic_nodes_control_frequencymeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 260,
        "y": 680,
        "wires": [
            [
                "ed47f52f20f57955"
            ]
        ]
    },
    {
        "id": "ed47f52f20f57955",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.frequency",
        "rules": [
            {
                "t": "set",
                "p": "frequency",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 680,
        "wires": [
            [
                "4a30e1429a444611"
            ]
        ]
    },
    {
        "id": "441dbeac497bb1ff",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega energy",
        "query": "SELECT * FROM public.organic_nodes_control_energymeasure WHERE measurement_id = {{{msg.last_update_id.id}}}",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 250,
        "y": 920,
        "wires": [
            [
                "6d8a9ccc15e60714"
            ]
        ]
    },
    {
        "id": "6d8a9ccc15e60714",
        "type": "change",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.energy_(ABC)",
        "rules": [
            {
                "t": "set",
                "p": "energy_A",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "energy_B",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "energy_C",
                "pt": "msg",
                "to": "payload[2]",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 920,
        "wires": [
            [
                "154fce6204d9f514"
            ]
        ]
    },
    {
        "id": "9bfc3d9edad16b68",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "Medições",
        "mode": "link",
        "links": [
            "ba1f97dd5f403313"
        ],
        "x": 1005,
        "y": 420,
        "wires": []
    },
    {
        "id": "ba1f97dd5f403313",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Medições",
        "links": [
            "9bfc3d9edad16b68",
            "23c4238d8da6f334"
        ],
        "x": 125,
        "y": 620,
        "wires": [
            [
                "301f2387b25b93af"
            ]
        ]
    },
    {
        "id": "23c4238d8da6f334",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "d7f7f53f51e446ae",
        "name": "Medições",
        "mode": "link",
        "links": [
            "ba1f97dd5f403313"
        ],
        "x": 395,
        "y": 1060,
        "wires": []
    },
    {
        "id": "be14cabbd64c811e",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Verifica se já existe",
        "query": "SELECT * FROM public.organic_nodes_control_measurement WHERE(message_counter = {{{msg.measurement.message_counter}}} AND date_time_stamp = '{{{msg.measurement.date_time_stamp}}}')",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 710,
        "y": 620,
        "wires": [
            [
                "f76fa885a509d2e0"
            ]
        ]
    },
    {
        "id": "f76fa885a509d2e0",
        "type": "switch",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 620,
        "wires": [
            [
                "5e9ad062dca474c0"
            ],
            [
                "923afcad2bcd1102"
            ]
        ]
    },
    {
        "id": "96fa5cf7aa72ad84",
        "type": "function",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "cria msg.measurement",
        "func": "try{\n    msg.measurement = JSON.parse(JSON.stringify(msg.payload[0]))\n    return msg;\n}catch(e){}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 620,
        "wires": [
            [
                "be14cabbd64c811e"
            ]
        ]
    },
    {
        "id": "3f5d5d3ffcad0736",
        "type": "postgresql",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "Data ultima medição adicionada no local",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement WHERE source = 0  ORDER BY date_time_stamp DESC LIMIT 1;",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "24e96c97224f79ff"
            ]
        ]
    },
    {
        "id": "24e96c97224f79ff",
        "type": "function",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "cria msg.last_upload",
        "func": "try{\n    msg.last_upload = JSON.parse(JSON.stringify(msg.payload[0]))\n\n\n    if (msg.last_upload.date_time_stamp != msg.last_update.date_time_stamp){\n        global.set(\"sincronizando_remoto\", false)\n        return msg;\n    }else {\n        global.set(\"sincronizando_remoto\", false)\n    }\n} catch(e){}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 260,
        "wires": [
            [
                "b4fb6f59c5be0484"
            ]
        ]
    },
    {
        "id": "6538a4b173a5b436",
        "type": "function",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "incrementa",
        "func": "msg.last_update_id.id = msg.last_update_id.id + 1\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 420,
        "wires": [
            [
                "9bfc3d9edad16b68"
            ]
        ]
    },
    {
        "id": "b3e2fc3270a2c04d",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "Verifica date",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "9c6a67c176b9f31b",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "Pega identificador local referente a ultima medição remota",
        "info": "",
        "x": 290,
        "y": 360,
        "wires": []
    },
    {
        "id": "70b196f4f67d2827",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "Pega todas as medições",
        "info": "",
        "x": 190,
        "y": 560,
        "wires": []
    },
    {
        "id": "b1febcc17f2ba6b1",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "d7f7f53f51e446ae",
        "name": "Adiciona medições ao Banco remoto",
        "info": "",
        "x": 220,
        "y": 1020,
        "wires": []
    },
    {
        "id": "56cbc3bbb98268cc",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "Peda ID",
        "links": [
            "b4fb6f59c5be0484"
        ],
        "x": 115,
        "y": 420,
        "wires": [
            [
                "60eba1ac8cba197f"
            ]
        ]
    },
    {
        "id": "b4fb6f59c5be0484",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "464dd04fd59b4416",
        "name": "Peda ID",
        "mode": "link",
        "links": [
            "56cbc3bbb98268cc"
        ],
        "x": 825,
        "y": 260,
        "wires": []
    },
    {
        "id": "5e4cafb618979765",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "frequency",
        "links": [
            "923afcad2bcd1102"
        ],
        "x": 125,
        "y": 680,
        "wires": [
            [
                "7cde3c8cc618c4eb"
            ]
        ]
    },
    {
        "id": "ecfe55630da4601a",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "power",
        "links": [
            "4a30e1429a444611"
        ],
        "x": 125,
        "y": 740,
        "wires": [
            [
                "5663471d35a0a438"
            ]
        ]
    },
    {
        "id": "49df46e372d3ac33",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "sensor",
        "links": [
            "5ab8c0a121cf0e58"
        ],
        "x": 125,
        "y": 800,
        "wires": [
            [
                "223a8fb3cb27d07e"
            ]
        ]
    },
    {
        "id": "0551cf9e18d8a383",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "sensor",
        "links": [
            "5ab8c0a121cf0e58"
        ],
        "x": 125,
        "y": 860,
        "wires": [
            [
                "0b99cc1ba6a3202f"
            ]
        ]
    },
    {
        "id": "9d02f39318aa5afe",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "voltage_lag",
        "links": [
            "177c08d34f1153ed"
        ],
        "x": 125,
        "y": 920,
        "wires": [
            [
                "441dbeac497bb1ff"
            ]
        ]
    },
    {
        "id": "4a30e1429a444611",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "power",
        "mode": "link",
        "links": [
            "ecfe55630da4601a"
        ],
        "x": 685,
        "y": 680,
        "wires": []
    },
    {
        "id": "5ab8c0a121cf0e58",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "sensor",
        "mode": "link",
        "links": [
            "49df46e372d3ac33",
            "0551cf9e18d8a383"
        ],
        "x": 685,
        "y": 740,
        "wires": []
    },
    {
        "id": "ce589cab12b8ce60",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "link out 3",
        "mode": "link",
        "links": [],
        "x": 685,
        "y": 800,
        "wires": []
    },
    {
        "id": "177c08d34f1153ed",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "voltage_lag",
        "mode": "link",
        "links": [
            "9d02f39318aa5afe"
        ],
        "x": 685,
        "y": 860,
        "wires": []
    },
    {
        "id": "154fce6204d9f514",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "banco",
        "mode": "link",
        "links": [
            "d5483a424d414257"
        ],
        "x": 685,
        "y": 920,
        "wires": []
    },
    {
        "id": "d5483a424d414257",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "d7f7f53f51e446ae",
        "name": "banco",
        "links": [
            "154fce6204d9f514"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "923afcad2bcd1102",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "frequency",
        "mode": "link",
        "links": [
            "5e4cafb618979765"
        ],
        "x": 1005,
        "y": 640,
        "wires": []
    },
    {
        "id": "bbb55af31e6c49f6",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "158a0e6425e5cae7",
        "name": "incremento",
        "links": [
            "5e9ad062dca474c0"
        ],
        "x": 745,
        "y": 460,
        "wires": [
            [
                "6538a4b173a5b436"
            ]
        ]
    },
    {
        "id": "5e9ad062dca474c0",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "52c66abdf3919c1f",
        "name": "incremento",
        "mode": "link",
        "links": [
            "bbb55af31e6c49f6"
        ],
        "x": 1005,
        "y": 600,
        "wires": []
    },
    {
        "id": "8b608e41ee328872",
        "type": "link in",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "name": "status",
        "links": [
            "786bc2d4f569466a",
            "d15eb528c28e6139",
            "e279f7dad76b662c"
        ],
        "x": 1035,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "96c098e745d45eec",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 1200,
        "wires": []
    },
    {
        "id": "52f6103e391cc962",
        "type": "template",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "Atualizando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Atualizando...",
        "output": "str",
        "x": 350,
        "y": 1260,
        "wires": [
            [
                "786bc2d4f569466a"
            ]
        ]
    },
    {
        "id": "786bc2d4f569466a",
        "type": "link out",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "status Atualizando",
        "mode": "link",
        "links": [
            "8b608e41ee328872"
        ],
        "x": 485,
        "y": 1260,
        "wires": []
    },
    {
        "id": "f4a4d0a6a0b35a18",
        "type": "template",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "Finalizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Finalizado",
        "output": "str",
        "x": 350,
        "y": 1320,
        "wires": [
            [
                "786bc2d4f569466a"
            ]
        ]
    },
    {
        "id": "552eb00e07d89be4",
        "type": "complete",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "",
        "scope": [
            "dcc7c6f584808cce"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1320,
        "wires": [
            [
                "f4a4d0a6a0b35a18"
            ]
        ]
    },
    {
        "id": "c1aa58e4fcedb135",
        "type": "complete",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "",
        "scope": [
            "60eba1ac8cba197f"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1260,
        "wires": [
            [
                "52f6103e391cc962"
            ]
        ]
    },
    {
        "id": "9a514889a0e81e0a",
        "type": "complete",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "",
        "scope": [
            "24e96c97224f79ff"
        ],
        "uncaught": false,
        "x": 170,
        "y": 1380,
        "wires": [
            [
                "0295006cf57005dc"
            ]
        ]
    },
    {
        "id": "0295006cf57005dc",
        "type": "template",
        "z": "38d792f0bb10ea75",
        "g": "d9a0266626dfcca2",
        "name": "Sincronizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sincronizado",
        "output": "str",
        "x": 350,
        "y": 1380,
        "wires": [
            [
                "786bc2d4f569466a"
            ]
        ]
    },
    {
        "id": "e0919e2a7130b098",
        "type": "comment",
        "z": "38d792f0bb10ea75",
        "g": "89a4ae0a1259ce03",
        "name": "Sincroniza o banco remoto com os dados do banco local",
        "info": "",
        "x": 250,
        "y": 60,
        "wires": []
    },
    {
        "id": "5f6ddbe116ff4757",
        "type": "debug",
        "z": "38d792f0bb10ea75",
        "name": "debug 18",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "measurement",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1220,
        "y": 1240,
        "wires": []
    },
    {
        "id": "c6b85b8c2ea6269e",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_setup WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3460,
        "wires": [
            [
                "1148323450d0ef31"
            ]
        ]
    },
    {
        "id": "1148323450d0ef31",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3460,
        "wires": [
            [
                "99814e0e6070de17"
            ]
        ]
    },
    {
        "id": "ce7641387fce5d30",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "setup",
        "info": "",
        "x": 130,
        "y": 3400,
        "wires": []
    },
    {
        "id": "99814e0e6070de17",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_setup WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3520,
        "wires": [
            [
                "efd8b31e831d9b30"
            ]
        ]
    },
    {
        "id": "efd8b31e831d9b30",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3520,
        "wires": [
            [
                "019f5dfdcb3403e7"
            ]
        ]
    },
    {
        "id": "019f5dfdcb3403e7",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"setup\") | 0\ncount = count + 1;\nglobal.set(\"setup\", count)\n\nmsg.payload = \"\"\n\nlet setup_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet setup_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof setup_local != \"undefined\") {\n    if (typeof setup_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_setup WHERE id = \" + setup_local.id + \";\"\n    else if (JSON.stringify(setup_nocs) != JSON.stringify(setup_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_setup SET id = \" + setup_nocs.id + \",date_setup = '\" + setup_nocs.date_setup + \"', status = '\" + setup_nocs.status + \"', description = '\" + setup_nocs.description + \"', area_id = \" + setup_nocs.area_id + \", circuit_id = \" + setup_nocs.circuit_id + \", device_id = \" + setup_nocs.device_id + \", monitored_device_id = \" + setup_nocs.monitored_device_id + \" WHERE id = \" + setup_local.id + \";\" \n}\nelse if (typeof setup_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_setup VALUES(\" + setup_nocs.id + \", '\" + setup_nocs.date_setup + \"', '\" + setup_nocs.status + \"', '\" + setup_nocs.description + \"', \" + setup_nocs.area_id + \", \" + setup_nocs.circuit_id + \", \" + setup_nocs.device_id + \", \" + setup_nocs.monitored_device_id + \");\"\nelse\n    global.set(\"setup\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 3520,
        "wires": [
            [
                "52df786888e644ba",
                "f975190a66586231"
            ]
        ]
    },
    {
        "id": "3574797015d06eb5",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_area WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1460,
        "wires": [
            [
                "74f2197c46a4d769"
            ]
        ]
    },
    {
        "id": "74f2197c46a4d769",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1460,
        "wires": [
            [
                "b04e027a31b064c9"
            ]
        ]
    },
    {
        "id": "bdae3c5d2cd207a4",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "area",
        "info": "",
        "x": 130,
        "y": 1400,
        "wires": []
    },
    {
        "id": "b04e027a31b064c9",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_area WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1520,
        "wires": [
            [
                "19f131d66998204e"
            ]
        ]
    },
    {
        "id": "19f131d66998204e",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1520,
        "wires": [
            [
                "34d669944dc1f7f2"
            ]
        ]
    },
    {
        "id": "34d669944dc1f7f2",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"area\") | 0\ncount = count + 1;\nglobal.set(\"area\", count)\n\nmsg.payload = \"\"\n\nlet area_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet area_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof area_local != \"undefined\") {\n    if (typeof area_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_area WHERE id = \" + area_local.id + \";\"\n    else if (JSON.stringify(area_nocs) != JSON.stringify(area_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_area SET id = \" + area_nocs.id + \",name = '\" + area_nocs.name + \"', description = '\" + area_nocs.description + \"', company_id = \" + area_nocs.company_id + \" WHERE id = \" + area_local.id + \";\" \n}\nelse if (typeof area_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_area VALUES(\" + area_nocs.id + \", '\" + area_nocs.name + \"', '\" + area_nocs.description + \"', \" + area_nocs.company_id + \");\"\n\nelse\n    global.set(\"area\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1520,
        "wires": [
            [
                "e3703559fb072572",
                "45a377a11782d233"
            ]
        ]
    },
    {
        "id": "2ff47e269ff48676",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 1300,
        "wires": []
    },
    {
        "id": "06c64d2de231457c",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "NOCS",
        "query": "SELECT * FROM public.core_registration_company WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1240,
        "wires": [
            [
                "6ef3a8c904a76653"
            ]
        ]
    },
    {
        "id": "6ef3a8c904a76653",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1240,
        "wires": [
            [
                "9885143b467005f6"
            ]
        ]
    },
    {
        "id": "d01f398fa34b84e6",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "company",
        "info": "",
        "x": 140,
        "y": 1180,
        "wires": []
    },
    {
        "id": "9885143b467005f6",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "Local",
        "query": "SELECT * FROM public.core_registration_company WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1300,
        "wires": [
            [
                "12aa5d3c1d213bd8"
            ]
        ]
    },
    {
        "id": "12aa5d3c1d213bd8",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1300,
        "wires": [
            [
                "0993cd6b4bfe5004"
            ]
        ]
    },
    {
        "id": "0993cd6b4bfe5004",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"company\") | 0\ncount = count + 1;\nglobal.set(\"company\", count)\n\nmsg.payload = \"\"\n\nlet company_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet company_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof company_local != \"undefined\") {\n    if (typeof company_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.core_registration_company WHERE id = \" + company_local.id + \";\"\n    else if (JSON.stringify(company_nocs) != JSON.stringify(company_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.core_registration_company SET id = \" + company_nocs.id + \",registration_date = '\" + company_nocs.registration_date + \"', description = '\" + company_nocs.description + \"', address = '\" + company_nocs.address + \"', city_id = \" + company_nocs.city_id + \", user_id = \" + company_nocs.user_id + \" WHERE id = \" + company_local.id + \";\" \n}\nelse if (typeof company_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.core_registration_company VALUES(\" + company_nocs.id + \", '\" + company_nocs.registration_date + \"', '\" + company_nocs.description + \"', '\" + company_nocs.address + \"', \" + company_nocs.city_id + \", \" + company_nocs.user_id + \");\"\nelse\n    global.set(\"company\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1300,
        "wires": [
            [
                "2ff47e269ff48676",
                "baf49d39bd3ee603"
            ]
        ]
    },
    {
        "id": "0d0fecc4674660ee",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "NOCS",
        "query": "SELECT * FROM public.core_registration_city WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "e96c6d7de056a037"
            ]
        ]
    },
    {
        "id": "e96c6d7de056a037",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1020,
        "wires": [
            [
                "d29e247425cbdb63"
            ]
        ]
    },
    {
        "id": "a09a5266c9e37d51",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "city",
        "info": "",
        "x": 130,
        "y": 960,
        "wires": []
    },
    {
        "id": "d29e247425cbdb63",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "Local",
        "query": "SELECT * FROM public.core_registration_city WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1080,
        "wires": [
            [
                "faa72f60ef9d9df2"
            ]
        ]
    },
    {
        "id": "faa72f60ef9d9df2",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1080,
        "wires": [
            [
                "661212b02ba49f94"
            ]
        ]
    },
    {
        "id": "5a37981b0b87b961",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "NOCS",
        "query": "SELECT * FROM public.core_registration_state WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 800,
        "wires": [
            [
                "77078a94b857b81a"
            ]
        ]
    },
    {
        "id": "77078a94b857b81a",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 800,
        "wires": [
            [
                "df797988d7880a2b"
            ]
        ]
    },
    {
        "id": "d9470f58dda5f7f6",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "state",
        "info": "",
        "x": 130,
        "y": 740,
        "wires": []
    },
    {
        "id": "df797988d7880a2b",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "Local",
        "query": "SELECT * FROM public.core_registration_state WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 860,
        "wires": [
            [
                "34ba41834fd95c6b"
            ]
        ]
    },
    {
        "id": "34ba41834fd95c6b",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 860,
        "wires": [
            [
                "afdbc99d43bb27f5"
            ]
        ]
    },
    {
        "id": "afdbc99d43bb27f5",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"state\") | 0\ncount = count + 1;\nglobal.set(\"state\", count)\n\nmsg.payload = \"\"\n\nlet state_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet state_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof state_local != \"undefined\") {\n    if (typeof state_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.core_registration_state WHERE id = \" + state_local.id + \";\"\n    else if (JSON.stringify(state_nocs) != JSON.stringify(state_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.core_registration_state SET id = \" + state_nocs.id + \", description = '\" + state_nocs.description + \"', acronym = '\" + state_nocs.acronym + \"', country_id = \" + state_nocs.country_id + \" WHERE id = \" + state_local.id + \";\" \n}\nelse if (typeof state_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.core_registration_state VALUES(\" + state_nocs.id + \", '\" + state_nocs.description + \"', '\" + state_nocs.acronym + \"', \" + state_nocs.country_id + \");\"\nelse\n    global.set(\"state\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 860,
        "wires": [
            [
                "d68a4f3dd5f19318",
                "1ce1672975a9f72d"
            ]
        ]
    },
    {
        "id": "0bf4651d4e56a56b",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "NOCS",
        "query": "SELECT * FROM public.core_registration_country WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 580,
        "wires": [
            [
                "8b4486b003ad5a08"
            ]
        ]
    },
    {
        "id": "8b4486b003ad5a08",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 580,
        "wires": [
            [
                "aa4df2b0c9be27fb"
            ]
        ]
    },
    {
        "id": "d74dffa819f73129",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "country",
        "info": "",
        "x": 130,
        "y": 520,
        "wires": []
    },
    {
        "id": "aa4df2b0c9be27fb",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "Local",
        "query": "SELECT * FROM public.core_registration_country WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 640,
        "wires": [
            [
                "f38f73a0807dea09"
            ]
        ]
    },
    {
        "id": "f38f73a0807dea09",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 640,
        "wires": [
            [
                "37b33a3af2fa229a"
            ]
        ]
    },
    {
        "id": "37b33a3af2fa229a",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"country\") | 0\ncount = count + 1;\nglobal.set(\"country\", count)\n\nmsg.payload = \"\"\n\nlet country_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet country_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof country_local != \"undefined\") {\n    if (typeof country_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.core_registration_country WHERE id = \" + country_local.id + \";\"\n    else if (JSON.stringify(country_nocs) != JSON.stringify(country_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.core_registration_country SET id = \" + country_nocs.id + \", description = '\" + country_nocs.description + \"' WHERE id = \" + country_local.id + \";\"\n}\nelse if (typeof country_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.core_registration_country VALUES(\" + country_nocs.id + \", '\" + country_nocs.description + \"');\"\n\nelse\n    global.set(\"country\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 640,
        "wires": [
            [
                "36a3c65ede18d2b4",
                "e7ae012fb740437f"
            ]
        ]
    },
    {
        "id": "3494d54734219a7b",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "NOCS",
        "query": "SELECT * FROM public.core_access_user WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 360,
        "wires": [
            [
                "d9cfe2db2cbf39b8"
            ]
        ]
    },
    {
        "id": "d9cfe2db2cbf39b8",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 360,
        "wires": [
            [
                "c6c8aa73f182ec79"
            ]
        ]
    },
    {
        "id": "8dfaa3f341d5e07a",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "access_user",
        "info": "",
        "x": 150,
        "y": 300,
        "wires": []
    },
    {
        "id": "c6c8aa73f182ec79",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "Local",
        "query": "SELECT * FROM public.core_access_user WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 420,
        "wires": [
            [
                "863707bb5969f727"
            ]
        ]
    },
    {
        "id": "863707bb5969f727",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 420,
        "wires": [
            [
                "e58fa1f7bf9f8550"
            ]
        ]
    },
    {
        "id": "661212b02ba49f94",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"city\") | 0\ncount = count + 1;\nglobal.set(\"city\", count)\n\nmsg.payload = \"\"\n\nlet city_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet city_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof city_local != \"undefined\") {\n    if (typeof city_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.core_registration_city WHERE id = \" + city_local.id + \";\"\n    else if (JSON.stringify(city_nocs) != JSON.stringify(city_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.core_registration_city SET id = \" + city_nocs.id + \", description = '\" + city_nocs.description + \"', state_id = \" + city_nocs.state_id + \" WHERE id = \" + city_local.id + \";\" \n}\nelse if (typeof city_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.core_registration_city VALUES(\" + city_nocs.id + \", '\" + city_nocs.description + \"', \" + city_nocs.state_id + \");\"\nelse\n    global.set(\"city\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1080,
        "wires": [
            [
                "2b834e99891304f6",
                "e41ae0e97c146b1b"
            ]
        ]
    },
    {
        "id": "2b834e99891304f6",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 1080,
        "wires": []
    },
    {
        "id": "e3703559fb072572",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 1520,
        "wires": []
    },
    {
        "id": "52df786888e644ba",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 3520,
        "wires": []
    },
    {
        "id": "96973cfa9742df19",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "498764931f4b71aa",
        "name": "Entrada",
        "info": "",
        "x": 130,
        "y": 140,
        "wires": []
    },
    {
        "id": "cbed0e82daa4b5c2",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "access_user",
        "links": [
            "105b7358fbc1c293",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "4ba1e29a17d4625b"
            ]
        ]
    },
    {
        "id": "199e644b24cd4bf6",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "498764931f4b71aa",
        "name": "loop",
        "mode": "link",
        "links": [
            "08d5038231a82483",
            "1dbcec2c2e281356",
            "1e3e8e8b79c1d1b1",
            "4212ca74f6fe6925",
            "4eb69295d4e3be47",
            "55d44e3a3b6f493a",
            "6063254271dbe2f8",
            "67a1237aa8db2ef2",
            "68c2dd9382fd801d",
            "c2e208e816e1214d",
            "c4b96ca4567898b7",
            "cbed0e82daa4b5c2",
            "ceab5f64bb45b087",
            "d06c2278f6cdc2f2",
            "d28711ca27a38fcf",
            "d637ab39ad04abc3",
            "dfb1adba836ad9e6"
        ],
        "x": 425,
        "y": 200,
        "wires": []
    },
    {
        "id": "c4b96ca4567898b7",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "country",
        "links": [
            "f2da1fd75e931b7e",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 580,
        "wires": [
            [
                "75b0e13e9d5d6173"
            ]
        ]
    },
    {
        "id": "dfb1adba836ad9e6",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "state",
        "links": [
            "45d280528d1b4dfb",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 800,
        "wires": [
            [
                "8e0de14dbdc7e36c"
            ]
        ]
    },
    {
        "id": "67a1237aa8db2ef2",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "city",
        "links": [
            "cb34236a415a64dd",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 1020,
        "wires": [
            [
                "6348c31f7f2bfb2d"
            ]
        ]
    },
    {
        "id": "55d44e3a3b6f493a",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "company",
        "links": [
            "9af565314439fc4e",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 1240,
        "wires": [
            [
                "185960da8a687a4a"
            ]
        ]
    },
    {
        "id": "08d5038231a82483",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "area",
        "links": [
            "4aa12f5df2e22995",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 1460,
        "wires": [
            [
                "41a4c53907b5c19d"
            ]
        ]
    },
    {
        "id": "4212ca74f6fe6925",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "setup",
        "links": [
            "2819e3062c0ec390",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 3460,
        "wires": [
            [
                "0dd509c586513054"
            ]
        ]
    },
    {
        "id": "1ce1672975a9f72d",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 860,
        "wires": []
    },
    {
        "id": "36a3c65ede18d2b4",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 640,
        "wires": []
    },
    {
        "id": "3683bba1512eac8e",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 420,
        "wires": []
    },
    {
        "id": "117c66decf94ec8c",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_circuit WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3240,
        "wires": [
            [
                "e2cf07307d051814"
            ]
        ]
    },
    {
        "id": "e2cf07307d051814",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3240,
        "wires": [
            [
                "e59714b709552c49"
            ]
        ]
    },
    {
        "id": "089d3b8db42feef7",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "circuit",
        "info": "",
        "x": 130,
        "y": 3180,
        "wires": []
    },
    {
        "id": "e59714b709552c49",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_circuit WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3300,
        "wires": [
            [
                "f8169c93d1e5d4e5"
            ]
        ]
    },
    {
        "id": "f8169c93d1e5d4e5",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3300,
        "wires": [
            [
                "f9b8ac18eb652e46"
            ]
        ]
    },
    {
        "id": "f9b8ac18eb652e46",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"circuit\") | 0\ncount = count + 1;\nglobal.set(\"circuit\", count)\n\nmsg.payload = \"\"\n\nlet circuit_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet circuit_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof circuit_local != \"undefined\") {\n    if (typeof circuit_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_circuit WHERE id = \" + circuit_local.id + \";\"\n    else if (JSON.stringify(circuit_nocs) != JSON.stringify(circuit_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_circuit SET id = \" + circuit_nocs.id + \",phase = '\" + circuit_nocs.phase + \"', breaker = '\" + circuit_nocs.breaker + \"', name = '\" + circuit_nocs.name + \"', description = '\" + circuit_nocs.description + \"' WHERE id = \" + circuit_local.id + \";\"  \n\n}\nelse if (typeof circuit_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_circuit VALUES(\" + circuit_nocs.id + \", '\" + circuit_nocs.phase + \"', '\" + circuit_nocs.breaker + \"', '\" + circuit_nocs.name + \"', '\" + circuit_nocs.description + \"');\"\n\nelse\n    global.set(\"circuit\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 3300,
        "wires": [
            [
                "a3f6dfe87e844341",
                "862164126c05c25e"
            ]
        ]
    },
    {
        "id": "a3f6dfe87e844341",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 3300,
        "wires": []
    },
    {
        "id": "1dbcec2c2e281356",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "circuit",
        "links": [
            "42b2aefe8a793e53",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 3240,
        "wires": [
            [
                "ba1f6f85a3e0a3ae"
            ]
        ]
    },
    {
        "id": "302c4a48e6208894",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_mqttdevice WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3900,
        "wires": [
            [
                "8115d6131ec3fd07"
            ]
        ]
    },
    {
        "id": "8115d6131ec3fd07",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3900,
        "wires": [
            [
                "51f727f4ce50e655"
            ]
        ]
    },
    {
        "id": "1ecd0e844e8ebbfd",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "mqttdevice",
        "info": "",
        "x": 140,
        "y": 3840,
        "wires": []
    },
    {
        "id": "51f727f4ce50e655",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_mqttdevice WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3960,
        "wires": [
            [
                "3fa80df9d8c14e81"
            ]
        ]
    },
    {
        "id": "3fa80df9d8c14e81",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3960,
        "wires": [
            [
                "5c4bec19b5308a36"
            ]
        ]
    },
    {
        "id": "5c4bec19b5308a36",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"mqttdevice\") | 0\ncount = count + 1;\nglobal.set(\"mqttdevice\", count)\n\nmsg.payload = \"\"\n\nlet mqttdevice_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet mqttdevice_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof mqttdevice_local != \"undefined\") {\n    if (typeof mqttdevice_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_mqttdevice WHERE id = \" + mqttdevice_local.id + \";\"\n    else if (JSON.stringify(mqttdevice_nocs) != JSON.stringify(mqttdevice_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_mqttdevice SET id = \" + mqttdevice_nocs.id + \",device_id = \" + mqttdevice_nocs.device_id + \",mqtt_access_id = \" + mqttdevice_nocs.mqtt_access_id + \" WHERE id = \" + mqttdevice_local.id + \";\"\n}\nelse if (typeof mqttdevice_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_mqttdevice VALUES(\" + mqttdevice_nocs.id + \", \" + mqttdevice_nocs.device_id + \", \" + mqttdevice_nocs.mqtt_access_id + \");\"\nelse\n    global.set(\"mqttdevice\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 3960,
        "wires": [
            [
                "78171c7cd75b5db7",
                "84307d43b1d7dc6d"
            ]
        ]
    },
    {
        "id": "78171c7cd75b5db7",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 3960,
        "wires": []
    },
    {
        "id": "195c1eca51232af3",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_mqttaccess WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3680,
        "wires": [
            [
                "2e260f6caf91062e"
            ]
        ]
    },
    {
        "id": "2e260f6caf91062e",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3680,
        "wires": [
            [
                "8ddad3cfeac2b761"
            ]
        ]
    },
    {
        "id": "8ddad3cfeac2b761",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_mqttaccess WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3740,
        "wires": [
            [
                "1d20f0ee74f579c9"
            ]
        ]
    },
    {
        "id": "1d20f0ee74f579c9",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3740,
        "wires": [
            [
                "4272d6c7aae0211d"
            ]
        ]
    },
    {
        "id": "9a861f0e620d0c43",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 3740,
        "wires": []
    },
    {
        "id": "1fc7984f3151b51e",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "mqttaccess",
        "info": "",
        "x": 150,
        "y": 3620,
        "wires": []
    },
    {
        "id": "4272d6c7aae0211d",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"mqttaccess\") | 0\ncount = count + 1;\nglobal.set(\"mqttaccess\", count)\n\nmsg.payload = \"\"\n\nlet mqttaccess_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet mqttaccess_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof mqttaccess_local != \"undefined\") {\n    if (typeof mqttaccess_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_mqttaccess WHERE id = \" + mqttaccess_local.id + \";\"\n    else if (JSON.stringify(mqttaccess_nocs) != JSON.stringify(mqttaccess_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_mqttaccess SET id = \" + mqttaccess_nocs.id + \",mqtt_id = '\" + mqttaccess_nocs.mqtt_id + \"',mqtt_port = \" + mqttaccess_nocs.mqtt_port + \",status = '\" + mqttaccess_nocs.status + \"',mqtt_server = '\" + mqttaccess_nocs.mqtt_server + \"',pub_topic = '\" + mqttaccess_nocs.pub_topic + \"',action = '\" + mqttaccess_nocs.action + \"',type = '\" + mqttaccess_nocs.type + \"',sub_topic = '\" + mqttaccess_nocs.sub_topic + \"',sub_user = '\" + mqttaccess_nocs.sub_user + \"',pub_user = '\" + mqttaccess_nocs.pub_user + \"',user_mqtt = '\" + mqttaccess_nocs.user_mqtt + \"' WHERE id = \" + mqttaccess_local.id + \";\"\n}\nelse if (typeof mqttaccess_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_mqttaccess VALUES(\" + mqttaccess_nocs.id + \", '\" + mqttaccess_nocs.mqtt_id + \"', \" + mqttaccess_nocs.mqtt_port + \", '\" + mqttaccess_nocs.status + \"', '\" + mqttaccess_nocs.mqtt_server + \"', '\" + mqttaccess_nocs.pub_topic + \"', '\" + mqttaccess_nocs.action + \"', '\" + mqttaccess_nocs.type + \"', '\" + mqttaccess_nocs.sub_topic + \"', '\" + mqttaccess_nocs.sub_user + \"', '\" + mqttaccess_nocs.pub_user + \"', '\" + mqttaccess_nocs.user_mqtt + \"');\"\nelse\n    global.set(\"mqttaccess\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 3740,
        "wires": [
            [
                "9a861f0e620d0c43",
                "880905616bfab06a"
            ]
        ]
    },
    {
        "id": "75e023ec7e8f678d",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_hardware WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1680,
        "wires": [
            [
                "585fa84d4c3c4361"
            ]
        ]
    },
    {
        "id": "585fa84d4c3c4361",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1680,
        "wires": [
            [
                "db0bab0fa0b144aa"
            ]
        ]
    },
    {
        "id": "db0bab0fa0b144aa",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_hardware WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1740,
        "wires": [
            [
                "b4b3a554c667d7e1"
            ]
        ]
    },
    {
        "id": "b4b3a554c667d7e1",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1740,
        "wires": [
            [
                "f9907a4c8664da93"
            ]
        ]
    },
    {
        "id": "f9907a4c8664da93",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"hardware\") | 0\ncount = count + 1;\nglobal.set(\"hardware\", count)\n\nmsg.payload = \"\"\n\nlet hardware_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet hardware_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof hardware_local != \"undefined\") {\n    if (typeof hardware_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_hardware WHERE id = \" + hardware_local.id + \";\"\n    else if (JSON.stringify(hardware_nocs) != JSON.stringify(hardware_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_hardware SET id = \" + hardware_nocs.id + \",name = '\" + hardware_nocs.name + \"',nature = '\" + hardware_nocs.nature + \"',version = '\" + hardware_nocs.version + \"',bloc_connection = \" + hardware_nocs.bloc_connection + \",esp_router = \" + hardware_nocs.esp_router + \",current_ic = '\" + hardware_nocs.current_ic + \"',sensor = '\" + hardware_nocs.sensor + \"',status = '\" + hardware_nocs.status + \"',description = '\" + hardware_nocs.description + \"' WHERE id = \" + hardware_local.id + \";\" \n}\nelse if (typeof hardware_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_hardware VALUES(\" + hardware_nocs.id + \", '\" + hardware_nocs.name + \"', '\" + hardware_nocs.nature + \"', '\" + hardware_nocs.version + \"', \" + hardware_nocs.bloc_connection + \", \" + hardware_nocs.esp_router + \", '\" + hardware_nocs.current_ic + \"', '\" + hardware_nocs.sensor + \"', '\" + hardware_nocs.status + \"', '\" + hardware_nocs.description + \"');\" \nelse\n    global.set(\"hardware\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1740,
        "wires": [
            [
                "29f1b1a375decdf7",
                "60c0196dac07acd0"
            ]
        ]
    },
    {
        "id": "29f1b1a375decdf7",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 1740,
        "wires": []
    },
    {
        "id": "b2add571b6f01571",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "hardware",
        "info": "",
        "x": 140,
        "y": 1620,
        "wires": []
    },
    {
        "id": "dd0fb0d9cbc16793",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_firmware WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1900,
        "wires": [
            [
                "c55b71d9d827d067"
            ]
        ]
    },
    {
        "id": "c55b71d9d827d067",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1900,
        "wires": [
            [
                "f6dd27d11911b50d"
            ]
        ]
    },
    {
        "id": "f6dd27d11911b50d",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_firmware WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 1960,
        "wires": [
            [
                "08dcb778c9b18567"
            ]
        ]
    },
    {
        "id": "08dcb778c9b18567",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1960,
        "wires": [
            [
                "05c2a5a4b19c7178"
            ]
        ]
    },
    {
        "id": "05c2a5a4b19c7178",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"firmware\") | 0\ncount = count + 1;\nglobal.set(\"firmware\", count)\n\nmsg.payload = \"\"\n\nlet firmware_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet firmware_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof firmware_local != \"undefined\") {\n    if (typeof firmware_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_firmware WHERE id = \" + firmware_local.id + \";\"\n    else if (JSON.stringify(firmware_nocs) != JSON.stringify(firmware_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_firmware SET id = \" + firmware_nocs.id + \",name = '\" + firmware_nocs.name + \"',version = '\" + firmware_nocs.version + \"',nature = '\" + firmware_nocs.nature + \"',function = '\" + firmware_nocs.function + \"',status = '\" + firmware_nocs.status + \"',used_module = '\" + firmware_nocs.used_module + \"',description = '\" + firmware_nocs.description + \"',path = '\" + firmware_nocs.path + \"' WHERE id = \" + firmware_local.id + \";\"\n}\nelse if (typeof firmware_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_firmware VALUES(\" + firmware_nocs.id + \", '\" + firmware_nocs.name + \"', '\" + firmware_nocs.version + \"', '\" + firmware_nocs.nature + \"', '\" + firmware_nocs.function + \"', '\" + firmware_nocs.status + \"', '\" + firmware_nocs.used_module + \"', '\" + firmware_nocs.description + \"', '\" + firmware_nocs.path + \"');\" \nelse\n    global.set(\"firmware\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1960,
        "wires": [
            [
                "5f29b20bf80ee470",
                "41813233a6d071d4"
            ]
        ]
    },
    {
        "id": "5f29b20bf80ee470",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 1960,
        "wires": []
    },
    {
        "id": "a93ac6f89eb0111a",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "firmware",
        "info": "",
        "x": 140,
        "y": 1840,
        "wires": []
    },
    {
        "id": "97a29af29ac8edf1",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_devicesetup WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2120,
        "wires": [
            [
                "57d123bbbf53a3cb"
            ]
        ]
    },
    {
        "id": "57d123bbbf53a3cb",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2120,
        "wires": [
            [
                "7b3746bebb7df33a"
            ]
        ]
    },
    {
        "id": "7b3746bebb7df33a",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_devicesetup WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2180,
        "wires": [
            [
                "5b43441a062d39c1"
            ]
        ]
    },
    {
        "id": "5b43441a062d39c1",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2180,
        "wires": [
            [
                "66307c3131656cb7"
            ]
        ]
    },
    {
        "id": "66307c3131656cb7",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"devicesetup\") | 0\ncount = count + 1;\nglobal.set(\"devicesetup\", count)\n\nmsg.payload = \"\"\n\nlet devicesetup_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet devicesetup_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof devicesetup_local != \"undefined\") {\n    if (typeof devicesetup_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_devicesetup WHERE id = \" + devicesetup_local.id + \";\"\n    else if (JSON.stringify(devicesetup_nocs) != JSON.stringify(devicesetup_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_devicesetup SET id = \" + devicesetup_nocs.id + \",name = '\" + devicesetup_nocs.name + \"',description = '\" + devicesetup_nocs.description + \"',firmware_id = \" + devicesetup_nocs.firmware_id + \",hardware_id = \" + devicesetup_nocs.hardware_id + \" WHERE id = \" + devicesetup_local.id + \";\" \n}\nelse if (typeof devicesetup_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_devicesetup VALUES(\" + devicesetup_nocs.id + \", '\" + devicesetup_nocs.name + \"', '\" + devicesetup_nocs.description + \"', \" + devicesetup_nocs.firmware_id + \", \" + devicesetup_nocs.hardware_id + \");\" \nelse\n    global.set(\"devicesetup\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2180,
        "wires": [
            [
                "dc228697b531e804",
                "f59ee851ac87408c"
            ]
        ]
    },
    {
        "id": "dc228697b531e804",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 2180,
        "wires": []
    },
    {
        "id": "ab0ce47ba2fbdaf0",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "devicesetup",
        "info": "",
        "x": 150,
        "y": 2060,
        "wires": []
    },
    {
        "id": "93edf3e6f07d6b91",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_devicecompany WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2340,
        "wires": [
            [
                "9266b41126b33bbf"
            ]
        ]
    },
    {
        "id": "9266b41126b33bbf",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2340,
        "wires": [
            [
                "b51f05f0ecc233c2"
            ]
        ]
    },
    {
        "id": "b51f05f0ecc233c2",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_devicecompany WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2420,
        "wires": [
            [
                "4f3b0d9df6295b5c"
            ]
        ]
    },
    {
        "id": "4f3b0d9df6295b5c",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2420,
        "wires": [
            [
                "ea3f55e2ec5df622"
            ]
        ]
    },
    {
        "id": "ea3f55e2ec5df622",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"devicecompany\") | 0\ncount = count + 1;\nglobal.set(\"devicecompany\", count)\n\nmsg.payload = \"\"\n\nlet devicecompany_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet devicecompany_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof devicecompany_local != \"undefined\") {\n    if (typeof devicecompany_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_devicecompany WHERE id = \" + devicecompany_local.id + \";\"\n    else if (JSON.stringify(devicecompany_nocs) != JSON.stringify(devicecompany_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_devicecompany SET id = \" + devicecompany_nocs.id + \",name = '\" + devicecompany_nocs.name + \"',description = '\" + devicecompany_nocs.description + \"' WHERE id = \" + devicecompany_local.id + \";\" \n}\nelse if (typeof devicecompany_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_devicecompany VALUES(\" + devicecompany_nocs.id + \", '\" + devicecompany_nocs.name + \"', '\" + devicecompany_nocs.description + \"');\" \nelse\n    global.set(\"devicecompany\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2420,
        "wires": [
            [
                "bd536c0efcc1ce0f",
                "00ca827320aae9c5"
            ]
        ]
    },
    {
        "id": "bd536c0efcc1ce0f",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 2420,
        "wires": []
    },
    {
        "id": "b192aebf24178f75",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "devicecompany",
        "info": "",
        "x": 160,
        "y": 2280,
        "wires": []
    },
    {
        "id": "bd93b4160da4b12c",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_devicetype WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2580,
        "wires": [
            [
                "38b0657361fac77c"
            ]
        ]
    },
    {
        "id": "38b0657361fac77c",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2580,
        "wires": [
            [
                "34ea2652bc0a5b44"
            ]
        ]
    },
    {
        "id": "34ea2652bc0a5b44",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_devicetype WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2640,
        "wires": [
            [
                "2331fbeea812d459"
            ]
        ]
    },
    {
        "id": "2331fbeea812d459",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2640,
        "wires": [
            [
                "85d264a5ba2b6485"
            ]
        ]
    },
    {
        "id": "85d264a5ba2b6485",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"devicetype\") | 0\ncount = count + 1;\nglobal.set(\"devicetype\", count)\n\nmsg.payload = \"\"\n\nlet devicetype_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet devicetype_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof devicetype_local != \"undefined\") {\n    if (typeof devicetype_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_devicetype WHERE id = \" + devicetype_local.id + \";\"\n    else if (JSON.stringify(devicetype_nocs) != JSON.stringify(devicetype_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_devicetype SET id = \" + devicetype_nocs.id + \",name = '\" + devicetype_nocs.name + \"',description = '\" + devicetype_nocs.description + \"',device_company_id = \" + devicetype_nocs.device_company_id + \" WHERE id = \" + devicetype_local.id + \";\" \n}\nelse if (typeof devicetype_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_devicetype VALUES(\" + devicetype_nocs.id + \", '\" + devicetype_nocs.name + \"', '\" + devicetype_nocs.description + \"', \" + devicetype_nocs.device_company_id + \");\" \nelse\n    global.set(\"devicetype\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2640,
        "wires": [
            [
                "a5948414b1be5f3e",
                "e4d6f9e89bbcd44d"
            ]
        ]
    },
    {
        "id": "a5948414b1be5f3e",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 2640,
        "wires": []
    },
    {
        "id": "bf814a7a27f37484",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "devicetype",
        "info": "",
        "x": 140,
        "y": 2520,
        "wires": []
    },
    {
        "id": "09e1e99bd9d147c0",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_device WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2800,
        "wires": [
            [
                "ac2cd110c9be6da2"
            ]
        ]
    },
    {
        "id": "ac2cd110c9be6da2",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2800,
        "wires": [
            [
                "5fdf34eb607cf650"
            ]
        ]
    },
    {
        "id": "5fdf34eb607cf650",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_device WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 2860,
        "wires": [
            [
                "3ca2129672293fa0"
            ]
        ]
    },
    {
        "id": "3ca2129672293fa0",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2860,
        "wires": [
            [
                "e0b3c97216fd707f"
            ]
        ]
    },
    {
        "id": "e0b3c97216fd707f",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"device\") | 0\ncount = count + 1;\nglobal.set(\"device\", count)\n\nmsg.payload = \"\"\n\nlet device_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet device_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof device_local != \"undefined\") {\n    if (typeof device_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_device WHERE id = \" + device_local.id + \";\"\n    else if (JSON.stringify(device_nocs) != JSON.stringify(device_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_device SET id = \" + device_nocs.id + \",mac = '\" + device_nocs.mac + \"',description = '\" + device_nocs.description + \"',status = '\" + device_nocs.status + \"',registration_date = '\" + device_nocs.registration_date + \"',device_setup_id = \" + device_nocs.device_setup_id + \",device_type_id = \" + device_nocs.device_type_id + \",ip = '\" + device_nocs.ip + \"' WHERE id = \" + device_local.id + \";\"\n}\nelse if (typeof device_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_device VALUES(\" + device_nocs.id + \", '\" + device_nocs.mac + \"', '\" + device_nocs.description + \"', '\" + device_nocs.status + \"', '\" + device_nocs.registration_date + \"', \" + device_nocs.device_setup_id + \", \" + device_nocs.device_type_id + \", '\" + device_nocs.ip + \"');\"  \nelse\n    global.set(\"device\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2860,
        "wires": [
            [
                "b988e95f22835ab2",
                "66ec5ed4cb722966"
            ]
        ]
    },
    {
        "id": "b988e95f22835ab2",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 2860,
        "wires": []
    },
    {
        "id": "d73e12e0b0355aee",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "device",
        "info": "",
        "x": 130,
        "y": 2740,
        "wires": []
    },
    {
        "id": "925a7c6ea1991a36",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "NOCS",
        "query": "SELECT * FROM public.organic_nodes_control_monitoreddevice WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "fc6bd11bac1af11f",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3020,
        "wires": [
            [
                "6a1095d6d83ef0be"
            ]
        ]
    },
    {
        "id": "6a1095d6d83ef0be",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "cria msg.nocs",
        "rules": [
            {
                "t": "set",
                "p": "nocs",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3020,
        "wires": [
            [
                "9cd3914a5e266d1f"
            ]
        ]
    },
    {
        "id": "9cd3914a5e266d1f",
        "type": "postgresql",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "Local",
        "query": "SELECT * FROM public.organic_nodes_control_monitoreddevice WHERE id = {{msg.contador}};",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 390,
        "y": 3080,
        "wires": [
            [
                "02b8ea4440e61265"
            ]
        ]
    },
    {
        "id": "02b8ea4440e61265",
        "type": "change",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "cria msg.local",
        "rules": [
            {
                "t": "set",
                "p": "local",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 3080,
        "wires": [
            [
                "7ea589c7b65673ad"
            ]
        ]
    },
    {
        "id": "7ea589c7b65673ad",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"monitoreddevice\") | 0\ncount = count + 1;\nglobal.set(\"monitoreddevice\", count)\n\nmsg.payload = \"\"\n\nlet monitoreddevice_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet monitoreddevice_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof monitoreddevice_local != \"undefined\") {\n    if (typeof monitoreddevice_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.organic_nodes_control_monitoreddevice WHERE id = \" + monitoreddevice_local.id + \";\"\n    else if (JSON.stringify(monitoreddevice_nocs) != JSON.stringify(monitoreddevice_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.organic_nodes_control_monitoreddevice SET id = \" + monitoreddevice_nocs.id + \",name = '\" + monitoreddevice_nocs.name + \"',description = '\" + monitoreddevice_nocs.description + \"',\\\"monthly_kW_consumption\\\" = \" + monitoreddevice_nocs.monthly_kW_consumption + \",voltage = \" + monitoreddevice_nocs.voltage + \",power = \" + monitoreddevice_nocs.power + \" WHERE id = \" + monitoreddevice_local.id + \";\" \n}\nelse if (typeof monitoreddevice_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.organic_nodes_control_monitoreddevice VALUES(\" + monitoreddevice_nocs.id + \", '\" + monitoreddevice_nocs.name + \"', '\" + monitoreddevice_nocs.description + \"', \" + monitoreddevice_nocs.monthly_kW_consumption + \", \" + monitoreddevice_nocs.voltage + \", \" + monitoreddevice_nocs.power + \");\" \nelse\n    global.set(\"monitoreddevice\", 1)\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 3080,
        "wires": [
            [
                "d5a5c383b89a0ced",
                "045414f91dce6ae4"
            ]
        ]
    },
    {
        "id": "d5a5c383b89a0ced",
        "type": "postgres",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 970,
        "y": 3080,
        "wires": []
    },
    {
        "id": "4ee0c7b002fbb548",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "monitoreddevice",
        "info": "",
        "x": 160,
        "y": 2960,
        "wires": []
    },
    {
        "id": "68c2dd9382fd801d",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "hardware",
        "links": [
            "ca76449609927f3a",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 1680,
        "wires": [
            [
                "31fbc94b9d23015e"
            ]
        ]
    },
    {
        "id": "1e3e8e8b79c1d1b1",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "firmware",
        "links": [
            "2ecea0a103eac8af",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 1900,
        "wires": [
            [
                "7e5fe880dca3e2fd"
            ]
        ]
    },
    {
        "id": "d28711ca27a38fcf",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "devicesetup",
        "links": [
            "0f55a45b5d4722e1",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 2120,
        "wires": [
            [
                "61914e2fd7f502c5"
            ]
        ]
    },
    {
        "id": "ceab5f64bb45b087",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "devicecompany",
        "links": [
            "93df8599ad612ec7",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 2340,
        "wires": [
            [
                "ee1510fe381fadc0"
            ]
        ]
    },
    {
        "id": "c2e208e816e1214d",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "devicetype",
        "links": [
            "2027e5a5f226d68c",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 2580,
        "wires": [
            [
                "450a060d68a4a777"
            ]
        ]
    },
    {
        "id": "4eb69295d4e3be47",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "device",
        "links": [
            "9188e3a48d2a39be",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 2800,
        "wires": [
            [
                "25d36a95bd6dd971"
            ]
        ]
    },
    {
        "id": "d637ab39ad04abc3",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "monitoreddevice",
        "links": [
            "36e393322517e0b9",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 3020,
        "wires": [
            [
                "63a8e8e085645b8e"
            ]
        ]
    },
    {
        "id": "d06c2278f6cdc2f2",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "mqttaccess",
        "links": [
            "0266a853038f15ee",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 3680,
        "wires": [
            [
                "c0015dc0ad46558c"
            ]
        ]
    },
    {
        "id": "6063254271dbe2f8",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "mqttdevice",
        "links": [
            "cd564a67b7af70f5",
            "199e644b24cd4bf6"
        ],
        "x": 115,
        "y": 3900,
        "wires": [
            [
                "5189d37b1e1e6fe9"
            ]
        ]
    },
    {
        "id": "8d31d33e2b2cf7d0",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "",
        "property": "access_user",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 380,
        "wires": [
            [
                "105b7358fbc1c293"
            ]
        ]
    },
    {
        "id": "105b7358fbc1c293",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "access_user",
        "mode": "link",
        "links": [
            "cbed0e82daa4b5c2"
        ],
        "x": 1085,
        "y": 380,
        "wires": []
    },
    {
        "id": "e58fa1f7bf9f8550",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "criação e atualizção ",
        "func": "let count = global.get(\"access_user\") | 0\ncount = count + 1;\nglobal.set(\"access_user\", count)\n\nmsg.payload = \"\"\n\nlet access_user_nocs = JSON.parse(JSON.stringify(msg.nocs))[0]\nlet access_user_local = JSON.parse(JSON.stringify(msg.local))[0]\n\nif (typeof access_user_local != \"undefined\"){\n    if (typeof access_user_nocs == \"undefined\") // Deleta dados no banco caso o não existam no remoto\n        msg.payload = msg.payload + \"DELETE FROM public.core_access_user WHERE id = \" + access_user_local.id +\";\"\n    else if (JSON.stringify(access_user_nocs) != JSON.stringify(access_user_local)) // Atualiza dados no banco local caso ele exista\n        msg.payload = msg.payload + \"UPDATE public.core_access_user SET id = \" + access_user_nocs.id + \", password = '-' , last_login = '2023-03-06 15:59:09.823184-03', is_superuser = \" + access_user_nocs.is_superuser + \", username = '\" + access_user_nocs.username + \"', first_name = '\" + access_user_nocs.first_name + \"', last_name = '\" + access_user_nocs.last_name + \"', email = '\" + access_user_nocs.email + \"', is_staff = \" + access_user_nocs.is_staff + \", is_active = \" + access_user_nocs.is_active + \", date_joined = '\" + access_user_nocs.date_joined + \"', cpf = '\" + access_user_nocs.cpf + \"', telephone = '\" + access_user_nocs.telephone + \"' WHERE id = \"+access_user_local.id+\";\"\n}\nelse if (typeof access_user_nocs != \"undefined\") // Cria dados no banco caso eles não existão\n    msg.payload = msg.payload + \"INSERT INTO public.core_access_user VALUES(\" + access_user_nocs.id + \", '-' , '2023-03-06 15:59:09.823184-03', \" + access_user_nocs.is_superuser + \", '\" + access_user_nocs.username + \"', '\" + access_user_nocs.first_name + \"', '\" + access_user_nocs.last_name + \"', '\" + access_user_nocs.email + \"', \" + access_user_nocs.is_staff + \", \" + access_user_nocs.is_active + \", '\" + access_user_nocs.date_joined + \"', '\" + access_user_nocs.cpf + \"', '\" + access_user_nocs.telephone + \"');\"\nelse\n    global.set(\"access_user\", 1)\n    \nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 420,
        "wires": [
            [
                "8d31d33e2b2cf7d0",
                "3683bba1512eac8e"
            ]
        ]
    },
    {
        "id": "e7ae012fb740437f",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "",
        "property": "country",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 600,
        "wires": [
            [
                "f2da1fd75e931b7e"
            ]
        ]
    },
    {
        "id": "f2da1fd75e931b7e",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "country",
        "mode": "link",
        "links": [
            "c4b96ca4567898b7"
        ],
        "x": 1085,
        "y": 600,
        "wires": []
    },
    {
        "id": "75b0e13e9d5d6173",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "53383e8862e9b803",
        "name": "contador",
        "func": "msg.contador = global.get(\"country\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"country\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 580,
        "wires": [
            [
                "0bf4651d4e56a56b"
            ]
        ]
    },
    {
        "id": "4ba1e29a17d4625b",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "a8c438ba71c0a43f",
        "name": "contador",
        "func": "msg.contador = global.get(\"access_user\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"access_user\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 360,
        "wires": [
            [
                "3494d54734219a7b"
            ]
        ]
    },
    {
        "id": "d68a4f3dd5f19318",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "",
        "property": "state",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 820,
        "wires": [
            [
                "45d280528d1b4dfb"
            ]
        ]
    },
    {
        "id": "45d280528d1b4dfb",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "state",
        "mode": "link",
        "links": [
            "dfb1adba836ad9e6"
        ],
        "x": 1085,
        "y": 820,
        "wires": []
    },
    {
        "id": "8e0de14dbdc7e36c",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "84114652054927ee",
        "name": "contador",
        "func": "msg.contador = global.get(\"state\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"state\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 800,
        "wires": [
            [
                "5a37981b0b87b961"
            ]
        ]
    },
    {
        "id": "6348c31f7f2bfb2d",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "contador",
        "func": "msg.contador = global.get(\"city\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"city\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1020,
        "wires": [
            [
                "0d0fecc4674660ee"
            ]
        ]
    },
    {
        "id": "185960da8a687a4a",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "contador",
        "func": "msg.contador = global.get(\"company\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"company\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1240,
        "wires": [
            [
                "06c64d2de231457c"
            ]
        ]
    },
    {
        "id": "41a4c53907b5c19d",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "contador",
        "func": "msg.contador = global.get(\"area\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"area\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1460,
        "wires": [
            [
                "3574797015d06eb5"
            ]
        ]
    },
    {
        "id": "31fbc94b9d23015e",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "contador",
        "func": "msg.contador = global.get(\"hardware\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"hardware\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1680,
        "wires": [
            [
                "75e023ec7e8f678d"
            ]
        ]
    },
    {
        "id": "7e5fe880dca3e2fd",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "contador",
        "func": "msg.contador = global.get(\"firmware\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"firmware\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1900,
        "wires": [
            [
                "dd0fb0d9cbc16793"
            ]
        ]
    },
    {
        "id": "61914e2fd7f502c5",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "contador",
        "func": "msg.contador = global.get(\"devicesetup\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"devicesetup\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 2120,
        "wires": [
            [
                "97a29af29ac8edf1"
            ]
        ]
    },
    {
        "id": "ee1510fe381fadc0",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "contador",
        "func": "msg.contador = global.get(\"devicecompany\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"devicecompany\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 2340,
        "wires": [
            [
                "93edf3e6f07d6b91"
            ]
        ]
    },
    {
        "id": "450a060d68a4a777",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "contador",
        "func": "msg.contador = global.get(\"devicetype\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"devicetype\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 2580,
        "wires": [
            [
                "bd93b4160da4b12c"
            ]
        ]
    },
    {
        "id": "25d36a95bd6dd971",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "contador",
        "func": "msg.contador = global.get(\"device\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"device\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 2800,
        "wires": [
            [
                "09e1e99bd9d147c0"
            ]
        ]
    },
    {
        "id": "63a8e8e085645b8e",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "contador",
        "func": "msg.contador = global.get(\"monitoreddevice\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"monitoreddevice\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 3020,
        "wires": [
            [
                "925a7c6ea1991a36"
            ]
        ]
    },
    {
        "id": "ba1f6f85a3e0a3ae",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "contador",
        "func": "msg.contador = global.get(\"circuit\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"circuit\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 3240,
        "wires": [
            [
                "117c66decf94ec8c"
            ]
        ]
    },
    {
        "id": "0dd509c586513054",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "contador",
        "func": "msg.contador = global.get(\"setup\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"setup\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 3460,
        "wires": [
            [
                "c6b85b8c2ea6269e"
            ]
        ]
    },
    {
        "id": "c0015dc0ad46558c",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "contador",
        "func": "msg.contador = global.get(\"mqttaccess\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"mqttaccess\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 3680,
        "wires": [
            [
                "195c1eca51232af3"
            ]
        ]
    },
    {
        "id": "5189d37b1e1e6fe9",
        "type": "function",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "contador",
        "func": "msg.contador = global.get(\"mqttdevice\")\n\nif (typeof msg.contador == \"undefined\"){\n    global.set(\"mqttdevice\", 1)\n    msg.contador =1\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 3900,
        "wires": [
            [
                "302c4a48e6208894"
            ]
        ]
    },
    {
        "id": "e41ae0e97c146b1b",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "",
        "property": "city",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1040,
        "wires": [
            [
                "cb34236a415a64dd"
            ]
        ]
    },
    {
        "id": "cb34236a415a64dd",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "14955f02aa0317be",
        "name": "city",
        "mode": "link",
        "links": [
            "67a1237aa8db2ef2"
        ],
        "x": 1085,
        "y": 1040,
        "wires": []
    },
    {
        "id": "baf49d39bd3ee603",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "",
        "property": "company",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1260,
        "wires": [
            [
                "9af565314439fc4e"
            ]
        ]
    },
    {
        "id": "9af565314439fc4e",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "e7f10f45daeaf688",
        "name": "company",
        "mode": "link",
        "links": [
            "55d44e3a3b6f493a"
        ],
        "x": 1085,
        "y": 1260,
        "wires": []
    },
    {
        "id": "45a377a11782d233",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "",
        "property": "area",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1480,
        "wires": [
            [
                "4aa12f5df2e22995"
            ]
        ]
    },
    {
        "id": "4aa12f5df2e22995",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "240bcd834eb33cf7",
        "name": "area",
        "mode": "link",
        "links": [
            "08d5038231a82483"
        ],
        "x": 1085,
        "y": 1480,
        "wires": []
    },
    {
        "id": "60c0196dac07acd0",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "",
        "property": "hardware",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1700,
        "wires": [
            [
                "ca76449609927f3a"
            ]
        ]
    },
    {
        "id": "ca76449609927f3a",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "f41dbc6febc7f940",
        "name": "hardware",
        "mode": "link",
        "links": [
            "68c2dd9382fd801d"
        ],
        "x": 1085,
        "y": 1700,
        "wires": []
    },
    {
        "id": "41813233a6d071d4",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "",
        "property": "firmware",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1920,
        "wires": [
            [
                "2ecea0a103eac8af"
            ]
        ]
    },
    {
        "id": "2ecea0a103eac8af",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "5a6ed92c41528bb0",
        "name": "firmware",
        "mode": "link",
        "links": [
            "1e3e8e8b79c1d1b1"
        ],
        "x": 1085,
        "y": 1920,
        "wires": []
    },
    {
        "id": "f59ee851ac87408c",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "",
        "property": "devicesetup",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 2140,
        "wires": [
            [
                "0f55a45b5d4722e1"
            ]
        ]
    },
    {
        "id": "0f55a45b5d4722e1",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "cee982dc38904cdb",
        "name": "devicesetup",
        "mode": "link",
        "links": [
            "d28711ca27a38fcf"
        ],
        "x": 1085,
        "y": 2140,
        "wires": []
    },
    {
        "id": "00ca827320aae9c5",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "",
        "property": "devicecompany",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 2380,
        "wires": [
            [
                "93df8599ad612ec7"
            ]
        ]
    },
    {
        "id": "93df8599ad612ec7",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "c3167a56125bb451",
        "name": "devicecompany",
        "mode": "link",
        "links": [
            "ceab5f64bb45b087"
        ],
        "x": 1085,
        "y": 2380,
        "wires": []
    },
    {
        "id": "e4d6f9e89bbcd44d",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "",
        "property": "devicetype",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 2600,
        "wires": [
            [
                "2027e5a5f226d68c"
            ]
        ]
    },
    {
        "id": "2027e5a5f226d68c",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "a1f79c2e32ad7c7a",
        "name": "devicetype",
        "mode": "link",
        "links": [
            "c2e208e816e1214d"
        ],
        "x": 1085,
        "y": 2600,
        "wires": []
    },
    {
        "id": "66ec5ed4cb722966",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "",
        "property": "device",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 2820,
        "wires": [
            [
                "9188e3a48d2a39be"
            ]
        ]
    },
    {
        "id": "9188e3a48d2a39be",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "af65b1cf913c581f",
        "name": "device",
        "mode": "link",
        "links": [
            "4eb69295d4e3be47"
        ],
        "x": 1085,
        "y": 2820,
        "wires": []
    },
    {
        "id": "045414f91dce6ae4",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "",
        "property": "monitoreddevice",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3040,
        "wires": [
            [
                "36e393322517e0b9"
            ]
        ]
    },
    {
        "id": "36e393322517e0b9",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "27233bf2b30dc86e",
        "name": "monitoreddevice",
        "mode": "link",
        "links": [
            "d637ab39ad04abc3"
        ],
        "x": 1085,
        "y": 3040,
        "wires": []
    },
    {
        "id": "862164126c05c25e",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "",
        "property": "circuit",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3260,
        "wires": [
            [
                "42b2aefe8a793e53"
            ]
        ]
    },
    {
        "id": "42b2aefe8a793e53",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "28709fc7768f4c7f",
        "name": "circuit",
        "mode": "link",
        "links": [
            "1dbcec2c2e281356"
        ],
        "x": 1085,
        "y": 3260,
        "wires": []
    },
    {
        "id": "f975190a66586231",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "",
        "property": "setup",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3480,
        "wires": [
            [
                "2819e3062c0ec390"
            ]
        ]
    },
    {
        "id": "2819e3062c0ec390",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "709f9014691197e8",
        "name": "setup",
        "mode": "link",
        "links": [
            "4212ca74f6fe6925"
        ],
        "x": 1085,
        "y": 3480,
        "wires": []
    },
    {
        "id": "880905616bfab06a",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "",
        "property": "mqttaccess",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3700,
        "wires": [
            [
                "0266a853038f15ee"
            ]
        ]
    },
    {
        "id": "0266a853038f15ee",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "4a661830d296a9f8",
        "name": "mqttaccess",
        "mode": "link",
        "links": [
            "d06c2278f6cdc2f2"
        ],
        "x": 1085,
        "y": 3700,
        "wires": []
    },
    {
        "id": "84307d43b1d7dc6d",
        "type": "switch",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "",
        "property": "mqttdevice",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3920,
        "wires": [
            [
                "cd564a67b7af70f5"
            ]
        ]
    },
    {
        "id": "cd564a67b7af70f5",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "408c191f95cb3007",
        "name": "mqttdevice",
        "mode": "link",
        "links": [
            "6063254271dbe2f8"
        ],
        "x": 1085,
        "y": 3920,
        "wires": []
    },
    {
        "id": "57511990dabf0fdd",
        "type": "stoptimer",
        "z": "ba2e913aeb86a3ea",
        "g": "498764931f4b71aa",
        "duration": "1",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "espera atalização",
        "x": 270,
        "y": 200,
        "wires": [
            [
                "199e644b24cd4bf6"
            ],
            []
        ]
    },
    {
        "id": "024e41e4f2951211",
        "type": "catch",
        "z": "ba2e913aeb86a3ea",
        "g": "ce6090e7bcceefed",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 4340,
        "wires": [
            [
                "27236b7cd8520630"
            ]
        ]
    },
    {
        "id": "8fc69f1a4a55cbad",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "ce6090e7bcceefed",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 4280,
        "wires": []
    },
    {
        "id": "27236b7cd8520630",
        "type": "template",
        "z": "ba2e913aeb86a3ea",
        "g": "ce6090e7bcceefed",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 4340,
        "wires": [
            [
                "4b54f36dc2249de7"
            ]
        ]
    },
    {
        "id": "4b54f36dc2249de7",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "ce6090e7bcceefed",
        "name": "status erro",
        "mode": "link",
        "links": [
            "3ad75db1d1e689f2"
        ],
        "x": 415,
        "y": 4340,
        "wires": []
    },
    {
        "id": "f5a1ee040838f147",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 4060,
        "wires": []
    },
    {
        "id": "618bc920dedea369",
        "type": "template",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "Atualizando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Atualizando...",
        "output": "str",
        "x": 350,
        "y": 4120,
        "wires": [
            [
                "dc3b128908422624"
            ]
        ]
    },
    {
        "id": "dc3b128908422624",
        "type": "link out",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "status Atualizando",
        "mode": "link",
        "links": [
            "3ad75db1d1e689f2"
        ],
        "x": 485,
        "y": 4120,
        "wires": []
    },
    {
        "id": "53e88746ad15d7a1",
        "type": "complete",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "",
        "scope": [
            "c6b85b8c2ea6269e",
            "99814e0e6070de17",
            "3574797015d06eb5",
            "b04e027a31b064c9",
            "06c64d2de231457c",
            "9885143b467005f6",
            "0d0fecc4674660ee",
            "d29e247425cbdb63",
            "5a37981b0b87b961",
            "df797988d7880a2b",
            "0bf4651d4e56a56b",
            "aa4df2b0c9be27fb",
            "3494d54734219a7b",
            "c6c8aa73f182ec79",
            "117c66decf94ec8c",
            "e59714b709552c49",
            "302c4a48e6208894",
            "8115d6131ec3fd07",
            "51f727f4ce50e655",
            "195c1eca51232af3",
            "8ddad3cfeac2b761",
            "75e023ec7e8f678d",
            "db0bab0fa0b144aa",
            "dd0fb0d9cbc16793",
            "f6dd27d11911b50d",
            "97a29af29ac8edf1",
            "7b3746bebb7df33a",
            "93edf3e6f07d6b91",
            "b51f05f0ecc233c2",
            "bd93b4160da4b12c",
            "34ea2652bc0a5b44",
            "09e1e99bd9d147c0",
            "5fdf34eb607cf650",
            "925a7c6ea1991a36",
            "9cd3914a5e266d1f"
        ],
        "uncaught": false,
        "x": 170,
        "y": 4120,
        "wires": [
            [
                "618bc920dedea369"
            ]
        ]
    },
    {
        "id": "d04604ecc6637529",
        "type": "template",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "Finalizado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Finalizado",
        "output": "str",
        "x": 350,
        "y": 4180,
        "wires": [
            [
                "dc3b128908422624"
            ]
        ]
    },
    {
        "id": "d9dfd6334355e3e0",
        "type": "complete",
        "z": "ba2e913aeb86a3ea",
        "g": "f56b1859406935eb",
        "name": "",
        "scope": [
            "5c4bec19b5308a36",
            "4272d6c7aae0211d",
            "019f5dfdcb3403e7",
            "f9b8ac18eb652e46",
            "7ea589c7b65673ad",
            "e0b3c97216fd707f",
            "85d264a5ba2b6485",
            "ea3f55e2ec5df622",
            "66307c3131656cb7",
            "05c2a5a4b19c7178",
            "f9907a4c8664da93",
            "34d669944dc1f7f2",
            "0993cd6b4bfe5004",
            "661212b02ba49f94",
            "afdbc99d43bb27f5",
            "37b33a3af2fa229a",
            "e58fa1f7bf9f8550"
        ],
        "uncaught": false,
        "x": 170,
        "y": 4180,
        "wires": [
            [
                "d04604ecc6637529"
            ]
        ]
    },
    {
        "id": "3ad75db1d1e689f2",
        "type": "link in",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "name": "status",
        "links": [
            "257e65e651a12260",
            "4b54f36dc2249de7",
            "dc3b128908422624"
        ],
        "x": 1115,
        "y": 4360,
        "wires": [
            []
        ]
    },
    {
        "id": "2853a7f0ee76f7f1",
        "type": "comment",
        "z": "ba2e913aeb86a3ea",
        "g": "eaafc316090ff166",
        "name": "Responsavel por manter as tabelas locais sincronizadas",
        "info": "",
        "x": 240,
        "y": 60,
        "wires": []
    },
    {
        "id": "3056ee4b1311ad3b",
        "type": "postgresql",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "",
        "query": "SELECT id FROM public.organic_nodes_control_mqttaccess where mqtt_id = '{{msg.temp.id}}';",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 430,
        "y": 200,
        "wires": [
            [
                "7cd8f04c0521442b"
            ]
        ]
    },
    {
        "id": "7cd8f04c0521442b",
        "type": "function",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "Verifica Cadastro no banco",
        "func": "var msg2 = {}\nif (typeof msg.payload[0] != 'undefined'){\n    msg2.payload = msg.temp\n    return [msg2, null];\n}\nreturn [null, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 200,
        "wires": [
            [
                "18a9e0b0fa31c882"
            ],
            [
                "60d5acd974e6fbff"
            ]
        ]
    },
    {
        "id": "1b6f6d598dd77a2c",
        "type": "change",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "Duplica",
        "rules": [
            {
                "t": "set",
                "p": "temp",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 200,
        "wires": [
            [
                "3056ee4b1311ad3b"
            ]
        ]
    },
    {
        "id": "60d5acd974e6fbff",
        "type": "subflow:ba2e913aeb86a3ea",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "",
        "x": 910,
        "y": 220,
        "wires": []
    },
    {
        "id": "f59098eaab85aa86",
        "type": "catch",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 180,
        "y": 620,
        "wires": [
            [
                "8584e919515c1a46",
                "2de6760cdaf7f833"
            ]
        ]
    },
    {
        "id": "63be16eb2652b1e9",
        "type": "comment",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "Avisos",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "8584e919515c1a46",
        "type": "template",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "95fc96bd3ac5a932"
            ]
        ]
    },
    {
        "id": "95fc96bd3ac5a932",
        "type": "link out",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "status erro",
        "mode": "link",
        "links": [
            "6027f5ee6457bff5"
        ],
        "x": 565,
        "y": 620,
        "wires": []
    },
    {
        "id": "7002636ddb30f910",
        "type": "comment",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "Status",
        "info": "",
        "x": 150,
        "y": 340,
        "wires": []
    },
    {
        "id": "82cb70c003e87435",
        "type": "template",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "Verificando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificando",
        "output": "str",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "eaa563ef1aa3827a"
            ]
        ]
    },
    {
        "id": "eaa563ef1aa3827a",
        "type": "link out",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "status",
        "mode": "link",
        "links": [
            "6027f5ee6457bff5"
        ],
        "x": 505,
        "y": 400,
        "wires": []
    },
    {
        "id": "d33356dcd168fc2a",
        "type": "complete",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "",
        "scope": [
            "1b6f6d598dd77a2c"
        ],
        "uncaught": false,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "82cb70c003e87435"
            ]
        ]
    },
    {
        "id": "b76ef466ac9a7e3a",
        "type": "template",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "Verificado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificado",
        "output": "str",
        "x": 360,
        "y": 460,
        "wires": [
            [
                "eaa563ef1aa3827a"
            ]
        ]
    },
    {
        "id": "1249f497fea1a35d",
        "type": "complete",
        "z": "669b2c5a031c1ea8",
        "g": "6a8629d966bc8d0e",
        "name": "",
        "scope": [
            "18a9e0b0fa31c882"
        ],
        "uncaught": false,
        "x": 190,
        "y": 460,
        "wires": [
            [
                "b76ef466ac9a7e3a"
            ]
        ]
    },
    {
        "id": "6027f5ee6457bff5",
        "type": "link in",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "name": "status",
        "links": [
            "95fc96bd3ac5a932",
            "eaa563ef1aa3827a"
        ],
        "x": 1015,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "34283419f9ffbc0e",
        "type": "link in",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "link in 3",
        "links": [
            "7c1258d1b0d8e2bb"
        ],
        "x": 305,
        "y": 240,
        "wires": [
            [
                "3056ee4b1311ad3b"
            ]
        ]
    },
    {
        "id": "857d65bc5c3a4532",
        "type": "comment",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "Verificação",
        "info": "",
        "x": 160,
        "y": 140,
        "wires": []
    },
    {
        "id": "37cd65d5cb164006",
        "type": "link in",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "name": "out 1",
        "links": [
            "18a9e0b0fa31c882"
        ],
        "x": 1015,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "18a9e0b0fa31c882",
        "type": "link out",
        "z": "669b2c5a031c1ea8",
        "g": "596a5810aa7c9486",
        "name": "out 1",
        "mode": "link",
        "links": [
            "37cd65d5cb164006"
        ],
        "x": 835,
        "y": 180,
        "wires": []
    },
    {
        "id": "7c1258d1b0d8e2bb",
        "type": "link out",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "34283419f9ffbc0e"
        ],
        "x": 565,
        "y": 660,
        "wires": []
    },
    {
        "id": "2de6760cdaf7f833",
        "type": "delay",
        "z": "669b2c5a031c1ea8",
        "g": "548a7071933c632c",
        "name": "Espera criação do banco",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 390,
        "y": 660,
        "wires": [
            [
                "7c1258d1b0d8e2bb"
            ]
        ]
    },
    {
        "id": "5d1828b78c891a98",
        "type": "comment",
        "z": "669b2c5a031c1ea8",
        "g": "8d913cb2ad803019",
        "name": "Verifica se quem enviou a msg possue cadastro",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "3b2cf9c3afe2d376",
        "type": "comment",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 300,
        "wires": []
    },
    {
        "id": "4688b5952e4cb207",
        "type": "template",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "Aclopando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Aclopando",
        "output": "str",
        "x": 350,
        "y": 360,
        "wires": [
            [
                "1bdf45fec5432b9b"
            ]
        ]
    },
    {
        "id": "1bdf45fec5432b9b",
        "type": "link out",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "status",
        "mode": "link",
        "links": [
            "024d69ffae70bb43"
        ],
        "x": 485,
        "y": 360,
        "wires": []
    },
    {
        "id": "684991e42840bd1e",
        "type": "complete",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "",
        "scope": [
            "cf1501f639a22e09"
        ],
        "uncaught": false,
        "x": 170,
        "y": 360,
        "wires": [
            [
                "4688b5952e4cb207"
            ]
        ]
    },
    {
        "id": "18a6cb4f095a87ac",
        "type": "template",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "Aclopado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Aclopado",
        "output": "str",
        "x": 340,
        "y": 420,
        "wires": [
            [
                "1bdf45fec5432b9b"
            ]
        ]
    },
    {
        "id": "d9c1878b7171502d",
        "type": "complete",
        "z": "34a182d43462f44e",
        "g": "bed7b3a0f177126a",
        "name": "",
        "scope": [
            "6c4792f058f9c526"
        ],
        "uncaught": false,
        "x": 170,
        "y": 420,
        "wires": [
            [
                "18a6cb4f095a87ac"
            ]
        ]
    },
    {
        "id": "720e202d330234e9",
        "type": "postgresql",
        "z": "34a182d43462f44e",
        "g": "7d093e4c3e197c6a",
        "name": "",
        "query": "(SELECT phase FROM public.organic_nodes_control_circuit WHERE id = (SELECT circuit_id FROM public.organic_nodes_control_setup WHERE device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE mqtt_id = '{{msg.temp.id}}')))))",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "6c4792f058f9c526"
            ]
        ]
    },
    {
        "id": "cf1501f639a22e09",
        "type": "change",
        "z": "34a182d43462f44e",
        "g": "7d093e4c3e197c6a",
        "name": "Duplica",
        "rules": [
            {
                "t": "set",
                "p": "temp",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 200,
        "wires": [
            [
                "720e202d330234e9"
            ]
        ]
    },
    {
        "id": "f12517394d74bd51",
        "type": "link out",
        "z": "34a182d43462f44e",
        "g": "7d093e4c3e197c6a",
        "name": "out 1",
        "mode": "link",
        "links": [
            "e93d0d47e2e97002"
        ],
        "x": 685,
        "y": 200,
        "wires": []
    },
    {
        "id": "6c4792f058f9c526",
        "type": "function",
        "z": "34a182d43462f44e",
        "g": "7d093e4c3e197c6a",
        "name": "Uni",
        "func": "var msg2 = {}\nmsg2.payload = msg.temp\n\ntry{\n    msg2.payload.phase_A = msg.payload[0].phase[0]\n    msg2.payload.phase_B = msg.payload[0].phase[1]\n    msg2.payload.phase_C = msg.payload[0].phase[2]\n} catch(e){\n}\n\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 200,
        "wires": [
            [
                "f12517394d74bd51"
            ]
        ]
    },
    {
        "id": "03cfbf557929fd45",
        "type": "catch",
        "z": "34a182d43462f44e",
        "g": "725e348fb3d326eb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 580,
        "wires": [
            [
                "109e2447e3fa82be",
                "c25702fb47b0c93f"
            ]
        ]
    },
    {
        "id": "c6f3631ee7fefa52",
        "type": "comment",
        "z": "34a182d43462f44e",
        "g": "725e348fb3d326eb",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 520,
        "wires": []
    },
    {
        "id": "109e2447e3fa82be",
        "type": "template",
        "z": "34a182d43462f44e",
        "g": "725e348fb3d326eb",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 580,
        "wires": [
            [
                "f91a7fb0598247fb"
            ]
        ]
    },
    {
        "id": "f91a7fb0598247fb",
        "type": "link out",
        "z": "34a182d43462f44e",
        "g": "725e348fb3d326eb",
        "name": "status erro",
        "mode": "link",
        "links": [
            "024d69ffae70bb43"
        ],
        "x": 425,
        "y": 580,
        "wires": []
    },
    {
        "id": "c25702fb47b0c93f",
        "type": "subflow:ba2e913aeb86a3ea",
        "z": "34a182d43462f44e",
        "g": "725e348fb3d326eb",
        "name": "",
        "x": 350,
        "y": 620,
        "wires": []
    },
    {
        "id": "024d69ffae70bb43",
        "type": "link in",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "name": "status",
        "links": [
            "1bdf45fec5432b9b",
            "f91a7fb0598247fb"
        ],
        "x": 715,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e93d0d47e2e97002",
        "type": "link in",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "name": "out 1",
        "links": [
            "f12517394d74bd51"
        ],
        "x": 715,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "7cd6bda2b53deacc",
        "type": "comment",
        "z": "34a182d43462f44e",
        "g": "7d093e4c3e197c6a",
        "name": "Adiciona phase",
        "info": "",
        "x": 160,
        "y": 140,
        "wires": []
    },
    {
        "id": "b2e99b61aad2d359",
        "type": "comment",
        "z": "34a182d43462f44e",
        "g": "0592eb0f2887c3ea",
        "name": "",
        "info": "",
        "x": 100,
        "y": 60,
        "wires": []
    },
    {
        "id": "3d4416342cc7ba80",
        "type": "link in",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "name": "status",
        "links": [
            "2d5d45d995cd7950",
            "bfbc8fe938c7db9b"
        ],
        "x": 1035,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "ec21d3efa2d6bffe",
        "type": "comment",
        "z": "09685600d012d69f",
        "g": "cbd92a9404646671",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 560,
        "wires": []
    },
    {
        "id": "613c357d84c4b290",
        "type": "template",
        "z": "09685600d012d69f",
        "g": "cbd92a9404646671",
        "name": "Verificando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verificando",
        "output": "str",
        "x": 350,
        "y": 620,
        "wires": [
            [
                "2d5d45d995cd7950"
            ]
        ]
    },
    {
        "id": "2d5d45d995cd7950",
        "type": "link out",
        "z": "09685600d012d69f",
        "g": "cbd92a9404646671",
        "name": "status",
        "mode": "link",
        "links": [
            "3d4416342cc7ba80"
        ],
        "x": 515,
        "y": 620,
        "wires": []
    },
    {
        "id": "f28f5b07b82ad25f",
        "type": "complete",
        "z": "09685600d012d69f",
        "g": "cbd92a9404646671",
        "name": "",
        "scope": [
            "9de51b97c7e82fbe"
        ],
        "uncaught": false,
        "x": 170,
        "y": 620,
        "wires": [
            [
                "613c357d84c4b290"
            ]
        ]
    },
    {
        "id": "9db4360617f953d5",
        "type": "catch",
        "z": "09685600d012d69f",
        "g": "f2c4303acede0f49",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 160,
        "y": 780,
        "wires": [
            [
                "6765db85280605b0",
                "1b7087b411242447"
            ]
        ]
    },
    {
        "id": "31c44d9fc3345bf2",
        "type": "comment",
        "z": "09685600d012d69f",
        "g": "f2c4303acede0f49",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 720,
        "wires": []
    },
    {
        "id": "6765db85280605b0",
        "type": "template",
        "z": "09685600d012d69f",
        "g": "f2c4303acede0f49",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 310,
        "y": 780,
        "wires": [
            [
                "bfbc8fe938c7db9b"
            ]
        ]
    },
    {
        "id": "bfbc8fe938c7db9b",
        "type": "link out",
        "z": "09685600d012d69f",
        "g": "f2c4303acede0f49",
        "name": "status erro",
        "mode": "link",
        "links": [
            "3d4416342cc7ba80"
        ],
        "x": 425,
        "y": 780,
        "wires": []
    },
    {
        "id": "1b7087b411242447",
        "type": "subflow:ba2e913aeb86a3ea",
        "z": "09685600d012d69f",
        "g": "f2c4303acede0f49",
        "name": "",
        "x": 350,
        "y": 820,
        "wires": []
    },
    {
        "id": "9de51b97c7e82fbe",
        "type": "postgresql",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "Local - Data do primeiro dado",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement ORDER BY id ASC LIMIT 1;",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "dc3a7d349708e2d6"
            ]
        ]
    },
    {
        "id": "dc3a7d349708e2d6",
        "type": "change",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "cria msg.date_inicial",
        "rules": [
            {
                "t": "set",
                "p": "date_inicial",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 200,
        "wires": [
            [
                "d03225ab40bd9df1"
            ]
        ]
    },
    {
        "id": "d03225ab40bd9df1",
        "type": "postgresql",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "Local - Data do ultimo dado",
        "query": "SELECT date_time_stamp FROM public.organic_nodes_control_measurement ORDER BY id DESC LIMIT 1;",
        "postgreSQLConfig": "f5b4451dc02a9205",
        "split": false,
        "rowsPerMsg": 1,
        "outputs": 1,
        "x": 600,
        "y": 260,
        "wires": [
            [
                "abb99e0ee5a4a3ac"
            ]
        ]
    },
    {
        "id": "abb99e0ee5a4a3ac",
        "type": "change",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "cria msg.date_atual",
        "rules": [
            {
                "t": "set",
                "p": "date_atual",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 260,
        "wires": [
            [
                "1b881169df1b0798"
            ]
        ]
    },
    {
        "id": "b500129a5f3786f8",
        "type": "function",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "name": "function 11",
        "func": "var periodo = msg.date_atual.date_time_stamp - msg.date_inicial.date_time_stamp\nvar qtd_dias = Math.trunc(((periodo / 1000) / 3600) / 24)\n\nmsg.payload = \"\"\nvar data  = JSON.parse(JSON.stringify(msg.date_inicial))\n\nif (qtd_dias > msg.permanence_date)\n    msg.payload = \"DELETE FROM public.organic_nodes_control_measurement WHERE date_time_stamp = '\" + data.date_time_stamp +\"';\"\n\nmsg.queryParameters = msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 420,
        "wires": [
            [
                "36c8241b8f5485ed",
                "202c19416b01f73a"
            ]
        ]
    },
    {
        "id": "202c19416b01f73a",
        "type": "postgres",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 410,
        "y": 460,
        "wires": []
    },
    {
        "id": "36c8241b8f5485ed",
        "type": "switch",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 420,
        "wires": [
            [
                "5dba1dd7f8ef9f37"
            ]
        ]
    },
    {
        "id": "5dba1dd7f8ef9f37",
        "type": "link out",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "name": "memoria",
        "mode": "link",
        "links": [
            "ef5798fc2f337728"
        ],
        "x": 525,
        "y": 420,
        "wires": []
    },
    {
        "id": "844943af8c7d4e73",
        "type": "comment",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "Pega datas",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "ef5798fc2f337728",
        "type": "link in",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "memoria",
        "links": [
            "5dba1dd7f8ef9f37"
        ],
        "x": 125,
        "y": 240,
        "wires": [
            [
                "9de51b97c7e82fbe"
            ]
        ]
    },
    {
        "id": "802c2f6560b5c23b",
        "type": "comment",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "name": "Verifica  a diferença entre as datas da ultima e da primeira mensagem do banco",
        "info": "",
        "x": 360,
        "y": 360,
        "wires": []
    },
    {
        "id": "692ad4797710b201",
        "type": "link in",
        "z": "09685600d012d69f",
        "g": "e446abe020d042ad",
        "name": "verifica",
        "links": [
            "1b881169df1b0798"
        ],
        "x": 115,
        "y": 420,
        "wires": [
            [
                "b500129a5f3786f8"
            ]
        ]
    },
    {
        "id": "1b881169df1b0798",
        "type": "link out",
        "z": "09685600d012d69f",
        "g": "3065cbbcf25013fd",
        "name": "verifica",
        "mode": "link",
        "links": [
            "692ad4797710b201"
        ],
        "x": 1005,
        "y": 260,
        "wires": []
    },
    {
        "id": "49029129029e0331",
        "type": "comment",
        "z": "09685600d012d69f",
        "g": "e83a4a9578dffbb9",
        "name": "Mantem sempre o banco com uma quantidade fixa de dados",
        "info": "",
        "x": 260,
        "y": 60,
        "wires": []
    },
    {
        "id": "21aa61e535f67716",
        "type": "link out",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "inserte",
        "mode": "link",
        "links": [
            "cf4ec4ad0b3238d1",
            "d23c3bb417f0e578"
        ],
        "x": 705,
        "y": 200,
        "wires": []
    },
    {
        "id": "34446c17128d3e27",
        "type": "switch",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "Indentificação fase",
        "property": "payload.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Monofasico",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Bifasico",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Trifasico",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "453064c635bce4af"
            ],
            [
                "b0bd82357acc1a58"
            ],
            [
                "90f3aa363caf5125"
            ]
        ]
    },
    {
        "id": "453064c635bce4af",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "Cria instancia Monofasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n",
        "output": "str",
        "x": 530,
        "y": 160,
        "wires": [
            [
                "21aa61e535f67716"
            ]
        ]
    },
    {
        "id": "b0bd82357acc1a58",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "Cria instancia Bifasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.current_B}},{{payload.current_B_sf}},{{payload.voltage_B}},{{payload.voltage_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.voltage_current_angle_B}},{{payload.voltage_current_angle_B_sf}},{{payload.power_factor_B}},{{payload.active_power_B}}, {{payload.active_power_B_sf}}, {{payload.reactive_power_B}}, {{payload.reactive_power_B_sf}}, {{payload.apparent_power_B}}, {{payload.apparent_power_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_B}}, {{payload.angle_voltage_A_B_sf}}, '{{payload.phase_A}}{{payload.phase_B}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));",
        "output": "str",
        "x": 520,
        "y": 200,
        "wires": [
            [
                "21aa61e535f67716"
            ]
        ]
    },
    {
        "id": "90f3aa363caf5125",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "Cria instancia Trifasico",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO public.organic_nodes_control_measurement(\n\tdate_time_stamp,\tmessage_counter,\tsetup_id,\tsource)\n\tVALUES ('{{payload.date_time_stamp}}', {{payload.message_counter}}, (SELECT id FROM public.organic_nodes_control_setup WHERE (device_id = (SELECT device_id FROM public.organic_nodes_control_mqttdevice WHERE (mqtt_access_id = (SELECT id FROM public.organic_nodes_control_mqttaccess WHERE (mqtt_id = '{{payload.id}}')))))), 0);\n\nINSERT INTO public.organic_nodes_control_frequencymeasure(\n\tfrequency,\tfrequency_sf,\tmeasurement_id)\n\tVALUES ({{payload.frequency}}, {{payload.frequency_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_sensormeasure(\n\ttemperature,\ttemperature_sf,\tmeasurement_id)\n\tVALUES ({{payload.temperature}}, {{payload.temperature_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.current_A}},{{payload.current_A_sf}},{{payload.voltage_A}},{{payload.voltage_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_A}}', {{payload.voltage_current_angle_A}},{{payload.voltage_current_angle_A_sf}},{{payload.power_factor_A}},{{payload.active_power_A}}, {{payload.active_power_A_sf}}, {{payload.reactive_power_A}}, {{payload.reactive_power_A_sf}}, {{payload.apparent_power_A}}, {{payload.apparent_power_A_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.current_B}},{{payload.current_B_sf}},{{payload.voltage_B}},{{payload.voltage_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_B}}', {{payload.voltage_current_angle_B}},{{payload.voltage_current_angle_B_sf}},{{payload.power_factor_B}},{{payload.active_power_B}}, {{payload.active_power_B_sf}}, {{payload.reactive_power_B}}, {{payload.reactive_power_B_sf}}, {{payload.apparent_power_B}}, {{payload.apparent_power_B_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_B}}, {{payload.angle_voltage_A_B_sf}}, '{{payload.phase_A}}{{payload.phase_B}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\t\nINSERT INTO public.organic_nodes_control_energymeasure(\n\tphase, current, current_sf, voltage, voltage_sf, measurement_id)\n\tVALUES ('{{payload.phase_C}}', {{payload.current_C}},{{payload.current_C_sf}},{{payload.voltage_C}},{{payload.voltage_C_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_powermeasure(\n\tphase, voltage_current_angle, voltage_current_angle_sf,\tpower_factor,\tactive_power,\tactive_power_sf,\treactive_power,\treactive_power_sf,\tapparent_power,\tapparent_power_sf\t, measurement_id)\n\tVALUES ('{{payload.phase_C}}', {{payload.voltage_current_angle_C}},{{payload.voltage_current_angle_C_sf}},{{payload.power_factor_C}},{{payload.active_power_C}}, {{payload.active_power_C_sf}}, {{payload.reactive_power_C}}, {{payload.reactive_power_C_sf}}, {{payload.apparent_power_C}}, {{payload.apparent_power_C_sf}}, (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_A_C}}, {{payload.angle_voltage_A_C_sf}}, '{{payload.phase_A}}{{payload.phase_C}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));\n\nINSERT INTO public.organic_nodes_control_voltagelagmeasure(\n\tangle, angle_sf,\tphase_combination, measurement_id)\n\tVALUES ({{payload.angle_voltage_B_C}}, {{payload.angle_voltage_B_C_sf}}, '{{payload.phase_B}}{{payload.phase_C}}', (SELECT id FROM public.organic_nodes_control_measurement WHERE (message_counter = {{payload.message_counter}} AND date_time_stamp = '{{payload.date_time_stamp}}') LIMIT 1));",
        "output": "str",
        "x": 520,
        "y": 240,
        "wires": [
            [
                "21aa61e535f67716"
            ]
        ]
    },
    {
        "id": "ca0e1bef333232dd",
        "type": "catch",
        "z": "f74e1af5aec31631",
        "g": "c20466e9245989df",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 180,
        "y": 620,
        "wires": [
            [
                "c84ed8b822984453"
            ]
        ]
    },
    {
        "id": "d58b119412aca71c",
        "type": "comment",
        "z": "f74e1af5aec31631",
        "g": "c20466e9245989df",
        "name": "Avisos",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "c84ed8b822984453",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "c20466e9245989df",
        "name": "erro",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro",
        "output": "str",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "b6e02291ae67bdb6"
            ]
        ]
    },
    {
        "id": "b6e02291ae67bdb6",
        "type": "link out",
        "z": "f74e1af5aec31631",
        "g": "c20466e9245989df",
        "name": "status erro",
        "mode": "link",
        "links": [
            "9252ff4dd2bc68b5"
        ],
        "x": 435,
        "y": 620,
        "wires": []
    },
    {
        "id": "46142d271d11c1b1",
        "type": "comment",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "Status",
        "info": "",
        "x": 150,
        "y": 340,
        "wires": []
    },
    {
        "id": "d52dac65f46168b2",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "Instanciando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Instanciando",
        "output": "str",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "7655d507feebce3a"
            ]
        ]
    },
    {
        "id": "7655d507feebce3a",
        "type": "link out",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "status",
        "mode": "link",
        "links": [
            "9252ff4dd2bc68b5"
        ],
        "x": 505,
        "y": 400,
        "wires": []
    },
    {
        "id": "c87e99b5c4590a7e",
        "type": "complete",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "",
        "scope": [
            "34446c17128d3e27"
        ],
        "uncaught": false,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "d52dac65f46168b2"
            ]
        ]
    },
    {
        "id": "a00453562aaf80c5",
        "type": "template",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "Instanciado",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Instanciado",
        "output": "str",
        "x": 370,
        "y": 460,
        "wires": [
            [
                "7655d507feebce3a"
            ]
        ]
    },
    {
        "id": "1e32a1581432b5b5",
        "type": "complete",
        "z": "f74e1af5aec31631",
        "g": "ba05562c85557e0e",
        "name": "",
        "scope": [
            "21aa61e535f67716"
        ],
        "uncaught": false,
        "x": 190,
        "y": 460,
        "wires": [
            [
                "a00453562aaf80c5"
            ]
        ]
    },
    {
        "id": "1fb89f693a1cc156",
        "type": "comment",
        "z": "f74e1af5aec31631",
        "g": "2eccd0e346715923",
        "name": "sincronismo dados medidos",
        "info": "",
        "x": 220,
        "y": 720,
        "wires": []
    },
    {
        "id": "cf4ec4ad0b3238d1",
        "type": "link in",
        "z": "f74e1af5aec31631",
        "g": "2eccd0e346715923",
        "name": "sincronismo medições",
        "links": [
            "21aa61e535f67716"
        ],
        "x": 135,
        "y": 780,
        "wires": [
            [
                "7bab0adbcf4249c9"
            ]
        ]
    },
    {
        "id": "7bab0adbcf4249c9",
        "type": "subflow:38d792f0bb10ea75",
        "z": "f74e1af5aec31631",
        "g": "2eccd0e346715923",
        "name": "",
        "x": 300,
        "y": 780,
        "wires": []
    },
    {
        "id": "d23c3bb417f0e578",
        "type": "link in",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "name": "out 1",
        "links": [
            "21aa61e535f67716"
        ],
        "x": 725,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "32f85d54cb02d364",
        "type": "comment",
        "z": "f74e1af5aec31631",
        "g": "a08702cd6d20b021",
        "name": "Indentifica tópico",
        "info": "",
        "x": 180,
        "y": 140,
        "wires": []
    },
    {
        "id": "9252ff4dd2bc68b5",
        "type": "link in",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "name": "status",
        "links": [
            "7655d507feebce3a",
            "b6e02291ae67bdb6"
        ],
        "x": 725,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "e130368244133b83",
        "type": "comment",
        "z": "f74e1af5aec31631",
        "g": "4bbb49ad40394687",
        "name": "Instanciação",
        "info": "",
        "x": 130,
        "y": 60,
        "wires": []
    },
    {
        "id": "78f9a562fec4fcc1",
        "type": "function",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "name": "Parametros",
        "func": "msg.queryParameters = msg.payload\n\nlet sinc = global.get(\"sincronizando_remoto\") || false\n\nif (sinc == false)\n    return [msg, msg];\nelse \n    return [null, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 200,
        "wires": [
            [
                "a0a5d9ac3de89d35"
            ],
            [
                "3be5c77014fb982e"
            ]
        ]
    },
    {
        "id": "a0a5d9ac3de89d35",
        "type": "postgres",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "postgresdb": "410522af87089496",
        "name": "NOCS",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 450,
        "y": 180,
        "wires": []
    },
    {
        "id": "3be5c77014fb982e",
        "type": "postgres",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "postgresdb": "f3a8cd803cbddc27",
        "name": "Local",
        "output": false,
        "perrow": false,
        "rowspermsg": "1",
        "return_on_error": false,
        "limit_queries": "0",
        "limit_by": "payload",
        "limit_value": "1",
        "limit_drop_intermediate": false,
        "limit_drop_if_in_queue": false,
        "outputs": false,
        "x": 450,
        "y": 220,
        "wires": []
    },
    {
        "id": "dcb2b688e929459f",
        "type": "delay",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "name": "Espera atualização",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 270,
        "y": 260,
        "wires": [
            [
                "3be5c77014fb982e"
            ]
        ]
    },
    {
        "id": "9b89966f66391a78",
        "type": "subflow:ba2e913aeb86a3ea",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "",
        "x": 350,
        "y": 680,
        "wires": []
    },
    {
        "id": "5d43614299a5b76d",
        "type": "link in",
        "z": "d48fb9af316b0fe2",
        "g": "3c18d8686a88df81",
        "name": "status",
        "links": [
            "7f0a1ca5317c64f2",
            "fa6b3a1cf7951082"
        ],
        "x": 575,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "e3368e6fc8d73969",
        "type": "catch",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "",
        "scope": [
            "3be5c77014fb982e"
        ],
        "uncaught": false,
        "x": 150,
        "y": 640,
        "wires": [
            [
                "b6711c456bb8c1b7",
                "9b89966f66391a78"
            ]
        ]
    },
    {
        "id": "0510464a8dac459a",
        "type": "comment",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "Avisos",
        "info": "",
        "x": 130,
        "y": 580,
        "wires": []
    },
    {
        "id": "b6711c456bb8c1b7",
        "type": "template",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "erro sincronismo local",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro sincronismo local",
        "output": "str",
        "x": 360,
        "y": 640,
        "wires": [
            [
                "fa6b3a1cf7951082"
            ]
        ]
    },
    {
        "id": "fa6b3a1cf7951082",
        "type": "link out",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "status erro",
        "mode": "link",
        "links": [
            "5d43614299a5b76d",
            "151e541e6b2f0125"
        ],
        "x": 545,
        "y": 640,
        "wires": []
    },
    {
        "id": "f64565d0614bd4d9",
        "type": "comment",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "Status",
        "info": "",
        "x": 130,
        "y": 360,
        "wires": []
    },
    {
        "id": "eb8ac13e75487dce",
        "type": "template",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "Salvando",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Salvando",
        "output": "str",
        "x": 340,
        "y": 420,
        "wires": [
            [
                "7f0a1ca5317c64f2"
            ]
        ]
    },
    {
        "id": "7f0a1ca5317c64f2",
        "type": "link out",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "status",
        "mode": "link",
        "links": [
            "5d43614299a5b76d"
        ],
        "x": 445,
        "y": 420,
        "wires": []
    },
    {
        "id": "e80b87d89c140237",
        "type": "complete",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "",
        "scope": [
            "78f9a562fec4fcc1"
        ],
        "uncaught": false,
        "x": 170,
        "y": 420,
        "wires": [
            [
                "eb8ac13e75487dce"
            ]
        ]
    },
    {
        "id": "2d7925ba24b17ddc",
        "type": "comment",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "name": "Adiciona os parametros de envio da mesagem para o banco",
        "info": "",
        "x": 300,
        "y": 140,
        "wires": []
    },
    {
        "id": "151e541e6b2f0125",
        "type": "link in",
        "z": "d48fb9af316b0fe2",
        "g": "af5ab425cf03c631",
        "name": "reenvio",
        "links": [
            "fa6b3a1cf7951082"
        ],
        "x": 115,
        "y": 260,
        "wires": [
            [
                "dcb2b688e929459f"
            ]
        ]
    },
    {
        "id": "b37bc3c8d8340d6f",
        "type": "catch",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "",
        "scope": [
            "a0a5d9ac3de89d35"
        ],
        "uncaught": false,
        "x": 150,
        "y": 720,
        "wires": [
            [
                "c416f21d38081a48"
            ]
        ]
    },
    {
        "id": "c416f21d38081a48",
        "type": "template",
        "z": "d48fb9af316b0fe2",
        "g": "d4b0135a0a32e5c5",
        "name": "erro sincronismo remoto",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "erro sincronismo remoto",
        "output": "str",
        "x": 370,
        "y": 720,
        "wires": [
            [
                "fa6b3a1cf7951082"
            ]
        ]
    },
    {
        "id": "9e824dc92c233e92",
        "type": "template",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "Salvo",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Salvo",
        "output": "str",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "7f0a1ca5317c64f2"
            ]
        ]
    },
    {
        "id": "12225f8d5beaf555",
        "type": "complete",
        "z": "d48fb9af316b0fe2",
        "g": "e57930d954bad51a",
        "name": "",
        "scope": [
            "a0a5d9ac3de89d35",
            "3be5c77014fb982e"
        ],
        "uncaught": false,
        "x": 170,
        "y": 480,
        "wires": [
            [
                "9e824dc92c233e92"
            ]
        ]
    },
    {
        "id": "f65d3aa1e4cfc455",
        "type": "comment",
        "z": "d48fb9af316b0fe2",
        "g": "3c18d8686a88df81",
        "name": "Salvamento das medições no banco local e remoto",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "b07115169e0aa838",
        "type": "api-current-state",
        "z": "7119d5927b25a580",
        "d": true,
        "name": "status",
        "server": "",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.computador_socket_1",
        "state_type": "habool",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "status",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 170,
        "y": 500,
        "wires": [
            [
                "f61dd91f009358da"
            ]
        ]
    },
    {
        "id": "494def2d8624f375",
        "type": "api-current-state",
        "z": "7119d5927b25a580",
        "d": true,
        "name": "Current",
        "server": "",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.computador_current",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "Current",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 240,
        "wires": [
            [
                "14680943afce9588"
            ]
        ]
    },
    {
        "id": "1176e88480793e95",
        "type": "api-current-state",
        "z": "7119d5927b25a580",
        "d": true,
        "name": "Voltage",
        "server": "",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.computador_voltage",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "Voltage",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 300,
        "wires": [
            [
                "8297d1a1c26414d2"
            ]
        ]
    },
    {
        "id": "f82bd6741a8b3bea",
        "type": "api-current-state",
        "z": "7119d5927b25a580",
        "d": true,
        "name": "Power",
        "server": "",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.computador_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "Power",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "bea69b26fda071e9"
            ]
        ]
    },
    {
        "id": "506c4a7807ef575d",
        "type": "join",
        "z": "7119d5927b25a580",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "1",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 490,
        "y": 300,
        "wires": [
            [
                "bcd17e83b4dd6b4e"
            ]
        ]
    },
    {
        "id": "8297d1a1c26414d2",
        "type": "function",
        "z": "7119d5927b25a580",
        "name": "function 4",
        "func": "msg.payload = { voltage: msg.payload, \"gateway_id\": '3', \"date_time_stamp\": new Date(), power_factor: 0.93}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 300,
        "wires": [
            [
                "506c4a7807ef575d"
            ]
        ]
    },
    {
        "id": "84febaa5123f3df1",
        "type": "link out",
        "z": "7119d5927b25a580",
        "name": "Valores Medidor Tuya",
        "mode": "link",
        "links": [
            "514ece8f109fb8b7",
            "b058cea2b2d94046"
        ],
        "x": 735,
        "y": 300,
        "wires": []
    },
    {
        "id": "3b147eed87195d28",
        "type": "comment",
        "z": "7119d5927b25a580",
        "name": "Verifica Estado",
        "info": "",
        "x": 120,
        "y": 440,
        "wires": []
    },
    {
        "id": "fb5056e72e2413eb",
        "type": "comment",
        "z": "7119d5927b25a580",
        "name": "Medidor Tuya",
        "info": "",
        "x": 90,
        "y": 180,
        "wires": []
    },
    {
        "id": "f61dd91f009358da",
        "type": "link out",
        "z": "7119d5927b25a580",
        "name": "Estado Medidor Tuya",
        "mode": "link",
        "links": [
            "627770ac618f6ea8"
        ],
        "x": 285,
        "y": 500,
        "wires": []
    },
    {
        "id": "7f8fb23dbfddcf87",
        "type": "inject",
        "z": "7119d5927b25a580",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "b8487c2a182414f8"
            ]
        ]
    },
    {
        "id": "c7d26a5c56860b44",
        "type": "comment",
        "z": "7119d5927b25a580",
        "name": "Loop",
        "info": "",
        "x": 70,
        "y": 40,
        "wires": []
    },
    {
        "id": "b8487c2a182414f8",
        "type": "link out",
        "z": "7119d5927b25a580",
        "name": "Loop",
        "mode": "link",
        "links": [
            "8dc280ccc0034366",
            "b617fc1f30bc205f"
        ],
        "x": 255,
        "y": 100,
        "wires": []
    },
    {
        "id": "8dc280ccc0034366",
        "type": "link in",
        "z": "7119d5927b25a580",
        "name": "Loop",
        "links": [
            "b8487c2a182414f8"
        ],
        "x": 55,
        "y": 300,
        "wires": [
            [
                "1176e88480793e95",
                "494def2d8624f375",
                "f82bd6741a8b3bea"
            ]
        ]
    },
    {
        "id": "b617fc1f30bc205f",
        "type": "link in",
        "z": "7119d5927b25a580",
        "name": "Loop",
        "links": [
            "b8487c2a182414f8"
        ],
        "x": 65,
        "y": 500,
        "wires": [
            [
                "b07115169e0aa838"
            ]
        ]
    },
    {
        "id": "bcd17e83b4dd6b4e",
        "type": "json",
        "z": "7119d5927b25a580",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 630,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "14680943afce9588",
        "type": "function",
        "z": "7119d5927b25a580",
        "name": "function 5",
        "func": "msg.payload = { current: msg.payload, \"gateway_id\": '3', \"date_time_stamp\": new Date(), power_factor: 0.93}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 240,
        "wires": [
            [
                "506c4a7807ef575d"
            ]
        ]
    },
    {
        "id": "bea69b26fda071e9",
        "type": "function",
        "z": "7119d5927b25a580",
        "name": "function 6",
        "func": "msg.payload = { active_power: msg.payload, \"gateway_id\": '3', \"date_time_stamp\": new Date(), power_factor: 0.93}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 360,
        "wires": [
            [
                "506c4a7807ef575d"
            ]
        ]
    },
    {
        "id": "7de8e43a6707f23f",
        "type": "ui_chart",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "8d5821d35c2d330f",
        "order": 2,
        "width": "20",
        "height": 10,
        "label": "Potencia Ativa",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 500,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "9762947eb9cc68aa",
        "type": "switch",
        "z": "7d74b0c161f17740",
        "name": "",
        "property": "payload.gateway_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 170,
        "y": 120,
        "wires": [
            [
                "783612c399866e74"
            ],
            [
                "216633a5b0b6d458"
            ]
        ]
    },
    {
        "id": "f8612630b3bd36ba",
        "type": "ui_chart",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "8d5821d35c2d330f",
        "order": 4,
        "width": "20",
        "height": 10,
        "label": "Corrente",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 480,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "216633a5b0b6d458",
        "type": "function",
        "z": "7d74b0c161f17740",
        "name": "function 2",
        "func": "var msg1 = {}\nvar msg2 = {}\nvar msg3 = {}\n\nmsg1.payload = msg.payload.active_power * Math.pow(10, msg.payload.active_power_sf)\nmsg2.payload = msg.payload.current * Math.pow(10, msg.payload.current_sf)\nmsg3.payload = msg.payload.date_time_stamp\n\nreturn [msg1, msg2, msg3];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 160,
        "wires": [
            [
                "7de8e43a6707f23f"
            ],
            [
                "f8612630b3bd36ba"
            ]
        ]
    },
    {
        "id": "132bdae4c5c4d339",
        "type": "ui_chart",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "a4a51d2a6b08e863",
        "order": 2,
        "width": 20,
        "height": 10,
        "label": "Potencia Ativa",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 500,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "98c2937d02268ede",
        "type": "ui_chart",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "a4a51d2a6b08e863",
        "order": 4,
        "width": 20,
        "height": 10,
        "label": "Corrente",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 480,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "783612c399866e74",
        "type": "function",
        "z": "7d74b0c161f17740",
        "name": "function 3",
        "func": "var msg1 = {}\nvar msg2 = {}\nvar msg3 = {}\n\nmsg1.payload = msg.payload.active_power * Math.pow(10, msg.payload.active_power_sf)\nmsg2.payload = msg.payload.current * Math.pow(10, msg.payload.current_sf)\nmsg3.payload = msg.payload.date_time_stamp\n\nreturn [msg1, msg2, msg3];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 80,
        "wires": [
            [
                "132bdae4c5c4d339"
            ],
            [
                "98c2937d02268ede"
            ]
        ]
    },
    {
        "id": "95b6006b9d6689cc",
        "type": "link in",
        "z": "7d74b0c161f17740",
        "name": "Analise",
        "links": [
            "bf124cdbf4ec0574"
        ],
        "x": 55,
        "y": 120,
        "wires": [
            [
                "9762947eb9cc68aa"
            ]
        ]
    },
    {
        "id": "ba3204ba08e60f74",
        "type": "comment",
        "z": "7d74b0c161f17740",
        "name": "MQTT",
        "info": "",
        "x": 70,
        "y": 40,
        "wires": []
    },
    {
        "id": "07d82d66380e55da",
        "type": "ui_gauge",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "6a2620f23525088d",
        "order": 2,
        "width": "10",
        "height": "5",
        "gtype": "gage",
        "title": "Corrent",
        "label": "A",
        "format": "{{value}}",
        "min": 0,
        "max": "15",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 480,
        "y": 340,
        "wires": []
    },
    {
        "id": "27aee7a140a3d149",
        "type": "ui_gauge",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "6a2620f23525088d",
        "order": 4,
        "width": "10",
        "height": "5",
        "gtype": "gage",
        "title": "Voltagem",
        "label": "V",
        "format": "{{value}}",
        "min": 0,
        "max": "150",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 480,
        "y": 380,
        "wires": []
    },
    {
        "id": "ce72dfa3928d24d9",
        "type": "ui_gauge",
        "z": "7d74b0c161f17740",
        "name": "",
        "group": "6a2620f23525088d",
        "order": 6,
        "width": "10",
        "height": "5",
        "gtype": "gage",
        "title": "Potencia",
        "label": "W",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 480,
        "y": 420,
        "wires": []
    },
    {
        "id": "2377fcd6eec2b926",
        "type": "comment",
        "z": "7d74b0c161f17740",
        "name": "Home Assistant",
        "info": "",
        "x": 100,
        "y": 240,
        "wires": []
    },
    {
        "id": "514ece8f109fb8b7",
        "type": "link in",
        "z": "7d74b0c161f17740",
        "name": "",
        "links": [
            "84febaa5123f3df1"
        ],
        "x": 55,
        "y": 380,
        "wires": [
            [
                "744dd5563b07a69a"
            ]
        ]
    },
    {
        "id": "d1d9984abd340b0c",
        "type": "template",
        "z": "7d74b0c161f17740",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "python",
        "syntax": "mustache",
        "template": "{{payload.current}}",
        "output": "str",
        "x": 320,
        "y": 340,
        "wires": [
            [
                "07d82d66380e55da"
            ]
        ]
    },
    {
        "id": "53ada7ac55d5141a",
        "type": "template",
        "z": "7d74b0c161f17740",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "python",
        "syntax": "mustache",
        "template": "{{payload.voltage}}",
        "output": "str",
        "x": 320,
        "y": 380,
        "wires": [
            [
                "27aee7a140a3d149"
            ]
        ]
    },
    {
        "id": "7727690c40b1377c",
        "type": "template",
        "z": "7d74b0c161f17740",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "python",
        "syntax": "mustache",
        "template": "{{payload.active_power}}",
        "output": "str",
        "x": 320,
        "y": 420,
        "wires": [
            [
                "ce72dfa3928d24d9"
            ]
        ]
    },
    {
        "id": "41b7835be54f66b7",
        "type": "ui_switch",
        "z": "7d74b0c161f17740",
        "name": "",
        "label": "Interruptor",
        "tooltip": "",
        "group": "e3ef033ab390569e",
        "order": 2,
        "width": "5",
        "height": "3",
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 190,
        "y": 540,
        "wires": [
            [
                "6f24a64077ed44e7"
            ]
        ]
    },
    {
        "id": "af6f4ff242e92de3",
        "type": "api-call-service",
        "z": "7d74b0c161f17740",
        "d": true,
        "name": "Ligar",
        "server": "",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "650005064c440d9547019199482df6e3"
        ],
        "entityId": [
            "switch.computador_socket_1"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "9700641573b6e679",
        "type": "api-call-service",
        "z": "7d74b0c161f17740",
        "d": true,
        "name": "Desligar",
        "server": "",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [
            "650005064c440d9547019199482df6e3"
        ],
        "entityId": [
            "switch.computador_socket_1"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 500,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "6f24a64077ed44e7",
        "type": "switch",
        "z": "7d74b0c161f17740",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 540,
        "wires": [
            [
                "af6f4ff242e92de3"
            ],
            [
                "9700641573b6e679"
            ]
        ]
    },
    {
        "id": "f001b954f03c2c35",
        "type": "comment",
        "z": "7d74b0c161f17740",
        "name": "Valores",
        "info": "",
        "x": 90,
        "y": 300,
        "wires": []
    },
    {
        "id": "d624f717720ef73a",
        "type": "comment",
        "z": "7d74b0c161f17740",
        "name": "Valores",
        "info": "",
        "x": 90,
        "y": 480,
        "wires": []
    },
    {
        "id": "627770ac618f6ea8",
        "type": "link in",
        "z": "7d74b0c161f17740",
        "name": "link in 1",
        "links": [
            "f61dd91f009358da"
        ],
        "x": 55,
        "y": 540,
        "wires": [
            [
                "41b7835be54f66b7"
            ]
        ]
    },
    {
        "id": "744dd5563b07a69a",
        "type": "json",
        "z": "7d74b0c161f17740",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 170,
        "y": 380,
        "wires": [
            [
                "53ada7ac55d5141a",
                "d1d9984abd340b0c",
                "7727690c40b1377c"
            ]
        ]
    },
    {
        "id": "1ea3a73fdfa1ae23",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "bem vindo",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": " ",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Olá, seja bem-vindo ao CPID",
        "x": 450,
        "y": 100,
        "wires": [
            [],
            [
                "a4e8d93c2b25170c"
            ]
        ]
    },
    {
        "id": "a4e8d93c2b25170c",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Quem sou",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Eu sou o assistente virtual aqui do CPID, e vou te guiar por aqui...",
        "x": 630,
        "y": 100,
        "wires": [
            [],
            [
                "6eb8ff0b20e3d643"
            ]
        ]
    },
    {
        "id": "5f125208206ea113",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Nome da pessoa",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Bom, pra começar, que tal me dizer o seu nome?",
        "x": 990,
        "y": 100,
        "wires": [
            [],
            [
                "c235a9cab58449b5"
            ]
        ]
    },
    {
        "id": "c235a9cab58449b5",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "Nome",
        "client": "8e3298efb51f0f8f",
        "chave": "nome",
        "x": 1170,
        "y": 100,
        "wires": [
            [
                "ceacaaba5a7299a3"
            ]
        ]
    },
    {
        "id": "fbf418c3826f4af5",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Olá {{nome}}",
        "x": 190,
        "y": 400,
        "wires": [
            [],
            [
                "0fd10d6774d295d1"
            ]
        ]
    },
    {
        "id": "287db895b72de9a8",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "",
        "func": "msg.payload.path = \"/home/pi/.node-red/data/whatsapp/contacts/\" + msg.payload.contactId + \".json\"\nif(msg.payload.isGroup || msg.payload.contactId!=='5527995041299@s.whatsapp.net'){\n    return [msg,null];\n}else{\n        return [null,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 100,
        "wires": [
            [],
            [
                "1ea3a73fdfa1ae23"
            ]
        ]
    },
    {
        "id": "eb59499aee0a1c5f",
        "type": "whatsapp-kore-bot",
        "z": "ada916479fb34c9b",
        "name": "Registro",
        "client": "8e3298efb51f0f8f",
        "x": 100,
        "y": 100,
        "wires": [
            [],
            [
                "287db895b72de9a8"
            ]
        ]
    },
    {
        "id": "6eb8ff0b20e3d643",
        "type": "delay",
        "z": "ada916479fb34c9b",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 100,
        "wires": [
            [
                "5f125208206ea113"
            ]
        ]
    },
    {
        "id": "0fd10d6774d295d1",
        "type": "delay",
        "z": "ada916479fb34c9b",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 360,
        "y": 400,
        "wires": [
            [
                "7e48114c31741cb6"
            ]
        ]
    },
    {
        "id": "1846550bdf3e1c02",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 470,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "7e48114c31741cb6",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Como posso Ajudá-lo?",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Como posso Ajudá-lo?\n\n(1) - Cadastro\n(2) - Alteraração de Dados\n(3) - Lista de dispositivos cadastrados\n\n*Digite apenas o numero*",
        "x": 560,
        "y": 400,
        "wires": [
            [],
            [
                "00e90b35e2b7a1e9"
            ]
        ]
    },
    {
        "id": "00e90b35e2b7a1e9",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "resp",
        "client": "8e3298efb51f0f8f",
        "chave": "resp",
        "x": 750,
        "y": 400,
        "wires": [
            [
                "3c6833ef2e57882f"
            ]
        ]
    },
    {
        "id": "3c6833ef2e57882f",
        "type": "switch",
        "z": "ada916479fb34c9b",
        "name": "",
        "property": "payload.text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 970,
        "y": 400,
        "wires": [
            [
                "1a092895fca06aae"
            ],
            [
                "cf069e5fd090e037"
            ],
            [
                "af9fbc487503173a"
            ]
        ]
    },
    {
        "id": "a4e2ef51a7a5d276",
        "type": "switch",
        "z": "ada916479fb34c9b",
        "name": "",
        "property": "payload.text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 750,
        "y": 520,
        "wires": [
            [
                "bd552cded916f748"
            ],
            [
                "897e2b78159cd501"
            ],
            [
                "4947534770e698fa"
            ],
            [
                "22598a4a5f7d9067"
            ],
            [
                "1c0d6bd3b6b37c97"
            ]
        ]
    },
    {
        "id": "1437d806e77c55fd",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Como posso Ajudá-lo?",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": false,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "OK, Informe o que deseja cadastrar\n\n(1) - Área\n(2) - Dispositivo\n(3) - Setup\n(4) - Dispositivo LoRa\n(5) - Dispositivo MQTT\n\n*Digite apenas o numero*",
        "x": 220,
        "y": 520,
        "wires": [
            [],
            [
                "c70d3e43b1188f2e"
            ]
        ]
    },
    {
        "id": "5d365f74ffef4151",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "name_area",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Qual o nome da área",
        "x": 190,
        "y": 880,
        "wires": [
            [],
            [
                "3916db1e2c79c1d3"
            ]
        ]
    },
    {
        "id": "3916db1e2c79c1d3",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "name_area",
        "client": "8e3298efb51f0f8f",
        "chave": "name_area",
        "x": 370,
        "y": 880,
        "wires": [
            [
                "89253d49c8c953af"
            ]
        ]
    },
    {
        "id": "89253d49c8c953af",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "return [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 880,
        "wires": [
            [
                "18a34be6ab4200a6"
            ],
            [
                "3705d41769d2b05b"
            ]
        ]
    },
    {
        "id": "e7d6062c15b53121",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 710,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "3705d41769d2b05b",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_area",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Descreva essa área.",
        "x": 770,
        "y": 900,
        "wires": [
            [],
            [
                "81ee27c13baf7cd6"
            ]
        ]
    },
    {
        "id": "c318cf29cb0a96fe",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "address",
        "client": "8e3298efb51f0f8f",
        "chave": "address",
        "x": 340,
        "y": 1040,
        "wires": [
            [
                "88b8bc0cd40c679c"
            ]
        ]
    },
    {
        "id": "57f2cc0f7cd075b4",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "address",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "me informa o endereço da *compania/casa* que essa área se encontra.",
        "x": 180,
        "y": 1040,
        "wires": [
            [],
            [
                "c318cf29cb0a96fe"
            ]
        ]
    },
    {
        "id": "88b8bc0cd40c679c",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1040,
        "wires": [
            [
                "890c69c0e5939932"
            ],
            [
                "5f1c6a63acf5b139"
            ]
        ]
    },
    {
        "id": "890c69c0e5939932",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID company",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1020,
        "wires": [
            [
                "5d5212b93bfc3c04"
            ]
        ]
    },
    {
        "id": "5f1c6a63acf5b139",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_company",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Esse local não possui cadastro poderia me informa uma descrição sobre ele?",
        "x": 740,
        "y": 1060,
        "wires": [
            [],
            [
                "97d168a1f7110ace"
            ]
        ]
    },
    {
        "id": "18a34be6ab4200a6",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "ID Área",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2000,
        "y": 880,
        "wires": [
            [
                "1a2b90f18b99763d"
            ]
        ]
    },
    {
        "id": "5d5212b93bfc3c04",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria Área",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1680,
        "y": 1000,
        "wires": [
            [
                "18a34be6ab4200a6"
            ]
        ]
    },
    {
        "id": "81ee27c13baf7cd6",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_area",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_area",
        "x": 950,
        "y": 900,
        "wires": [
            [
                "6640a6cd13d7ce55"
            ]
        ]
    },
    {
        "id": "97d168a1f7110ace",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_company",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_company",
        "x": 940,
        "y": 1060,
        "wires": [
            [
                "cb1c591653aa2e82"
            ]
        ]
    },
    {
        "id": "6fb3876dd78e4712",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Área",
        "links": [
            "bd552cded916f748",
            "bc2cbdc3c466fd2f",
            "a46f0a4f61390c9e",
            "cedec72d4a251609"
        ],
        "x": 55,
        "y": 880,
        "wires": [
            [
                "5d365f74ffef4151"
            ]
        ]
    },
    {
        "id": "bd552cded916f748",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Área",
        "mode": "link",
        "links": [
            "6fb3876dd78e4712",
            "91e812d6845a53c4"
        ],
        "x": 865,
        "y": 440,
        "wires": []
    },
    {
        "id": "13659a648bdc3359",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Cadastro de área",
        "info": "",
        "x": 120,
        "y": 820,
        "wires": []
    },
    {
        "id": "6640a6cd13d7ce55",
        "type": "delay",
        "z": "ada916479fb34c9b",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 180,
        "y": 980,
        "wires": [
            [
                "57f2cc0f7cd075b4"
            ]
        ]
    },
    {
        "id": "4a737aea5725eae5",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica ID USER pelo cll utilizado",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1160,
        "wires": [
            [
                "5e0424c521e48ccf"
            ],
            []
        ]
    },
    {
        "id": "5e0424c521e48ccf",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID user",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1180,
        "wires": [
            [
                "e0b9d08473592347"
            ]
        ]
    },
    {
        "id": "bee4e4409f48116c",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "user_not_val",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Você não é um usuario cadastrado *(Não podera efetuar o cadastrado)*",
        "x": 510,
        "y": 980,
        "wires": [
            [],
            [
                "e7d6062c15b53121"
            ]
        ]
    },
    {
        "id": "cb1c591653aa2e82",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Pega data atual do cadastro",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 1060,
        "wires": [
            [
                "a679850e7bfaf77d"
            ]
        ]
    },
    {
        "id": "c18e51562073d894",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "company",
        "info": "",
        "x": 140,
        "y": 920,
        "wires": []
    },
    {
        "id": "8396a59320e343de",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "city",
        "info": "",
        "x": 130,
        "y": 1220,
        "wires": []
    },
    {
        "id": "c7b9ba689a16895e",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "city",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Em que cidade esta localizada este local?",
        "x": 170,
        "y": 1280,
        "wires": [
            [],
            [
                "f281c87d3f0d331f"
            ]
        ]
    },
    {
        "id": "5a7c3cc619863a69",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 2490,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "379f15fab5a82a65",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1280,
        "wires": [
            [
                "304bed1e3b275a40"
            ],
            [
                "31d1a8b1560b1425"
            ]
        ]
    },
    {
        "id": "304bed1e3b275a40",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID city",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 1260,
        "wires": [
            [
                "5d5212b93bfc3c04"
            ]
        ]
    },
    {
        "id": "31d1a8b1560b1425",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "state",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Qual o estado?",
        "x": 670,
        "y": 1300,
        "wires": [
            [],
            [
                "a25b4b4f4811d1d2"
            ]
        ]
    },
    {
        "id": "f281c87d3f0d331f",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "city",
        "client": "8e3298efb51f0f8f",
        "chave": "city",
        "x": 310,
        "y": 1280,
        "wires": [
            [
                "379f15fab5a82a65"
            ]
        ]
    },
    {
        "id": "a25b4b4f4811d1d2",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "state",
        "client": "8e3298efb51f0f8f",
        "chave": "state",
        "x": 810,
        "y": 1300,
        "wires": [
            [
                "0bd6ac2f2851099c"
            ]
        ]
    },
    {
        "id": "0bd6ac2f2851099c",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "UF",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "informe também a sigla *(UF)* deste estado:",
        "x": 950,
        "y": 1300,
        "wires": [
            [],
            [
                "56ee83fab70821e4"
            ]
        ]
    },
    {
        "id": "56ee83fab70821e4",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "UF",
        "client": "8e3298efb51f0f8f",
        "chave": "UF",
        "x": 1090,
        "y": 1300,
        "wires": [
            [
                "161eb2a5bcf22d97"
            ]
        ]
    },
    {
        "id": "96e2215964b23931",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "coutry",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Por fim me informe o pais em que este local se encontra.",
        "x": 170,
        "y": 1400,
        "wires": [
            [],
            [
                "48fe4b365c307c17"
            ]
        ]
    },
    {
        "id": "48fe4b365c307c17",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "coutry",
        "client": "8e3298efb51f0f8f",
        "chave": "coutry",
        "x": 310,
        "y": 1400,
        "wires": [
            [
                "36ca90d97c74658c"
            ]
        ]
    },
    {
        "id": "36ca90d97c74658c",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1400,
        "wires": [
            [
                "7a0d45f53b3d6bb1"
            ],
            [
                "09da89d8061c1e73"
            ]
        ]
    },
    {
        "id": "7a0d45f53b3d6bb1",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID coutry",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 1380,
        "wires": [
            [
                "5d5212b93bfc3c04"
            ]
        ]
    },
    {
        "id": "cf1ff04b19f46a2d",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "coutry",
        "info": "",
        "x": 130,
        "y": 1340,
        "wires": []
    },
    {
        "id": "a14ce7337d92b5d1",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "success",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Cadastro de área bem sucedido*",
        "x": 2300,
        "y": 860,
        "wires": [
            [],
            [
                "5a7c3cc619863a69"
            ]
        ]
    },
    {
        "id": "c70d3e43b1188f2e",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "Menu_1",
        "client": "8e3298efb51f0f8f",
        "chave": "Menu_1",
        "x": 420,
        "y": 520,
        "wires": [
            [
                "4d53d4615bc66ddd"
            ]
        ]
    },
    {
        "id": "a05594fdfceea024",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Função não configurada",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Função não configurada*",
        "x": 230,
        "y": 760,
        "wires": [
            [],
            [
                "1846550bdf3e1c02"
            ]
        ]
    },
    {
        "id": "627c137d66cbf375",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Cadastro de dispositivo",
        "info": "",
        "x": 140,
        "y": 1460,
        "wires": []
    },
    {
        "id": "92127c08333088a9",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Cadastro de setup",
        "info": "",
        "x": 130,
        "y": 2380,
        "wires": []
    },
    {
        "id": "d009f837bf26ff22",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Cadastro de dispositivo LoRa",
        "info": "",
        "x": 160,
        "y": 3040,
        "wires": []
    },
    {
        "id": "a6f06caa4398fa18",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Cadastro de dispositivo MQTT",
        "info": "",
        "x": 160,
        "y": 3320,
        "wires": []
    },
    {
        "id": "897e2b78159cd501",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Dispositivo",
        "mode": "link",
        "links": [
            "b53d88c908a3b026"
        ],
        "x": 885,
        "y": 480,
        "wires": []
    },
    {
        "id": "b53d88c908a3b026",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Dispositivo",
        "links": [
            "897e2b78159cd501",
            "e917c29e0a2c3f5f",
            "6419e29b7a864ed5",
            "0e8edfd14c4af3e9",
            "8f2c6d004eab6879"
        ],
        "x": 55,
        "y": 1520,
        "wires": [
            [
                "53144147c6bdb2a7"
            ]
        ]
    },
    {
        "id": "5ea70f3a86590fd1",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Setup",
        "links": [
            "4947534770e698fa",
            "b341f5cc440dacaa"
        ],
        "x": 95,
        "y": 2440,
        "wires": [
            [
                "1ebfa0bdb51b738c"
            ]
        ]
    },
    {
        "id": "a232fbe194171c85",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Dispositivo LoRa",
        "links": [
            "22598a4a5f7d9067"
        ],
        "x": 95,
        "y": 3100,
        "wires": [
            [
                "7ac30ec85a678860"
            ]
        ]
    },
    {
        "id": "e62badbed9d5f529",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Cadastrar Dispositivo MQTT",
        "links": [
            "1c0d6bd3b6b37c97"
        ],
        "x": 95,
        "y": 3380,
        "wires": [
            []
        ]
    },
    {
        "id": "4947534770e698fa",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastro Setup",
        "mode": "link",
        "links": [
            "5ea70f3a86590fd1",
            "e6af44e0c97b5246"
        ],
        "x": 905,
        "y": 520,
        "wires": []
    },
    {
        "id": "22598a4a5f7d9067",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastro Dispositivo LoRa",
        "mode": "link",
        "links": [
            "a232fbe194171c85"
        ],
        "x": 885,
        "y": 560,
        "wires": []
    },
    {
        "id": "1c0d6bd3b6b37c97",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastro Dispositivo MQTT",
        "mode": "link",
        "links": [
            "e62badbed9d5f529"
        ],
        "x": 865,
        "y": 600,
        "wires": []
    },
    {
        "id": "53144147c6bdb2a7",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "MAC",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "me informa o endereço de controle de acesso *(MAC)* do dispositivo que você deseja cadastrar",
        "x": 170,
        "y": 1520,
        "wires": [
            [],
            [
                "73810d7a2a3a609d"
            ]
        ]
    },
    {
        "id": "73810d7a2a3a609d",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "MAC",
        "client": "8e3298efb51f0f8f",
        "chave": "MAC",
        "x": 310,
        "y": 1520,
        "wires": [
            [
                "5cb5c2eec975a0ac"
            ]
        ]
    },
    {
        "id": "5cb5c2eec975a0ac",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "return [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1520,
        "wires": [
            [
                "bc198eaef7143524"
            ],
            [
                "89b1808437588284"
            ]
        ]
    },
    {
        "id": "bc198eaef7143524",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "ID Disispositivo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2040,
        "y": 1500,
        "wires": [
            [
                "f74a97668584cd54"
            ]
        ]
    },
    {
        "id": "89b1808437588284",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_disp",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Descreva esse dispositivo.",
        "x": 680,
        "y": 1560,
        "wires": [
            [],
            [
                "0590a9b555655a33"
            ]
        ]
    },
    {
        "id": "0590a9b555655a33",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_disp",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_disp",
        "x": 840,
        "y": 1560,
        "wires": [
            [
                "d3c6a24c4a5fd682"
            ]
        ]
    },
    {
        "id": "d3c6a24c4a5fd682",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Set status inicial como ativo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1560,
        "wires": [
            [
                "2ca0cc9603b28137"
            ]
        ]
    },
    {
        "id": "2ca0cc9603b28137",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Pega data atual do cadastro",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 1560,
        "wires": [
            [
                "bf93c9bedb3d95de"
            ]
        ]
    },
    {
        "id": "09e55337f40045f7",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "devicetype",
        "info": "",
        "x": 140,
        "y": 1580,
        "wires": []
    },
    {
        "id": "a21fdf22bfb88a01",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "devicecompany",
        "info": "",
        "x": 160,
        "y": 1700,
        "wires": []
    },
    {
        "id": "31950b907709abfd",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "monitoredde",
        "info": "",
        "x": 150,
        "y": 2680,
        "wires": []
    },
    {
        "id": "30b51a8f8c449fa1",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "devicesetup",
        "info": "",
        "x": 150,
        "y": 1820,
        "wires": []
    },
    {
        "id": "d1ce99eb01f1f6e1",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "hardware",
        "info": "",
        "x": 140,
        "y": 1940,
        "wires": []
    },
    {
        "id": "d680c7ee4981e7c3",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "firmware",
        "info": "",
        "x": 140,
        "y": 2160,
        "wires": []
    },
    {
        "id": "986fbfd1e22db027",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Recebe mensagem",
        "info": " ",
        "x": 130,
        "y": 40,
        "wires": []
    },
    {
        "id": "0039ded1bf6abe55",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Inicio dialogo",
        "info": " ",
        "x": 110,
        "y": 340,
        "wires": []
    },
    {
        "id": "ceacaaba5a7299a3",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Inicia Dialogo",
        "mode": "link",
        "links": [
            "b33595340e5d52d8"
        ],
        "x": 1275,
        "y": 100,
        "wires": []
    },
    {
        "id": "b33595340e5d52d8",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Inicia Dialogo",
        "links": [
            "ceacaaba5a7299a3"
        ],
        "x": 55,
        "y": 400,
        "wires": [
            [
                "fbf418c3826f4af5"
            ]
        ]
    },
    {
        "id": "7013235a92a3c253",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Menu 1",
        "info": " ",
        "x": 90,
        "y": 460,
        "wires": []
    },
    {
        "id": "890a0ac8079a6c55",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Menu 2",
        "info": " ",
        "x": 90,
        "y": 580,
        "wires": []
    },
    {
        "id": "62e9e3bd8b7d41e8",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "Menu 3",
        "info": " ",
        "x": 90,
        "y": 700,
        "wires": []
    },
    {
        "id": "1a092895fca06aae",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Menu 1",
        "mode": "link",
        "links": [
            "73487e5eed0f1cb0"
        ],
        "x": 1075,
        "y": 360,
        "wires": []
    },
    {
        "id": "cf069e5fd090e037",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Menu 2",
        "mode": "link",
        "links": [
            "2dfad1d182b73082"
        ],
        "x": 1075,
        "y": 400,
        "wires": []
    },
    {
        "id": "af9fbc487503173a",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Menu 3",
        "mode": "link",
        "links": [
            "e1469c46fc781623"
        ],
        "x": 1075,
        "y": 440,
        "wires": []
    },
    {
        "id": "2feb596cb2d1de24",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 470,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "ed9560fd108a16d5",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "Função não configurada",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Função não configurada*",
        "x": 230,
        "y": 640,
        "wires": [
            [],
            [
                "2feb596cb2d1de24"
            ]
        ]
    },
    {
        "id": "73487e5eed0f1cb0",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Menu 1",
        "links": [
            "1a092895fca06aae",
            "b9187570612c4cd6"
        ],
        "x": 55,
        "y": 520,
        "wires": [
            [
                "1437d806e77c55fd"
            ]
        ]
    },
    {
        "id": "2dfad1d182b73082",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Menu 2",
        "links": [
            "cf069e5fd090e037"
        ],
        "x": 55,
        "y": 640,
        "wires": [
            [
                "ed9560fd108a16d5"
            ]
        ]
    },
    {
        "id": "e1469c46fc781623",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "Menu 3",
        "links": [
            "af9fbc487503173a"
        ],
        "x": 55,
        "y": 760,
        "wires": [
            [
                "a05594fdfceea024"
            ]
        ]
    },
    {
        "id": "bf93c9bedb3d95de",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "type_name",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual o tipo do dispositivo?",
        "x": 190,
        "y": 1640,
        "wires": [
            [],
            [
                "76a66c02a9d867dd"
            ]
        ]
    },
    {
        "id": "76a66c02a9d867dd",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "type_name",
        "client": "8e3298efb51f0f8f",
        "chave": "type_name",
        "x": 370,
        "y": 1640,
        "wires": [
            [
                "905ceb149af8a157"
            ]
        ]
    },
    {
        "id": "905ceb149af8a157",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1640,
        "wires": [
            [
                "32d4cae59a909f38"
            ],
            [
                "eb5c86bb9dd91eef"
            ]
        ]
    },
    {
        "id": "32d4cae59a909f38",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID devecetype",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1620,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "3a1469fd627a84ca",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria Dispositivo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1620,
        "wires": [
            [
                "bc198eaef7143524"
            ]
        ]
    },
    {
        "id": "eb5c86bb9dd91eef",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_type",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Descreva esse tipo de dispositivo.",
        "x": 770,
        "y": 1660,
        "wires": [
            [],
            [
                "b915c7878e8cb331"
            ]
        ]
    },
    {
        "id": "b915c7878e8cb331",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_type",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_type",
        "x": 950,
        "y": 1660,
        "wires": [
            [
                "ab5599a72b6ddf4a"
            ]
        ]
    },
    {
        "id": "ca98de2321d3a16f",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "decive_company",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual a empresa do dispositivo?",
        "x": 210,
        "y": 1760,
        "wires": [
            [],
            [
                "c1601af5870212a8"
            ]
        ]
    },
    {
        "id": "c1601af5870212a8",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "decive_company",
        "client": "8e3298efb51f0f8f",
        "chave": "decive_company",
        "x": 430,
        "y": 1760,
        "wires": [
            [
                "0cd1b4b3a323274d"
            ]
        ]
    },
    {
        "id": "0cd1b4b3a323274d",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1760,
        "wires": [
            [
                "6df0e02e35253932"
            ],
            [
                "0cf9787bc49c39e3"
            ]
        ]
    },
    {
        "id": "6df0e02e35253932",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID devececompany",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1740,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "0cf9787bc49c39e3",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_company",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Descreva essa empresa.",
        "x": 860,
        "y": 1780,
        "wires": [
            [],
            [
                "90ef6c2395e26f3f"
            ]
        ]
    },
    {
        "id": "90ef6c2395e26f3f",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_company",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_company",
        "x": 1060,
        "y": 1780,
        "wires": [
            [
                "7fdd076b542b75a1"
            ]
        ]
    },
    {
        "id": "eea68141a081ba99",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_setup",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "configuração não encontrada, descreva essa configuração.",
        "x": 770,
        "y": 1900,
        "wires": [
            [],
            [
                "7ccaf1fdefe446e9"
            ]
        ]
    },
    {
        "id": "7ccaf1fdefe446e9",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_setup",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_setup",
        "x": 950,
        "y": 1900,
        "wires": [
            [
                "37fd3da4a3483b07"
            ]
        ]
    },
    {
        "id": "b0e117cfbafdf865",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "setup_name",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual a configuração do dispositivo?",
        "x": 190,
        "y": 1880,
        "wires": [
            [],
            [
                "6e227a04baadaf47"
            ]
        ]
    },
    {
        "id": "6e227a04baadaf47",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "setup_name",
        "client": "8e3298efb51f0f8f",
        "chave": "setup_name",
        "x": 370,
        "y": 1880,
        "wires": [
            [
                "03660c4b286ed07a"
            ]
        ]
    },
    {
        "id": "03660c4b286ed07a",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1880,
        "wires": [
            [
                "55d061579dc6190e"
            ],
            [
                "eea68141a081ba99"
            ]
        ]
    },
    {
        "id": "55d061579dc6190e",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID devicesetup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1860,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "ba26890543904651",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "hardware",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hardware não encontrado, descreva as seguintes informações do hardware separadas por *virgula*:\nnatureza, versão, bloco conectado, roteador ESP, corrente limit, tipo de sensor",
        "x": 800,
        "y": 2020,
        "wires": [
            [],
            [
                "02254754c7b7ba6c"
            ]
        ]
    },
    {
        "id": "02254754c7b7ba6c",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "hardware",
        "client": "8e3298efb51f0f8f",
        "chave": "hardware",
        "x": 980,
        "y": 2020,
        "wires": [
            [
                "be563108ba4b0e25"
            ]
        ]
    },
    {
        "id": "6d4f218fd926c7f3",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "hardware_name",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual o hardware do dispositivo?",
        "x": 200,
        "y": 2000,
        "wires": [
            [],
            [
                "d2199c124d76dab5"
            ]
        ]
    },
    {
        "id": "d2199c124d76dab5",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "hardware_name",
        "client": "8e3298efb51f0f8f",
        "chave": "hardware_name",
        "x": 400,
        "y": 2000,
        "wires": [
            [
                "9df20e219d4ad82c"
            ]
        ]
    },
    {
        "id": "9df20e219d4ad82c",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 2000,
        "wires": [
            [
                "df9b8eb0265a06ba"
            ],
            [
                "ba26890543904651"
            ]
        ]
    },
    {
        "id": "df9b8eb0265a06ba",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID hardware",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1400,
        "y": 1980,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "be563108ba4b0e25",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "seta status como Desenvolvimento",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 2100,
        "wires": [
            [],
            [
                "8edb43e5501d0797"
            ]
        ]
    },
    {
        "id": "8edb43e5501d0797",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "separa variaveis",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 2100,
        "wires": [
            [],
            [
                "f37f258b26298a53"
            ]
        ]
    },
    {
        "id": "f37f258b26298a53",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_hardware",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "por fim descreva esse hardware",
        "x": 720,
        "y": 2100,
        "wires": [
            [],
            [
                "5d88968db943d896"
            ]
        ]
    },
    {
        "id": "5d88968db943d896",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_hardware",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_hardware",
        "x": 920,
        "y": 2100,
        "wires": [
            [
                "db364661417e0850"
            ]
        ]
    },
    {
        "id": "db364661417e0850",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria hardware",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 2100,
        "wires": [
            [
                "b2de2aefb5b53a46"
            ]
        ]
    },
    {
        "id": "37fd3da4a3483b07",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria devicesetup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 1900,
        "wires": [
            [
                "6d4f218fd926c7f3"
            ]
        ]
    },
    {
        "id": "7fdd076b542b75a1",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria devicecompany",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1780,
        "wires": [
            [
                "b0e117cfbafdf865"
            ]
        ]
    },
    {
        "id": "ab5599a72b6ddf4a",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria devicetype",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 1660,
        "wires": [
            [
                "ca98de2321d3a16f"
            ]
        ]
    },
    {
        "id": "97642dcce7cd6777",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 2590,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "710f15bc625f321b",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "firmware",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "firmware não encontrado, descreva as seguintes informações do firmware separadas por *virgula*:\nversão, natureza, função, módulo usado, pasta",
        "x": 800,
        "y": 2240,
        "wires": [
            [],
            [
                "09325430337ec72d"
            ]
        ]
    },
    {
        "id": "09325430337ec72d",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "firmware",
        "client": "8e3298efb51f0f8f",
        "chave": "firmware",
        "x": 980,
        "y": 2240,
        "wires": [
            [
                "4cc86b05df139f61"
            ]
        ]
    },
    {
        "id": "b2de2aefb5b53a46",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "firmware_name",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "chegamos na ultima etapa, me informe o firmware do dispositivo",
        "x": 200,
        "y": 2220,
        "wires": [
            [],
            [
                "30aedc2fa4f00e4c"
            ]
        ]
    },
    {
        "id": "30aedc2fa4f00e4c",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "firmware_name",
        "client": "8e3298efb51f0f8f",
        "chave": "firmware_name",
        "x": 400,
        "y": 2220,
        "wires": [
            [
                "7197f6ce98a2fb28"
            ]
        ]
    },
    {
        "id": "7197f6ce98a2fb28",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 2220,
        "wires": [
            [
                "8ad2e92cf4bc278c"
            ],
            [
                "710f15bc625f321b"
            ]
        ]
    },
    {
        "id": "4cc86b05df139f61",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "seta status como E",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 2300,
        "wires": [
            [],
            [
                "597e19a469a9f028"
            ]
        ]
    },
    {
        "id": "597e19a469a9f028",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "separa variaveis",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 2300,
        "wires": [
            [],
            [
                "2cd7aef948ed3e88"
            ]
        ]
    },
    {
        "id": "2cd7aef948ed3e88",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_firmware",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "para terminar descreva esse firmware",
        "x": 620,
        "y": 2300,
        "wires": [
            [],
            [
                "f530cabe4a0d560b"
            ]
        ]
    },
    {
        "id": "f530cabe4a0d560b",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_firmware",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_firmware",
        "x": 820,
        "y": 2300,
        "wires": [
            [
                "dc2328dd10d6857f"
            ]
        ]
    },
    {
        "id": "dc2328dd10d6857f",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria firmware",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 2300,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "8ad2e92cf4bc278c",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID firmware",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1400,
        "y": 2200,
        "wires": [
            [
                "3a1469fd627a84ca"
            ]
        ]
    },
    {
        "id": "499bfa1ac6b4c5ad",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "success",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Cadastro de dispositivo bem sucedido*",
        "x": 2360,
        "y": 1440,
        "wires": [
            [],
            [
                "97642dcce7cd6777"
            ]
        ]
    },
    {
        "id": "09da89d8061c1e73",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria country",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1420,
        "wires": [
            [
                "5d5212b93bfc3c04",
                "7824979e32865f2f"
            ]
        ]
    },
    {
        "id": "161eb2a5bcf22d97",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria city",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 1300,
        "wires": [
            [
                "96e2215964b23931"
            ]
        ]
    },
    {
        "id": "a679850e7bfaf77d",
        "type": "delay",
        "z": "ada916479fb34c9b",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 180,
        "y": 1100,
        "wires": [
            [
                "4a737aea5725eae5"
            ]
        ]
    },
    {
        "id": "e0b9d08473592347",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "cria company",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 1180,
        "wires": [
            [
                "c7b9ba689a16895e"
            ]
        ]
    },
    {
        "id": "1ebfa0bdb51b738c",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_config",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "descreva essa configuração",
        "x": 270,
        "y": 2440,
        "wires": [
            [],
            [
                "b7784c239f0b8e5e"
            ]
        ]
    },
    {
        "id": "b7784c239f0b8e5e",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_config",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_config",
        "x": 450,
        "y": 2440,
        "wires": [
            [
                "94a431cc436c3937"
            ]
        ]
    },
    {
        "id": "94a431cc436c3937",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "return [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 2440,
        "wires": [
            [
                "829edcd4de9be1e4"
            ],
            [
                "07a563b4e1c55ecb"
            ]
        ]
    },
    {
        "id": "b341f5cc440dacaa",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastro Setup",
        "mode": "link",
        "links": [
            "5ea70f3a86590fd1",
            "e6af44e0c97b5246"
        ],
        "x": 585,
        "y": 40,
        "wires": []
    },
    {
        "id": "07a563b4e1c55ecb",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Pega data atual do cadastro",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 2460,
        "wires": [
            [
                "e27de1b50cf44676"
            ]
        ]
    },
    {
        "id": "e5ea9df3fd8f7a0f",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria Setup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1590,
        "y": 2540,
        "wires": [
            [
                "829edcd4de9be1e4"
            ]
        ]
    },
    {
        "id": "829edcd4de9be1e4",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "ID Setup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1780,
        "y": 2420,
        "wires": [
            [
                "cc40f10b83569aed"
            ]
        ]
    },
    {
        "id": "91583eae8eaff952",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "circuit",
        "info": "",
        "x": 130,
        "y": 2500,
        "wires": []
    },
    {
        "id": "750d0851b8bf7bac",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "CD",
        "info": "",
        "x": 130,
        "y": 2940,
        "wires": []
    },
    {
        "id": "0966084b6b33b9d6",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "CA",
        "info": "",
        "x": 130,
        "y": 2840,
        "wires": []
    },
    {
        "id": "12f82ee65935cbce",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "name_circuit",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "agora me informe a configuração do circuito começando pelo nome do circuito",
        "x": 190,
        "y": 2560,
        "wires": [
            [],
            [
                "b82bd0e98c351a5c"
            ]
        ]
    },
    {
        "id": "b82bd0e98c351a5c",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "name_circuit",
        "client": "8e3298efb51f0f8f",
        "chave": "name_circuit",
        "x": 370,
        "y": 2560,
        "wires": [
            [
                "d5cbefaef5a57a21"
            ]
        ]
    },
    {
        "id": "d5cbefaef5a57a21",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "return [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 2560,
        "wires": [
            [
                "29c8b5dd902fc8d5"
            ],
            [
                "55bf79e584e95be4"
            ]
        ]
    },
    {
        "id": "55bf79e584e95be4",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "phase",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "circuito não encontrado, informe a fase do circuito",
        "x": 750,
        "y": 2580,
        "wires": [
            [],
            [
                "618770b386be427a"
            ]
        ]
    },
    {
        "id": "618770b386be427a",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "phase",
        "client": "8e3298efb51f0f8f",
        "chave": "phase",
        "x": 890,
        "y": 2580,
        "wires": [
            [
                "d860cd3f5d4b0fd4"
            ]
        ]
    },
    {
        "id": "d860cd3f5d4b0fd4",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "breaker",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "em qual disjuntor esta conectado este circuito",
        "x": 1040,
        "y": 2580,
        "wires": [
            [],
            [
                "42d7a7715947abac"
            ]
        ]
    },
    {
        "id": "42d7a7715947abac",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "breaker",
        "client": "8e3298efb51f0f8f",
        "chave": "breaker",
        "x": 1200,
        "y": 2580,
        "wires": [
            [
                "a5ec786ba22cf10c"
            ]
        ]
    },
    {
        "id": "a5ec786ba22cf10c",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_circuit",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "faça uma breve descrição do circuito",
        "x": 830,
        "y": 2640,
        "wires": [
            [],
            [
                "d40b94aafcbe5e67"
            ]
        ]
    },
    {
        "id": "d40b94aafcbe5e67",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_circuit",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_circuit",
        "x": 1010,
        "y": 2640,
        "wires": [
            [
                "e6f2dff7f7ab0dc9"
            ]
        ]
    },
    {
        "id": "e27de1b50cf44676",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Set status como E",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 2460,
        "wires": [
            [
                "12f82ee65935cbce"
            ]
        ]
    },
    {
        "id": "e6f2dff7f7ab0dc9",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria Circuit",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 2640,
        "wires": [
            [
                "f5ed3ac3c0078845"
            ]
        ]
    },
    {
        "id": "f5ed3ac3c0078845",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "name_monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual o nome do dispositivo monitorado",
        "x": 230,
        "y": 2740,
        "wires": [
            [],
            [
                "032ad6e759edb631"
            ]
        ]
    },
    {
        "id": "032ad6e759edb631",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "name_monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "chave": "name_monitoreddevice",
        "x": 490,
        "y": 2740,
        "wires": [
            [
                "c9941263d9af64ce"
            ]
        ]
    },
    {
        "id": "c9941263d9af64ce",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "return [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2740,
        "wires": [
            [
                "46a71826d529e359"
            ],
            [
                "e222722cea368031"
            ]
        ]
    },
    {
        "id": "e222722cea368031",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "dispositivo monitorado não encontrado, descreva as seguintes informações do dispositivo separadas por *virgula*:\nconsumo mensal de kW, voltagem, potência",
        "x": 940,
        "y": 2760,
        "wires": [
            [],
            [
                "5c8c3c4e78152508"
            ]
        ]
    },
    {
        "id": "5c8c3c4e78152508",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "chave": "monitoreddevice",
        "x": 1140,
        "y": 2760,
        "wires": [
            [
                "3145e6643ab4aa96"
            ]
        ]
    },
    {
        "id": "29c8b5dd902fc8d5",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID Setup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 2540,
        "wires": [
            [
                "e5ea9df3fd8f7a0f"
            ]
        ]
    },
    {
        "id": "46a71826d529e359",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID Setup",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 2720,
        "wires": [
            [
                "e5ea9df3fd8f7a0f"
            ]
        ]
    },
    {
        "id": "3145e6643ab4aa96",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "desc_monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "faça uma breve descrição desse dispositivo ",
        "x": 780,
        "y": 2820,
        "wires": [
            [],
            [
                "53075dd7faabc622"
            ]
        ]
    },
    {
        "id": "53075dd7faabc622",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "desc_monitoreddevice",
        "client": "8e3298efb51f0f8f",
        "chave": "desc_monitoreddevice",
        "x": 1020,
        "y": 2820,
        "wires": [
            [
                "a193b759a6915f62"
            ]
        ]
    },
    {
        "id": "a193b759a6915f62",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria monitoreddevice",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 2820,
        "wires": [
            [
                "501ecc1c1b179b1c"
            ]
        ]
    },
    {
        "id": "7170407adb7b6d05",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "success",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Cadastro da configuração bem sucedido*",
        "x": 1760,
        "y": 2540,
        "wires": [
            [],
            [
                "cc40f10b83569aed"
            ]
        ]
    },
    {
        "id": "cc40f10b83569aed",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 1990,
        "y": 2540,
        "wires": [
            []
        ]
    },
    {
        "id": "3d5991ca01f324e7",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "CD",
        "info": "",
        "x": 130,
        "y": 3200,
        "wires": []
    },
    {
        "id": "5d1f6f50e6e14c6e",
        "type": "comment",
        "z": "ada916479fb34c9b",
        "name": "CD",
        "info": "",
        "x": 130,
        "y": 3460,
        "wires": []
    },
    {
        "id": "e5e6bcc211823bed",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "loraacess",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ispositivo LoRa não encontrado, descreva as seguintes informações do dispositivo separadas por *virgula*:\nendereço EUI, server, key OTAA, perfil do dispositivo",
        "x": 880,
        "y": 3120,
        "wires": [
            [],
            [
                "2789b68264c916d2"
            ]
        ]
    },
    {
        "id": "2789b68264c916d2",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "loraacess",
        "client": "8e3298efb51f0f8f",
        "chave": "loraacess",
        "x": 1040,
        "y": 3120,
        "wires": [
            [
                "5994b49f199beab6"
            ]
        ]
    },
    {
        "id": "7ac30ec85a678860",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "loradevice_name",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual o nome do dispositivo lora",
        "x": 250,
        "y": 3100,
        "wires": [
            [],
            [
                "ffba2f614578d0a2"
            ]
        ]
    },
    {
        "id": "ffba2f614578d0a2",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "loradevice_name",
        "client": "8e3298efb51f0f8f",
        "chave": "loradevice_name",
        "x": 470,
        "y": 3100,
        "wires": [
            [
                "d963d1c8181202f3"
            ]
        ]
    },
    {
        "id": "88b3af086ec71bb1",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID loradevice",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1840,
        "y": 3080,
        "wires": [
            [
                "5509871bdca90eba"
            ]
        ]
    },
    {
        "id": "d963d1c8181202f3",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 3100,
        "wires": [
            [
                "88b3af086ec71bb1"
            ],
            [
                "e5e6bcc211823bed"
            ]
        ]
    },
    {
        "id": "5994b49f199beab6",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "seta status como Active",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 3180,
        "wires": [
            [
                "43a52ebd066e8e6e"
            ]
        ]
    },
    {
        "id": "8b4d9d5221b28c34",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria loradevice",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1600,
        "y": 3180,
        "wires": [
            [
                "88b3af086ec71bb1",
                "a817092551b6b808"
            ]
        ]
    },
    {
        "id": "a817092551b6b808",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "success",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Cadastro de dispositivo bem sucedido*",
        "x": 1780,
        "y": 3180,
        "wires": [
            [],
            [
                "5509871bdca90eba"
            ]
        ]
    },
    {
        "id": "5509871bdca90eba",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 2010,
        "y": 3180,
        "wires": [
            []
        ]
    },
    {
        "id": "43a52ebd066e8e6e",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria loraacess",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 3180,
        "wires": [
            [
                "7457ab796941e863"
            ]
        ]
    },
    {
        "id": "c3ed680749dcf2bc",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "mqttaccess",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "qual o id do acesso MQTT",
        "x": 230,
        "y": 3380,
        "wires": [
            [],
            [
                "fb5c4896c1e3ad98"
            ]
        ]
    },
    {
        "id": "fb5c4896c1e3ad98",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "mqttaccess",
        "client": "8e3298efb51f0f8f",
        "chave": "mqttaccess",
        "x": 450,
        "y": 3380,
        "wires": [
            [
                "ab2a241214723498"
            ]
        ]
    },
    {
        "id": "ab2a241214723498",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Verifica se existe",
        "func": "\nreturn [msg, msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 3380,
        "wires": [
            [
                "13babaae9b4dc43e"
            ],
            []
        ]
    },
    {
        "id": "13babaae9b4dc43e",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Retorna ID mqttaccess",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1840,
        "y": 3360,
        "wires": [
            [
                "12054ef3c142816c"
            ]
        ]
    },
    {
        "id": "3d1973ee4ac2cc72",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "loraacess",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ispositivo LoRa não encontrado, descreva as seguintes informações do dispositivo separadas por *virgula*:\nendereço EUI, server, key OTAA, perfil do dispositivo",
        "x": 880,
        "y": 3400,
        "wires": [
            [],
            [
                "80c9c271cce33694"
            ]
        ]
    },
    {
        "id": "8d301da1e7809f92",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria loradevice",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1600,
        "y": 3460,
        "wires": [
            [
                "13babaae9b4dc43e",
                "aed784b28dc8654e"
            ]
        ]
    },
    {
        "id": "80c9c271cce33694",
        "type": "whatsapp-storemessage",
        "z": "ada916479fb34c9b",
        "name": "loraacess",
        "client": "8e3298efb51f0f8f",
        "chave": "loraacess",
        "x": 1040,
        "y": 3400,
        "wires": [
            [
                "37d201de5cb73d10"
            ]
        ]
    },
    {
        "id": "37d201de5cb73d10",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "seta status como Active",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 3460,
        "wires": [
            [
                "e042ecc7976270fc"
            ]
        ]
    },
    {
        "id": "e042ecc7976270fc",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "Cria loraacess",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 3460,
        "wires": [
            [
                "e7682581d325cfed"
            ]
        ]
    },
    {
        "id": "4d53d4615bc66ddd",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva origem",
        "func": "msg.payload.caminho = \"Menu 1\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 520,
        "wires": [
            [
                "a4e2ef51a7a5d276"
            ]
        ]
    },
    {
        "id": "1a2b90f18b99763d",
        "type": "switch",
        "z": "ada916479fb34c9b",
        "name": "",
        "property": "payload.caminho",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Menu 1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Setup",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2150,
        "y": 880,
        "wires": [
            [
                "a14ce7337d92b5d1"
            ],
            [
                "72b428ee9c99fa58"
            ]
        ]
    },
    {
        "id": "f74a97668584cd54",
        "type": "switch",
        "z": "ada916479fb34c9b",
        "name": "",
        "property": "payload.caminho",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Menu 1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Setup",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Dispositivo LoRa",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Dispositivo MQTT",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 2210,
        "y": 1500,
        "wires": [
            [
                "499bfa1ac6b4c5ad"
            ],
            [
                "6f40bdbcc8b3792d"
            ],
            [
                "8a67f6a04ebb90ac"
            ],
            [
                "f4ab4051cd2b597b"
            ]
        ]
    },
    {
        "id": "501ecc1c1b179b1c",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva origem",
        "func": "msg.payload.caminho = \"Setup\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 2900,
        "wires": [
            [
                "a6a1f04d403246f6"
            ]
        ]
    },
    {
        "id": "e109f6eb855c539b",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "CA Setup",
        "links": [
            "72b428ee9c99fa58"
        ],
        "x": 505,
        "y": 2900,
        "wires": [
            [
                "e28bc38892d8ec9b"
            ]
        ]
    },
    {
        "id": "a46f0a4f61390c9e",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastra Área",
        "mode": "link",
        "links": [
            "6fb3876dd78e4712",
            "91e812d6845a53c4"
        ],
        "x": 455,
        "y": 2900,
        "wires": []
    },
    {
        "id": "e28bc38892d8ec9b",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva id área",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 2900,
        "wires": [
            [
                "6419e29b7a864ed5"
            ]
        ]
    },
    {
        "id": "6419e29b7a864ed5",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastra Dispositivo",
        "mode": "link",
        "links": [
            "b53d88c908a3b026"
        ],
        "x": 135,
        "y": 3000,
        "wires": []
    },
    {
        "id": "ede59192376ff232",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "CD Setup",
        "links": [
            "6f40bdbcc8b3792d"
        ],
        "x": 175,
        "y": 3000,
        "wires": [
            [
                "f5b45b3bc766a9e5"
            ]
        ]
    },
    {
        "id": "f5b45b3bc766a9e5",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva id dispositivo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 2980,
        "wires": [
            [
                "e5ea9df3fd8f7a0f",
                "7170407adb7b6d05"
            ]
        ]
    },
    {
        "id": "6f40bdbcc8b3792d",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "CD Setup",
        "mode": "link",
        "links": [
            "ede59192376ff232",
            "f48929f807212255",
            "b658f7281c4dd933"
        ],
        "x": 2315,
        "y": 1480,
        "wires": []
    },
    {
        "id": "72b428ee9c99fa58",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "CA Setup",
        "mode": "link",
        "links": [
            "e109f6eb855c539b"
        ],
        "x": 2255,
        "y": 900,
        "wires": []
    },
    {
        "id": "8a67f6a04ebb90ac",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "CD LoRa",
        "mode": "link",
        "links": [],
        "x": 2315,
        "y": 1520,
        "wires": []
    },
    {
        "id": "f4ab4051cd2b597b",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "CD MQTT",
        "mode": "link",
        "links": [],
        "x": 2315,
        "y": 1560,
        "wires": []
    },
    {
        "id": "f48929f807212255",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "CD Setup",
        "links": [
            "6f40bdbcc8b3792d"
        ],
        "x": 385,
        "y": 3260,
        "wires": [
            [
                "5759146a7d3c8d13"
            ]
        ]
    },
    {
        "id": "5759146a7d3c8d13",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva id dispositivo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 3260,
        "wires": [
            [
                "8b4d9d5221b28c34"
            ]
        ]
    },
    {
        "id": "0e8edfd14c4af3e9",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastra Dispositivo",
        "mode": "link",
        "links": [
            "b53d88c908a3b026"
        ],
        "x": 345,
        "y": 3260,
        "wires": []
    },
    {
        "id": "7457ab796941e863",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva origem",
        "func": "msg.payload.caminho = \"Dispositivo LoRa\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 3260,
        "wires": [
            [
                "0e8edfd14c4af3e9"
            ]
        ]
    },
    {
        "id": "b658f7281c4dd933",
        "type": "link in",
        "z": "ada916479fb34c9b",
        "name": "CD Setup",
        "links": [
            "6f40bdbcc8b3792d"
        ],
        "x": 375,
        "y": 3520,
        "wires": [
            [
                "a5050a448df7aa08"
            ]
        ]
    },
    {
        "id": "a5050a448df7aa08",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva id dispositivo",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 3520,
        "wires": [
            [
                "8d301da1e7809f92"
            ]
        ]
    },
    {
        "id": "8f2c6d004eab6879",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Cadastra Dispositivo",
        "mode": "link",
        "links": [
            "b53d88c908a3b026"
        ],
        "x": 335,
        "y": 3520,
        "wires": []
    },
    {
        "id": "e7682581d325cfed",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "salva origem",
        "func": "msg.payload.caminho = \"Dispositivo MQTT\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 3520,
        "wires": [
            [
                "8f2c6d004eab6879"
            ]
        ]
    },
    {
        "id": "aed784b28dc8654e",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "success",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "*Cadastro do acesso MQTT bem sucedido*",
        "x": 1780,
        "y": 3460,
        "wires": [
            [],
            [
                "12054ef3c142816c"
            ]
        ]
    },
    {
        "id": "12054ef3c142816c",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 2010,
        "y": 3460,
        "wires": [
            []
        ]
    },
    {
        "id": "a6a1f04d403246f6",
        "type": "whatsapp-sendmessage",
        "z": "ada916479fb34c9b",
        "name": "CA",
        "client": "8e3298efb51f0f8f",
        "force": true,
        "typing": true,
        "sendRead": true,
        "to": "",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "agora precisamos cadastrar ou emcontrar a área que este dispositivo esta conectado",
        "x": 350,
        "y": 2900,
        "wires": [
            [],
            [
                "a46f0a4f61390c9e"
            ]
        ]
    },
    {
        "id": "7824979e32865f2f",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 1768.3333740234375,
        "y": 1315.6666259765625,
        "wires": [
            []
        ]
    },
    {
        "id": "b9187570612c4cd6",
        "type": "link out",
        "z": "ada916479fb34c9b",
        "name": "Menu 1",
        "mode": "link",
        "links": [
            "73487e5eed0f1cb0"
        ],
        "x": 575,
        "y": 160,
        "wires": []
    },
    {
        "id": "bd199afe1871a9e3",
        "type": "whatsapp-endchat",
        "z": "ada916479fb34c9b",
        "client": "8e3298efb51f0f8f",
        "x": 270,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "28c222dddbaf6a81",
        "type": "file in",
        "z": "ada916479fb34c9b",
        "name": "Pega arquivo do usuario",
        "filename": "payload.path",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 690,
        "y": 220,
        "wires": [
            [
                "8a8fe8aae6eebeaa"
            ]
        ]
    },
    {
        "id": "f514a2d97e733875",
        "type": "debug",
        "z": "ada916479fb34c9b",
        "name": "debug 17",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1220,
        "y": 220,
        "wires": []
    },
    {
        "id": "8a8fe8aae6eebeaa",
        "type": "json",
        "z": "ada916479fb34c9b",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": true,
        "x": 890,
        "y": 220,
        "wires": [
            [
                "f514a2d97e733875",
                "09af0daf6c50d443"
            ]
        ]
    },
    {
        "id": "6d091e7ecbc38216",
        "type": "change",
        "z": "ada916479fb34c9b",
        "name": "remove exeço",
        "rules": [
            {
                "t": "change",
                "p": "payload.path",
                "pt": "msg",
                "from": "@s.whatsapp.net",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 220,
        "wires": [
            [
                "28c222dddbaf6a81"
            ]
        ]
    },
    {
        "id": "4ee0097088b16ee4",
        "type": "file",
        "z": "ada916479fb34c9b",
        "name": "",
        "filename": "payload",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 640,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "09af0daf6c50d443",
        "type": "function",
        "z": "ada916479fb34c9b",
        "name": "function 7",
        "func": "msg.user.path = msg.payload.path\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 280,
        "wires": [
            [
                "f514a2d97e733875"
            ]
        ]
    },
    {
        "id": "facbed0f0a5fe6b9",
        "type": "comment",
        "z": "291ed776b1a44ede",
        "g": "e952eb37e4e75b49",
        "name": "Pega Mensagem",
        "info": "",
        "x": 160,
        "y": 140,
        "wires": []
    },
    {
        "id": "66bddab12845b26a",
        "type": "subflow:3c1ed78bc6df6cbd",
        "z": "291ed776b1a44ede",
        "g": "e952eb37e4e75b49",
        "name": "",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "e20599524b513292"
            ]
        ]
    },
    {
        "id": "e20599524b513292",
        "type": "subflow:d85720db46554979",
        "z": "291ed776b1a44ede",
        "g": "19b0b2dff6e05607",
        "name": "",
        "x": 440,
        "y": 200,
        "wires": [
            [
                "af3c1905ae0804ed"
            ]
        ]
    },
    {
        "id": "f3269ecc3813a185",
        "type": "subflow:96676db9a2f887ed",
        "z": "291ed776b1a44ede",
        "g": "20cbcb56ccfe438a",
        "name": "",
        "x": 250,
        "y": 360,
        "wires": [
            [
                "636b8d437d27c1ae"
            ]
        ]
    },
    {
        "id": "47b9d30aaa63a251",
        "type": "link in",
        "z": "291ed776b1a44ede",
        "g": "20cbcb56ccfe438a",
        "name": "Tratamento dos dados",
        "links": [
            "deff96f79e54b357"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "f3269ecc3813a185"
            ]
        ]
    },
    {
        "id": "af3c1905ae0804ed",
        "type": "link out",
        "z": "291ed776b1a44ede",
        "g": "19b0b2dff6e05607",
        "name": "Verificação de cadastro em banco",
        "mode": "link",
        "links": [
            "cd20082090c4089f"
        ],
        "x": 625,
        "y": 200,
        "wires": []
    },
    {
        "id": "636b8d437d27c1ae",
        "type": "link out",
        "z": "291ed776b1a44ede",
        "g": "20cbcb56ccfe438a",
        "name": "inserção",
        "mode": "link",
        "links": [
            "05fc6a7213ccabdd",
            "c36938b99c6ef84d"
        ],
        "x": 385,
        "y": 360,
        "wires": []
    },
    {
        "id": "e27ab5b3074da3e9",
        "type": "comment",
        "z": "291ed776b1a44ede",
        "g": "19b0b2dff6e05607",
        "name": "Trata mensagem",
        "info": "",
        "x": 380,
        "y": 140,
        "wires": []
    },
    {
        "id": "088f26f8580eb077",
        "type": "comment",
        "z": "291ed776b1a44ede",
        "g": "20cbcb56ccfe438a",
        "name": "Formata mensagem",
        "info": "",
        "x": 170,
        "y": 300,
        "wires": []
    },
    {
        "id": "31018fb90686d6e0",
        "type": "comment",
        "z": "291ed776b1a44ede",
        "g": "96613fce14ad40a8",
        "name": "Recebimento da Mensagem",
        "info": "",
        "x": 160,
        "y": 60,
        "wires": []
    },
    {
        "id": "fd6966f62c5f4377",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "1c1ece291a498e9c",
        "name": "Inserção",
        "info": "",
        "x": 400,
        "y": 300,
        "wires": []
    },
    {
        "id": "51f69b1bdc9a3ec2",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "a103f22c7ee8d82d",
        "name": "Verificação de cadastro em banco",
        "info": "",
        "x": 220,
        "y": 140,
        "wires": []
    },
    {
        "id": "deff96f79e54b357",
        "type": "link out",
        "z": "e8287d7944e724f7",
        "g": "a103f22c7ee8d82d",
        "name": "Tratamento dos dados",
        "mode": "link",
        "links": [
            "4a4d5b6117095a6d",
            "47b9d30aaa63a251"
        ],
        "x": 425,
        "y": 200,
        "wires": []
    },
    {
        "id": "cd20082090c4089f",
        "type": "link in",
        "z": "e8287d7944e724f7",
        "g": "a103f22c7ee8d82d",
        "name": "Verificação de cadastro em banco",
        "links": [
            "72070532429bb061",
            "af3c1905ae0804ed"
        ],
        "x": 115,
        "y": 200,
        "wires": [
            [
                "02e1108f9f5494c7"
            ]
        ]
    },
    {
        "id": "be7050e23063ac3f",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "69ec59095e3f8d2e",
        "name": "Parametros do postgres",
        "info": "",
        "x": 680,
        "y": 300,
        "wires": []
    },
    {
        "id": "2ff7790cc95546a4",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "10821c84251bd152",
        "name": "Pega Fases",
        "info": "",
        "x": 150,
        "y": 300,
        "wires": []
    },
    {
        "id": "02e1108f9f5494c7",
        "type": "subflow:669b2c5a031c1ea8",
        "z": "e8287d7944e724f7",
        "g": "a103f22c7ee8d82d",
        "name": "",
        "x": 270,
        "y": 200,
        "wires": [
            [
                "deff96f79e54b357"
            ]
        ]
    },
    {
        "id": "f6ee5a147509f8a7",
        "type": "subflow:34a182d43462f44e",
        "z": "e8287d7944e724f7",
        "g": "10821c84251bd152",
        "name": "",
        "x": 230,
        "y": 360,
        "wires": [
            [
                "a1a28835cc78a456"
            ]
        ]
    },
    {
        "id": "c36938b99c6ef84d",
        "type": "link in",
        "z": "e8287d7944e724f7",
        "g": "10821c84251bd152",
        "name": "inserção",
        "links": [
            "15cd7bec8dbe3c11",
            "636b8d437d27c1ae"
        ],
        "x": 115,
        "y": 360,
        "wires": [
            [
                "f6ee5a147509f8a7"
            ]
        ]
    },
    {
        "id": "b7ae2ba514a725d7",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "98457142acc80c09",
        "name": "Sincronismo",
        "info": "",
        "x": 150,
        "y": 460,
        "wires": []
    },
    {
        "id": "37b3107ac0c0715b",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "7545bc9af9735841",
        "name": "sincronimo quantidade de dados no banco",
        "info": "",
        "x": 280,
        "y": 540,
        "wires": []
    },
    {
        "id": "be4493f2c2f75c3e",
        "type": "inject",
        "z": "e8287d7944e724f7",
        "g": "7545bc9af9735841",
        "name": "",
        "props": [
            {
                "p": "permanence_date",
                "v": "30",
                "vt": "num"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 210,
        "y": 600,
        "wires": [
            [
                "20bafe5cc7c9ba94"
            ]
        ]
    },
    {
        "id": "20bafe5cc7c9ba94",
        "type": "subflow:09685600d012d69f",
        "z": "e8287d7944e724f7",
        "g": "7545bc9af9735841",
        "name": "",
        "x": 430,
        "y": 600,
        "wires": []
    },
    {
        "id": "a1a28835cc78a456",
        "type": "subflow:f74e1af5aec31631",
        "z": "e8287d7944e724f7",
        "g": "1c1ece291a498e9c",
        "name": "",
        "x": 440,
        "y": 360,
        "wires": [
            [
                "efcc528c06ac65c3"
            ]
        ]
    },
    {
        "id": "efcc528c06ac65c3",
        "type": "subflow:d48fb9af316b0fe2",
        "z": "e8287d7944e724f7",
        "g": "69ec59095e3f8d2e",
        "name": "",
        "x": 680,
        "y": 360,
        "wires": []
    },
    {
        "id": "7e8e57be847ffa64",
        "type": "comment",
        "z": "e8287d7944e724f7",
        "g": "8d259b92e5c57f37",
        "name": "Comunicação com Banco de dados",
        "info": "",
        "x": 180,
        "y": 60,
        "wires": []
    }
]